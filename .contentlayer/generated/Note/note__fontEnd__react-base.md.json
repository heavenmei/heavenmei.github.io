{
  "title": "React基础",
  "tags": [
    "Front"
  ],
  "author": "heavenmei",
  "subtitle": null,
  "description": null,
  "date": "2022-10-01T00:00:00.000Z",
  "body": {
    "raw": "\n# 基础篇\n\n> [中文文档](https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2F%3Fspm%3Da2cl9.codeup_devops2020_goldlog_projectFiles.0.0.7cc140efSfVrlB&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)\n>\n> [官方文档](https://security.feishu.cn/link/safety?target=https%3A%2F%2Fzh-hans.reactjs.org%2F&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)\n\n**安装**\n\n```bash\nnpm install -g create-react-app\ncreate-react-app 项目名称\n```\n\n## JSX\n\n类 XML 语法：唯一特殊的是可以用大括号来加入 JavaScript 表达式。遇到 HTML 标签（以 < 开头），就用 HTML 规则解析；遇到代码块（以 `{` 开头），就用 JavaScript 规则解析。\n\n- 两种元素：DOM 元素（小写字母开头）＆ React 组件（大写字母开头）\n\n- 返回单个标签，标签必须闭合\n\n- **驼峰命名**，`className`代替 css 中的 class，通过`对象`包裹为标签传递内联样式\n\n- js 表达式用一对大括号`{ }`  包起来。\n\n- 在 { } 中不能使用语句（if 语句、for 语句等等）, 但可以使用求值表达式与函数表达式\n\n**事件绑定**\n\n1. JSX 事件用驼峰命名，而 HTML 是小写命名\n2. JSX 事件绑定传递一个回调函数，而 HTML 是传递一个字符串\n3. JSX 不能通过 return/false 阻止默认事件，需要显示调用`preventDefault()`/`stopProgation()`\n\n**条件渲染**\n\n使用 || ，&&，if…else，switch 等条件判断返回 jsx，返回 null，undefined 时不渲染\n\n**列表渲染**\n\nmap、filter 遍历数组，将数组的每一项变成一个 JSX 元素。 key 帮助 React 识别哪些元素改变了，比如被添加或删除。因你应当给数组中的每一个元素赋予一个唯一的标识。\n\n## 组件\n\n**3 种定义方式**\n\n- JavaScript Function: 一个 React 组件就是一个函数\n\n  ```jsx\n  function Article(){\n      return({\n          <div></div>\n      })\n  }\n  ```\n\n- ES6 class:面向对象风格\n\n  ```jsx\n  class Article extends React.Component {\n    constructor(props) {\n      super(props);\n    }\n    render() {\n      return <div></div>;\n    }\n  }\n  ```\n\n  和 Function 组件区别\n\n  1. 语法差异：constuctor，render 函数，bind 等等…\n  2. hooks 的方法在 Class 组件中均有另一套对应的实现\n  3. <u>\n       function 组件每次渲染都会有独立 props/state ,而 class 组件总是会通过 this\n       拿到最新的 props/state\n     </u>\n  4. class 创建组件，函数成员不会自动绑定 this，需要[手动绑定](https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/preview_tpl3/?tpl_id=md&version=0&mount_point=explorer&updatePreviewTplSeed=1&sl=1&source=explorer#bind)\n\n- React.createClass: 已废弃\n\n  ```jsx\n  const Article = React.createClass({\n    render() {\n      return <div></div>;\n    },\n  });\n  ```\n\n**高阶组件**\n\n高阶函数：接受值或返回值是函数的函数\n\n```js\nconst add = (x) => (y) => x + y;\nadd(1)(2);\n\n//Babel 转换后\nvar add = function add(x) {\n  return function (y) {\n    return x + y;\n  };\n};\n```\n\n高阶组件：接受值和返回值都是组件的函数。主要用于属性代理，控制组件的属性和状态，以及渲染劫持（为组件添加同意的样式或布局）\n\n```jsx\nconst Container = (WrappedComponent) =>{\n    class extends React.Component{\n        render(){\n            let newProps = {status:'ok'}\n            return <WrappedComponent {...this.props} {...newProps} />\n        }    }}\n```\n\n## State\n\nstate 是组件内部的状态，React 把组件看成是一个状态机（State Machines）。\n\n- **不要直接修改 state**。直接修改 state 可以给组件的 state 重新赋值，但无法触发组件的 re-render。\n- **state 的更新可能是异步的**。\n- **调用 steState，React 会把提供的对象合并到当前的 State 中（浅拷贝）**\n\n### 渲染和提交\n\nReact 主要分两个阶段执行工作：render 和 commit，当触发更新的时候，react 先进行 render 阶段再进行 commit\n\n阶段。在不同的阶段会触发不同的 hooks（Function 组件），或者调用不同的生命周期函数（Class 组件）\n\n![image-20220424101251453](https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241012423.png)\n\n)\n\n![image-20220424110205496](https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241102296.png)\n\n- **React 在一个渲染的事件处理程序中保持 state“固定（快照）”**\n\n  状态变量的值在渲染中永远不会改变，即使它的事件处理程序的代码是<u>异步</u>的。可以理解成 Trigger 阶段确定了订单，就不会变更。\n\n  ```jsx\n  const [number, setNumber] = useState(0);\n  <button onClick={() => {\n          setNumber(number + 1);//setNumber(number + 1):number是0,下一次渲染时更改number为1\n          setNumber(number + 1);//setNumber(number + 1):number是0,下一次渲染时更改number为1\n          setNumber(number + 1);//setNumber(number + 1):number是0,下一次渲染时更改number为1\n          //setNumber(n => n + 1); +3\n      }}>+3</button>\n  //其实只+1,\n\n  <button onClick={() => {\n          setNumber(number + 5);\n          setTimeout(() => {\n              alert(number);//0\n          }, 3000);\n      }}>+5</button>\n  ```\n\n- **系列状态更新排队执行**（异步）\n\n  set 状态变量实际上就是点单状态（连续点单）。React 会等到事件处理程序中的所有代码都运行后，才会 re-render 进入下一次渲染流程。下一步 Trigger 触发。\n\n  ![https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241019663.png](https://security.feishu.cn/link/safety?target=https%3A%2F%2Fgitee.com%2Fheavenmei%2FLearningNotes%2Fraw%2Fmaster%2Fimg%2F202204241019663.png&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)\n\n- **state 只在 re-render 后触发更新**  在 re-render 时先计算 state 的更新系列（Trigger），再渲染 DOM 节点（Render），最后呈现（Commit）\n\n  ![image-20220424095200807](https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204240952282.png)\n\n### 更新对象\n\n**State 保存的状态必须只读，配合 set 改变，不能直接改变你在 React 状态下持有的对象**\n\n> 这里仿佛和 Vue2 里面响应式原理的缺陷差不多，直接更改数组和对象是无法让数据变成响应式触发 re-render 的。\n>\n> [Immer](https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-objects-in-state%23write-concise-update-logic-with-immer&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)，它 提供的`draft`是一种特殊类型的对象，称为 Proxy。和 Vue3 的响应式改进差不多。可以用来在 React 中避免嵌套太深导致的重复代码\n\n创建一个新对象并将其传递给状态设置函数 ，将现有数据复制到其中。\n\n```jsx\nconst [person, setPerson] = useState({\n  firstName: \"Barbara\",\n  lastName: \"Hepworth\",\n  email: \"bhepworth@sculpture.com\",\n});\n//不起作用\nperson.firstName = e.target.value;\n\n//正确做法\nsetPerson({\n  ...person, // Copy the old fields  浅拷贝\n  firstName: e.target.value, // But override this one\n});\n//React会把提供的对象合并到当前的State中（浅拷贝）\nsetPerson({\n  firstName: e.target.value, // But override this one\n});\n\n//嵌套用法\nsetPerson({\n  ...person,\n  artwork: {\n    ...person.artwork,\n    image: e.target.value,\n  },\n});\n```\n\n### 更新数组\n\n避免使用：`arr[0] = 'bird'`，`push()`and `pop()`。\n\n应该：将一个新数组传递给您的状态设置函数。\n\n|      | 避免（改变数组）            | 喜欢（返回一个新数组）                                                                                                                                                                                                                               |\n| ---- | --------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| 添加 | `push`, `unshift`           | `concat`,`[...arr]`展开语法（[示例](https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-arrays-in-state%23adding-to-an-array&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)） |\n| 去除 | `pop`, `shift`, `splice`    | `filter`, `slice`([示例](https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-arrays-in-state%23removing-from-an-array&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN))         |\n| 更换 | `splice`,`arr[i] = ...`赋值 | `map`（[示例](https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-arrays-in-state%23replacing-items-in-an-array&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)）              |\n| 排序 | `reverse`, `sort`           | 首先复制数组（[示例](https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-arrays-in-state%23making-other-changes-to-an-array&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)）  |\n\n```jsx\nconst [artists, setArtists] = useState([]);\nsetArtists([\n  { id: nextId++, name: name },\n  ...artists, // Put old items at the end\n]);\n\nsetArtists(artists.filter((a) => a.id !== artist.id));\n```\n\n==注意==\n\n即使复制一个数组，也不能直接改变其中(浅拷贝)，可以使用`map`没有突变的更新版本替换旧项目\n\n```js\n//哒咩\nconst myNextList = [...myList];\nconst artwork = myNextList.find(a => a.id === artworkId);\nartwork.seen = nextSeen; // Problem: mutates an existing item\nsetMyList(myNextList);\n//应该\nsetMyList(myList.map(artwork => {\n  if (artwork.id === artworkId) {\n    // Create a *new* object with changes\n    return { ...artwork, seen: nextSeen };\n  } else {\n    // No changes\n    return artwork;\n  }\n});\n```\n\n## Hook\n\nReact 16.8 的新增特性。Hooks 是一系列特殊的函数，可以让你“钩入” React 的特性，即在函数组件中也可以使用 state 及其他 React 特性，不必定义 Class 组件。例如 useState、useContext\n\n### Hook 规则\n\n1. 只在最顶层使用 Hook\n\n   **不要在循环，条件或嵌套函数中调用 Hook，**  确保总是在你的 React 函数的最顶层以及任何 return 之前调用他们。遵守这条规则，就能确保 hooks 在每一次渲染中都按照同样的顺序被调用，这让 React 能够在多次的 useState 和 useEffect 调用之间保持 hooks 状态的正确\n\n2. 只在 React 函数中调用 Hook\n\n   **不要在普通的 JavaScript 函数中调用 Hook。**你可以：\n\n   - ✅ 在 React 的函数组件中调用 Hook\n   - ✅ 在自定义 Hook 中调用其他 Hook\n\n### useReducer\n\n减速器是处理状态的另一种方式。随着该组件的增长，散布在其中的状态逻辑数量也在增长。为了降低这种复杂性并将所有逻辑保存在一个易于访问的位置，您可以将该状态逻辑移动到组件外部的单个函数中\n\n您可以通过三个步骤从迁移`useState`到：`useReducer`\n\n1. 从设置状态转移到调度动作。传递给的对象\n\n   ```js\n   function handleDeleteTask(taskId) {\n     dispatch(\n       // \"action\" object:\n       {\n         type: \"deleted\",\n         id: taskId,\n       }\n     );\n   }\n   ```\n\n2. 写一个 reducer 函数。\n\n   ```js\n   function tasksReducer(tasks, action) {\n     //(当前状态, 对象声明)\n     switch (action.type) {\n       case \"added\": {\n         return [\n           ...tasks,\n           {\n             //返回下一个状态\n             id: action.id,\n             text: action.text,\n             done: false,\n           },\n         ];\n       }\n       case \"deleted\": {\n         return tasks.filter((t) => t.id !== action.id);\n       }\n       default: {\n         throw Error(\"Unknown action: \" + action.type);\n       }\n     }\n   }\n   ```\n\n3. 使用组件中的减速器。\n\n   ```js\n   import { useReducer } from \"react\";\n   //替换useState\n   const [tasks, dispatch] = useReducer(tasksReducer, initialTasks); //(减速器功能、初始状态)\n   //返回有状态的值、分派函数（将用户操作“分派”到reducer）\n   ```\n\n> 规定\n\n- 按照惯例，通常给 dispatch 一个 type 描述发生了什么的字符串，并在其他字段中传递任何附加信息。\n- 约定在 reducer 中使用 switch 代替 if/else\n\n**[useReducer+Context](https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fscaling-up-with-reducer-and-context&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)**：实现深层传递，不局限于父子显示传递\n\n### useEffect\n\n用来进行副作用的处理，如获取服务端数据、原生事件绑定等。它跟 class 组件中的  `componentDidMount`、`componentDidUpdate`  和  `componentWillUnmount`  具有相同的用途，只不过被合并成了一个 API。\n\n与  `componentDidMount`  或  `componentDidUpdate`  不同，使用  `useEffect`  调度的 effect 不会阻塞浏览器更新屏幕，这让你的应用看起来响应更快。大多数情况下，effect **不需要同步地执行**。\n\n当你调用  `useEffect`  时，就是在告诉 React 在完成对 DOM 的更改后运行你的“副作用”函数。默认情况下，它在第一次渲染之后和每次更新之后都会执行.不用再去考虑“挂载”还是“更新”.\n\n- 通过函数的返回值清理副作用， React 会在组件卸载的时候执行清除操作。\n\n```js\nuseEffect(() => {\n  ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n  return () => {\n    ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n  };\n});\n```\n\n- 利用第二个参数，控制 useEffect 入参函数的执行，当依赖变化的时候 useEffect 入参函数才会执行，\n\n```js\nuseEffect(() => {\n  document.title = `You clicked ${count} times`;\n}, [count]); // 仅在 count 更改时更新\n```\n\n### useRef\n\n> 用于缓存数据\n\nref 的改变不会重新触发 render，保存不用于渲染的值。你不会经常需要它们。\n\n`useRef`  返回一个可变的 ref 对象，其  `.current`  属性被初始化为传入的参数。返回的 ref 对象在组件的整个生命周期内持续存在。\n\n```js\n//返回\n{\n  current: 0; // The value you passed to useRef\n}\n//Example\n//组件不会随着每个增量重新渲染。与 state 一样，refs 在重新渲染之间由 React 保留。\n//但是，设置state会重新渲染组件。更改redf不会！\nimport { useRef } from \"react\";\n\nexport default function Counter() {\n  let ref = useRef(0);\n\n  function handleClick() {\n    ref.current = ref.current + 1;\n    alert(\"You clicked \" + ref.current + \" times!\");\n  }\n\n  return <button onClick={handleClick}>Click me! </button>;\n}\n```\n\n**手写 useRef**\n\n```js\nfunction useRef(initialValue) {\n  const [ref, unused] = useState({ current: initialValue });\n  return ref;\n}\n```\n\n**refs 和 state 的区别**\n\n| redfs                                     | state                                                                                                                                                                                                                                                   |\n| ----------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| 返回`{ current: initialValue }`             | 返回[value, setValue]                                                                                                                                                                                                                                   |\n| 更改时不会触发重新渲染。                  | 更改时触发重新渲染。                                                                                                                                                                                                                                    |\n| 可变的—可在渲染过程之外修改 current       | “不可变”—您必须使用 setState 以排队重新渲染。                                                                                                                                                                                                           |\n| 您不应该在渲染期间读取（或写入）current。 | 您可以随时读取状态。但是，每个渲染都有自己的状态[快照](https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fstate-as-a-snapshot&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)，不会改变。 |\n\n> 用于获取 DOM 元素\n\n由 React 管理的 DOM 元素——例如，聚焦一个节点、滚动到它，或者测量它的大小和位置。\n\n```js\nimport { useRef } from 'react';\n\nexport default function Form() {\n   //声明一个ref\n  const inputRef = useRef(null);\n\n  function handleClick() {\n    inputRef.current.focus();\n  }\n\n  return (\n    <>\n      //React将 <input>的 DOM 节点放入inputRef.current.\n      <input ref={inputRef} />\n      <button onClick={handleClick}>\n        Focus the input\n      </button>\n    </>\n  );\n}\n```\n\n使用 forwardRef 实现 转发 dom ref 到子组件。\n\n默认情况下 React 不允许组件访问其他组件的 DOM 节点，连自己的孩子都不行。用`forwardRef`让一个组件可以指定它把它的引用“转发”给它的一个孩子\n\n```js\nimport { forwardRef, useRef } from \"react\";\n\n//forwardRef声明，这使它选择inputRef从上面接收ref作为第二个参数，该参数是在props之后声明的。\nconst MyInput = forwardRef((props, ref) => {\n  return <input {...props} ref={ref} />;\n});\n\nexport default function Form() {\n  const inputRef = useRef(null);\n\n  function handleClick() {\n    inputRef.current.focus();\n  }\n\n  return (\n    <>\n      //告诉 React 将对应的 DOM 节点放入inputRef.current.\n      但是，由MyInput组件决定是否选择加入 - 默认情况下，它不会。\n      <MyInput ref={inputRef} />\n      <button onClick={handleClick}>Focus the input</button>\n    </>\n  );\n}\n```\n\n### useMemo\n\n数据缓存，依赖变化时，工厂函数会重新执行\n\n```js\nconst memoizedValue = useMemo(() => computeExpensiveValue(a, b), [a, b]);\n```\n\n### useCallback\n\n```js\nconst memoizedCallback = useCallback(() => {\n  doSomething(a, b);\n}, [a, b]);\n```\n\n数据缓存，依赖变化时，缓存的函数会更新。\n\n把内联回调函数及依赖项数组作为参数传入  `useCallback`，它将返回该回调函数的 memoized 版本，该回调函数仅在某个依赖项改变时才会更新。当你把回调函数传递给经过优化的并使用引用相等性去避免非必要渲染（例如  `shouldComponentUpdate`）的子组件时，它将非常有用。\n\n`useCallback(fn, deps)`  相当于  `useMemo(() => fn, deps)`。\n\n### 自定义 Hooks\n\n通过原生 hooks 的组装，实现逻辑的抽象复用，自定义 hooks 也统一用 useXXX 命名\n\n### flushSync 同步刷新\n\n在 React 中，状态更新是异步的，导致一个问题，数据还未更新就继续执行。\n\n要解决这个问题，你可以强制 React 同步更新（“刷新”）DOM。\n\n```js\nimport { flushSync } from \"react-dom\";\n\nflushSync(() => {\n  setTodos([...todos, newTodo]);\n});\nlistRef.current.lastChild.scrollIntoView();\n```\n\n## 组件通信\n\n### Props（父子）\n\n父组件使用 props 向子组件传递，子组件到父组件利用回调函数 当内容嵌套在 JSX 标记中时，父组件将其名为`children`\n\n父组件\n\n```jsx\nimport React, { Component } from \"react\";\nimport Sub from \"./SubComponent.js\";\nimport \"./App.css\";\n\nexport default class App extends Component {\n  callback(msg) {\n    console.log(msg);\n  }\n\n  render() {\n    return (\n      <div>\n        <Sub title=\"今年过节不收礼\" callback={this.callback.bind(this)} />\n      </div>\n    );\n  }\n}\n```\n\n子组件\n\n```jsx\nimport React from \"react\";\n//可解构({title,callback})=>{}\nconst Sub = (props) => {\n  const cb = (msg) => {\n    return () => {\n      props.callback(msg);\n    };\n  };\n  return (\n    <div>\n      <h1>{props.title} </h1>\n      <button onClick={cb(\"我们通信把\")}>点击我</button>\n    </div>\n  );\n};\n\nexport default Sub;\n```\n\n> 为什么要用 bind()?\n\n\n*如果传递一个函数名给一个变量，之后通过函数名()的方式进行调用，在方法内部如果使用this 则 this 的指向会丢失。*\n\n如果使用 node 环境执行 js 文件则输出 node 相关信息，如嵌入到 html 中则 this\n指向 window 对象\n\n```js\nconst test = {\n  name: \"jack\",\n  getJack: function () {\n    console.log(this.name);\n  },\n};\nconst func = test.getJack;\nfunc();\n//undefined\n```\n\nReact 中的 bind 同上方原理一致,在 JSX 中传递的事件不是一个字符串，而是一个函数（如:onClick={this.handleClick}），此时 onClick 即是中间变量，所以处理函数中的 this 指向会丢失。\n\n> react 组件内点击事件的 this 的 3 种指向方法\n\n1. 调用函数时**bind**(this)，，this 指向当前实例化对象。 `onClick={this.handleClick1.bind( this )}`\n2. 声明函数时使用**箭头函数**，并在调用时直接使用 this.变量名即可。 `handleClick3 =()=>{console.log( this )}`\n3. 通过在构造函数**constructor**内使用 bind 对函数内的 this 重定向  `this.handleClick2 = this.handleClick2.bind(this)`  不建议在 render()中 bind，因为它会在每次 render()方法执行时绑定类方法，肯定对于性能有影响。而直接在 constructor 中 bind, 则 bind 只会在组件实例化初时运行一次。\n\n### useContext（祖先后代）\n\ncontext 是组件树上某棵子树的全局变量。一颗树上的所有组件可以获取同样的状态。\n\n- 当子组件获取上下文时，从自身最近的 Provider 中读取，没有则读取默认值\n- Provider 接收一个 value 属性，并将该属性传递给自己的 Comsumer 组件\n- 多个 Provider 可以嵌套使用，内层 value 覆盖外层\n\n```jsx\nimport {useState, useContext, createContext} from 'react';\n//1、创建并导出它\nconst  ThemeContext = createContext('');\n\nfunction Child(props){\n    //2、子组件声明使用\n    const theme = useContext(ThemeContext);\n    return (\n        <span>{theme}</span>\n    )\n}\n\nfunction ThemeShow(props){\n    const { theme } = props;\n    return (\n        <div>\n            theme is: <Child theme ={theme}/>\n        </div>\n    )}export defalut function App(){    const [theme,setTheme] = useState('blue');    return(        <div>\n            <button onClick={()=> setTheme('red')}> changeTheme</button>\n            //3、父组件包裹提供            <ThemeContext.Provider value={theme}>\n                <ThemeShow />\n            </ThemeContext.Provider>\n        </div>\n\n    )}\n```\n\n> Class 形式\n\n父组件 App.js\n\n```jsx\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Sub from \"./Sub\";\nimport \"./App.css\";\n\nexport default class App extends Component {\n  // 父组件声明自己支持 context\n  static childContextTypes = {\n    color: PropTypes.string, //数据类型\n    callback: PropTypes.func,\n  };\n\n  // 父组件提供一个函数，用来返回相应的 context 对象\n  getChildContext() {\n    return {\n      color: \"red\",\n      callback: this.callback.bind(this),\n    };\n  }\n\n  callback(msg) {\n    console.log(msg);\n  }\n\n  render() {\n    return (\n      <div>\n        <Sub></Sub>\n      </div>\n    );\n  }\n}\n```\n\n子组件 Sub.js\n\n```jsx\nimport React from \"react\";\nimport SubSub from \"./SubSub\";\n\nconst Sub = (props) => {\n  return (\n    <div>\n      <SubSub />\n    </div>\n  );\n};\n\nexport default Sub;\n```\n\n子组件的子组件 SubSub.js\n\n```jsx\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class SubSub extends Component {\n  // 子组件声明自己需要使用 context\n  static contextTypes = {\n    color: PropTypes.string,\n    callback: PropTypes.func,\n  };\n  render() {\n    const style = { color: this.context.color };\n    const cb = (msg) => {\n      return () => {\n        this.context.callback(msg);\n      };\n    };\n    return (\n      <div style={style}>\n        SUBSUB <button onClick={cb(\"我胡汉三又回来了！\")}>点击我</button>\n      </div>\n    );\n  }\n}\n```\n\n### 事件总线 Bus（兄弟）\n\n需要使用一个 events 包： `npm install events --save`  在 src 下新建一个 utils 文件夹，新增文件 events.js: 向外提供一个事件对象：\n\n```js\nimport { EventEmitter } from \"events\";\nexport default new EventEmitter();\n```\n\nApp.js：\n\n```js\nimport React, { Component } from \"react\";\n\nimport Foo from \"./Foo\";\nimport Boo from \"./Boo\";\n\nimport \"./App.css\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div>\n        <Foo />\n        <Boo />\n      </div>\n    );\n  }\n}\n```\n\nFoo.js:\n\n```js\nimport React, { Component } from \"react\";\nimport emitter from \"./ev\";\n\nexport default class Foo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      msg: null,\n    };\n  }\n  componentDidMount() {\n    // 声明一个自定义事件\n    // 在组件装载完成以后\n    this.eventEmitter = emitter.addListener(\"callMe\", (msg) => {\n      this.setState({\n        msg,\n      });\n    });\n  }\n  // 组件销毁前移除事件监听\n  componentWillUnmount() {\n    emitter.removeListener(this.eventEmitter);\n  }\n  render() {\n    return <div>{this.state.msg} 我是非嵌套 1 号 </div>;\n  }\n}\n```\n\nBoo.js:\n\n```js\nimport React, { Component } from \"react\";\nimport emitter from \"./ev\";\n\nexport default class Boo extends Component {\n  render() {\n    const cb = (msg) => {\n      return () => {\n        // 触发自定义事件\n        emitter.emit(\"callMe\", \"Hello\");\n      };\n    };\n    return (\n      <div>\n        我是非嵌套 2 号 <button onClick={cb(\"blue\")}>点击我</button>\n      </div>\n    );\n  }\n}\n```\n\n### Redux（[全局](https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/preview_tpl3/?tpl_id=md&version=0&mount_point=explorer&updatePreviewTplSeed=1&sl=1&source=explorer#redux)）\n\n## 生命周期\n\n你可以使用此[生命周期图谱](https://security.feishu.cn/link/safety?target=https%3A%2F%2Fprojects.wojtekmaj.pl%2Freact-lifecycle-methods-diagram%2F&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)作为速查表\n\n**Function 组件**\n\n![https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241521250.png](https://security.feishu.cn/link/safety?target=https%3A%2F%2Fgitee.com%2Fheavenmei%2FLearningNotes%2Fraw%2Fmaster%2Fimg%2F202204241521250.png&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)\n\n**Class 组件**\n\n![image-20220424152418167](https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241524903.png)\n\n**生命周期对应**\n\n\n# 进阶篇\n\n## 虚拟 DOM\n\n> 浏览器渲染过程\n\n![https://img.alicdn.com/tps/TB1eabOLpXXXXX3XFXXXXXXXXXX-1093-167.jpg_720x720.jpg#alt=](https://security.feishu.cn/link/safety?target=https%3A%2F%2Fimg.alicdn.com%2Ftps%2FTB1eabOLpXXXXX3XFXXXXXXXXXX-1093-167.jpg_720x720.jpg%23alt%3D&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)\n\n> 为什么要引入虚拟 DOM？\n\n- 单页面应用中，涉及大量 DOM 操作，引起多次计算，每次 DOM 操作都会重新构建渲染树、布局、渲染流程，造成巨大性能损耗\n\n- DOM 元素很庞大，相较之下 JavaScript 对象处理起来更快、更简单。DOM 对象可以很容易用 Javascript 对象来表示。\n\n- **状态树-->虚拟 DOM 树-->Diff 比较差异-->`ReactDOM.render()`-->DOM 树**\n\n  ```js\n  <p id=\"text\">hello<span class=\"textRed\">world</span>\n  var element={\n      tagName:'p',\n      props:{\n          id:'text'\n      },\n      children:[\n          \"hello\",\n          {\n              tagName:'span',\n              props:{class:'textRed'},\n              childeren:[\"World\"]\n          }\n      ]\n  }\n  ```\n\n## Diff 算法\n\n传统的 Diff 算法复杂度$O(n^3)$，通过两个假设优化到$O(n)$。 [参考文章：react diff 算法详解](https://security.feishu.cn/link/safety?target=https%3A%2F%2Fblog.csdn.net%2Fqdmoment%2Farticle%2Fdetails%2F88798916%3Fops_request_misc%3D%25257B%252522request%25255Fid%252522%25253A%252522165084998416782425175606%252522%25252C%252522scm%252522%25253A%25252220140713.130102334.pc%25255Fall.%252522%25257D%26request_id%3D165084998416782425175606%26biz_id%3D0%26utm_medium%3Ddistribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-88798916.142%255Ev9%255Epc_search_result_cache%2C157%255Ev4%255Econtrol%26utm_term%3Dreact%2Bdiff%26spm%3D1018.2226.3001.4187&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)\n\n1. 两个不同类型的元素会产生不同的树\n2. 对于同一层级的一组子元素，他们可以通过唯一 ID 进行区分\n\n**tree diff**：同层比较，如果节点不存在直接删除创建。这样只需要对 DOM 树进行一次遍历，就可以完成整个树的比较。复杂度变为*O(n)*。因此不建议进行 DOM 节点跨层级的操作\n\n![image-20220425092757991](https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204250927916.png)\n\n**Component diff**：同一类型的组件继续 tree diff 比较，不同类型的组件直接删除重建。\n\n![img](https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204250929100.png)\n\n**element diff**：key 标识，判断是否是同一组件\n\n- 插入：新的 component 类型不在老集合里\n- 移动：在老集合有新 component 类型，且 element 是可更新的类型，可以复用以前的 DOM 节点。\n- 删除：老 component 类型，在新集合里也有，但对应的 element 不同则不能直接复用和更新；或者老 component 不在新集合里的。\n\n当没有 key 时 React 会逐个对节点进行更新，最后插入节点，效率低下。因此提出优化策略，添加唯一标识 key 进行区分，可以达到移动效果。\n\n**Tips：不要使用 index 作为 key。和没有 key 一样的效果**\n\n## Fiber 机制\n\nReact16 以前采用 Diff 算法，对 virtural dom 的更新和渲染是同步的。如果组件层级比较深，相应的堆栈也会很深，<u>长时间占用浏览器主线程</u>，一些类似用户输入、鼠标滚动等操作得不到响应。\n\nReact16 采用 Fiber Reconciler，用分片的方式，<u>彻底解决主线程长时间占用问题的机制</u>。就是把一个任务分成很多小片，当分配给这个小片的时间用尽的时候，就检查任务列表中有没有新的、优先级更高的任务，有就做这个新任务，没有就继续做原来的任务。这种方式被叫做异步渲染(Async Rendering)。\n\n> Fiber 树\n\n每一个 Fiber 对于一个虚拟节点，在虚拟 DOM 树上构建了 Fiber 树，采用**链表**的机构存储。每个节点包括以下内容：\n\n- stateNode：状态节点\n- return：该节点的父级 Fiber 节点引用\n- child：该节点的第一个子 Fiber 节点引用\n- sibling：当前层级的下一个兄弟 Fiber 节点\n\n> 两个阶段\n\nReconciliation 阶段：找出要做的更新工作，就是一个计算阶段，计算结果可以被缓存，也就可以被打断；该阶段包含的生命周期函数有： `componentWillMount` `componentWillReceiveProps` `componentWillUpdate` `shouldComponentUpdate`该阶段任务随时可能被中断或重来，建议不要在这几个生命周期做副作用。\n\nCommmit 阶段：需要提交所有更新并渲染，为了防止页面抖动，被设置为不能被打断。\n\nPS：副作用：指函数除了返回一个值之外，造成的其他影响，如修改外部变量、抛出异常、I/O 操作等，这里的副作用指对 Fiber 节点进行插入、更新、删除。\n\n> Fiber 机制无法解决的问题\n\n1. 生命周期内大量的计算任务：由于 Reac Fiber 是以 Fiber 节点作为最小单元，无法在生命周期内对任务进行差分，这些计算任务在执行中途不能被中断\n2. 大量真实 DOM 操作：这部分任务在 Commit 阶段被同步执行，无法中断。过大的 DOM 操作压力只能由浏览器承担。\n\n**总的来说**，React Fiber 通过将任务切片，以及采用合适的任务调度机制，解决了高优先级任务被阻塞的问题，使应用展示更加流畅。\n\n## Redux\n\n<span id=\"redux\"></span>\n\n### Flux\n\n核心思想：利用单项数据流和逻辑单向流来应对 MVC 架构中出现的状态混乱的问题\n\n![img](https://gitee.com/heavenmei/LearningNotes/raw/master/img/202205051357774.png)\n\n流程：\n\n1. 在 View 创建 Action\n2. View 发出用户的 Action\n3. Dispatcher 收到 Action，要求 Store 进行相应的更新\n4. Store 更新后，通知 View 更新\n5. View 收到通知，更新页面\n\n> [阮一峰 Flux 教程](https://security.feishu.cn/link/safety?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2016%2F01%2Fflux.html&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)\n\n### Redux 介绍\n\n三大特性：\n\n1. 单一数据源：全局变量 store\n\n2. state 只读：唯一改变 state 的方法就是触发 action，action 是一个用于描述已发生事件的普通对象。\n\n3. 使用纯函数修改：一个函数只有依赖于它的参数，相同输入得到相同输出\n\n### Action\n\n**action 是 store 数据的唯一来源。一般来说你会通过  `store.dispatch()`将 action 传到 store**。Action 本质上是 JavaScript 普通对象。我们约定，action 内必须使用一个字符串类型的  `type`  字段来表示将要执行的动作。多数情况下，`type`  会被定义成字符串常量。当应用规模越来越大时，建议使用单独的模块或文件来存放 action。\n\n**说人话：**\n\naction 就是一个描述“发生了什么”的普通对象。可以把 action 理解成新闻的摘要。如 “玛丽喜欢 42 号文章。” 或者 “任务列表里添加了'学习 Redux 文档'”。\n\naction 创建函数：就返回一个 action 对象\n\n```js\nfunction addTodo(text) {\n  return {\n    type: ADD_TODO,\n    text,\n  };\n}\n//Redux 中只需把 action 创建函数的结果传给 dispatch() 方法即可发起一次 dispatch 过程。\ndispatch(addTodo(text));\n//或者创建一个 被绑定的 action 创建函数 来自动 dispatch：\nconst boundAddTodo = (text) => dispatch(addTodo(text));\nboundAddTodo(text);\n```\n\n### Reducer\n\n**Reducers**  指定了应用状态的变化如何响应  [actions](https://security.feishu.cn/link/safety?target=https%3A%2F%2Fwww.redux.org.cn%2Fdocs%2Fbasics%2FActions.html&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)  并发送到 store 的，记住 actions 只是描述了*有事情发生了*这一事实，并没有描述应用如何更新 state。\n\nreducer 接收先前的 state 和 action，并返回新的 state\n\n```js\nfunction visibilityFilter(state = \"SHOW_ALL\", action) {\n  switch (action.type) {\n    case \"SET_VISIBILITY_FILTER\":\n      return action.filter;\n    default:\n      return state;\n  }\n}\n```\n\n每个 reducer 只负责管理全局 state 中它负责的一部分。每个 reducer 的  `state`  参数都不同，分别对应它管理的那部分 state 数据。最后再由`combineReducers`合并\n\n```js\nconst todoApp = combineReducers({\n  visibilityFilter,\n  todos,\n});\n\nexport default todoApp;\n```\n\n### Store\n\n- `getState()`\n- `dispatch(action)`\n- `subscribe(listener)`:用于注册监听器，返回一个注销监听器的函数\n\n```js\nimport { createStore } from \"redux\";\nimport todoApp from \"./reducers\";\nlet store = createStore(todoApp);\nlet store = createStore(todoApp, window.STATE_FROM_SERVER);\n```\n\n[`createStore()`](https://security.feishu.cn/link/safety?target=https%3A%2F%2Fwww.redux.org.cn%2Fdocs%2Fapi%2FcreateStore.html&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN)  的第二个参数是可选的, 用于设置 state 初始状态。这对开发同构应用时非常有用，服务器端 redux 应用的 state 结构可以与客户端保持一致, 那么客户端可以将从网络接收到的服务端 state 直接用于本地数据初始化。\n\n### Middleware\n\n```js\n//方法一\nfunction logger(store) {\n  // 这里的 next 必须指向前一个 middleware 返回的函数：\n  let next = store.dispatch;\n\n  return function dispatchAndLog(action) {\n    console.log(\"dispatching\", action);\n    let result = next(action);\n    console.log(\"next state\", store.getState());\n    return result;\n  };\n}\n\n//方法二\nfunction logger(store) {\n  return function wrapDispatchToAddLogging(next) {\n    return function dispatchAndLog(action) {\n      console.log(\"dispatching\", action);\n      let result = next(action);\n      console.log(\"next state\", store.getState());\n      return result;\n    };\n  };\n}\n\n//方法二——柯西里化\nconst logger = (store) => (next) => (action) => {\n  console.log(\"dispatching\", action);\n  let result = next(action);\n  console.log(\"next state\", store.getState());\n  return result;\n};\n\n//手写 合并\nfunction applyMiddleware(store, middlewares) {\n  middlewares = middlewares.slice();\n  middlewares.reverse();\n\n  let dispatch = store.dispatch;\n  middlewares.forEach((middleware) => (dispatch = middleware(store)(dispatch)));\n\n  return Object.assign({}, store, { dispatch });\n}\n\n// Redux 中的用法\n//applyMiddleware与上述实现略有不同\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\n\nlet todoApp = combineReducers(reducers);\nlet store = createStore(\n  todoApp,\n  // applyMiddleware() 告诉 createStore() 如何处理中间件\n  applyMiddleware(logger, crashReporter)\n);\n```\n\n### React-redux\n\nstore 的三大功能：dispatch，subscribe，getState 都不需要手动来写了。react-redux 帮我们做了这些，同时它提供了两个好基友 Provider 和 connect。\n\nRedux 和 React 之间没有关系。Redux 支持 React、Angular、Ember、jQuery 甚至纯 JavaScript。\n\n```bash\nnpm install --save react-redux redux\nnpm install redux-devtools-extension\n//调试器\n```\n\n**Provider**：让所有容器组件都可以访问 store，而不必显示地传递它。只需要在渲染根组件时使用即可。\n\n```js\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport reducers from \"./reducers\";\n\nlet store = createStore(reducers);\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n```\n\n**connect**：（高阶组件）连接 React 组件和 Redux Store，当前组件可以通过 prop 获取应用中的 state 和 Action。四个参数\n\n- `mapStateToProps()`:指定如何把当前 Redux store state 映射到展示组件的 props 中\n- `mapDispatchToProps()`：接收 dispatch()方法并返回期望注入到展示组件的 props 中的回调方法。\n\n```js\nconst getVisibleTodos = (todos, filter) => {\n  switch (filter) {\n    case \"SHOW_COMPLETED\":\n      return todos.filter((t) => t.completed);\n    case \"SHOW_ACTIVE\":\n      return todos.filter((t) => !t.completed);\n    case \"SHOW_ALL\":\n    default:\n      return todos;\n  }\n};\n\n//state 是store的state\n//返回一个新的对象，这个对象会作为props的一部分传入ui组件\nconst mapStateToProps = (state) => {\n  return {\n    todos: getVisibleTodos(state.todos, state.visibilityFilter),\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onTodoClick: (id) => {\n      dispatch(toggleTodo(id));\n    },\n  };\n};\n\nimport { connect } from \"react-redux\";\n\nconst VisibleTodoList = connect(mapStateToProps, mapDispatchToProps)(TodoList); //注入的组件\n\nexport default VisibleTodoList;\n```\n\n### 总结\n\n**总体流程**\n\n1. 首先调用`store.dispatch(action)`，同时用`getState`获取当前的状态树 state 并注册`subscribe(listener)`监听 state 变化\n2. 再调用`combineReducers`并将获取的 state 和 action 传入。combineReducers 会将传入的 state 和 action 传给所有 reducer，并根据 action 的 type 返回新的 state，触发 state 树的更新，我们调用 subscribe 监听到 state 发生变化后用 getState 获取新的 state 数据。\n\n> 只使用 Redux 流程：component --> dispatch(action) --> reducer --> subscribe --> getState --> component\n\n**react-redux 流程**\n\n1. Provider 组件接受 redux 的 store 作为 props，然后通过 context 往下传。\n2. connect 函数收到 Provider 传出的 store，然后接受三个参数 mapStateToProps，mapDispatchToProps 和组件，并将 state 和 actionCreator 以 props 传入组件，这时组件就可以调用 actionCreator 函数来触发 reducer 函数返回新的 state，connect 监听到 state 变化调用 setState 更新组件并将新的 state 传入组件。\n\n> react-redux 流程：component --> actionCreator(data) --> reducer --> component\n",
    "code": "var Component=(()=>{var h=Object.create;var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var u=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),m=(l,e)=>{for(var r in e)a(l,r,{get:e[r],enumerable:!0})},o=(l,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of E(e))!F.call(l,c)&&c!==r&&a(l,c,{get:()=>e[c],enumerable:!(s=p(e,c))||s.enumerable});return l};var g=(l,e,r)=>(r=l!=null?h(y(l)):{},o(e||!l||!l.__esModule?a(r,\"default\",{value:l,enumerable:!0}):r,l)),f=l=>o(a({},\"__esModule\",{value:!0}),l);var i=u((v,t)=>{t.exports=_jsx_runtime});var x={};m(x,{default:()=>k,frontmatter:()=>b});var n=g(i()),b={title:\"React\\u57FA\\u7840\",subtitle:null,layout:\"post\",date:new Date(16645824e5),author:\"heavenmei\",categories:[\"Note\"],description:null,tags:[\"Front\"],image:null};function d(l){let e=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",blockquote:\"blockquote\",p:\"p\",strong:\"strong\",div:\"div\",figure:\"figure\",pre:\"pre\",code:\"code\",h2:\"h2\",ul:\"ul\",li:\"li\",ol:\"ol\",h3:\"h3\",img:\"img\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",mark:\"mark\",em:\"em\",math:\"math\",semantics:\"semantics\",mrow:\"mrow\",mi:\"mi\",mo:\"mo\",msup:\"msup\",mn:\"mn\",annotation:\"annotation\"},l.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{id:\"\\u57FA\\u7840\\u7BC7\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u57FA\\u7840\\u7BC7\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u57FA\\u7840\\u7BC7\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2F%3Fspm%3Da2cl9.codeup_devops2020_goldlog_projectFiles.0.0.7cc140efSfVrlB&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u4E2D\\u6587\\u6587\\u6863\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Fzh-hans.reactjs.org%2F&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u5B98\\u65B9\\u6587\\u6863\"})}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u5B89\\u88C5\"})}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",raw:`npm install -g create-react-app\ncreate-react-app \\u9879\\u76EE\\u540D\\u79F0\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -g\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" create-react-app\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"create-react-app\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" \\u9879\\u76EE\\u540D\\u79F0\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"jsx\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#jsx\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"JSX\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7C7B XML \\u8BED\\u6CD5\\uFF1A\\u552F\\u4E00\\u7279\\u6B8A\\u7684\\u662F\\u53EF\\u4EE5\\u7528\\u5927\\u62EC\\u53F7\\u6765\\u52A0\\u5165 JavaScript \\u8868\\u8FBE\\u5F0F\\u3002\\u9047\\u5230 HTML \\u6807\\u7B7E\\uFF08\\u4EE5 < \\u5F00\\u5934\\uFF09\\uFF0C\\u5C31\\u7528 HTML \\u89C4\\u5219\\u89E3\\u6790\\uFF1B\\u9047\\u5230\\u4EE3\\u7801\\u5757\\uFF08\\u4EE5 \",(0,n.jsx)(e.code,{children:\"{\"}),\" \\u5F00\\u5934\\uFF09\\uFF0C\\u5C31\\u7528 JavaScript \\u89C4\\u5219\\u89E3\\u6790\\u3002\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u4E24\\u79CD\\u5143\\u7D20\\uFF1ADOM \\u5143\\u7D20\\uFF08\\u5C0F\\u5199\\u5B57\\u6BCD\\u5F00\\u5934\\uFF09\\uFF06 React \\u7EC4\\u4EF6\\uFF08\\u5927\\u5199\\u5B57\\u6BCD\\u5F00\\u5934\\uFF09\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD4\\u56DE\\u5355\\u4E2A\\u6807\\u7B7E\\uFF0C\\u6807\\u7B7E\\u5FC5\\u987B\\u95ED\\u5408\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u9A7C\\u5CF0\\u547D\\u540D\"}),\"\\uFF0C\",(0,n.jsx)(e.code,{children:\"className\"}),\"\\u4EE3\\u66FF css \\u4E2D\\u7684 class\\uFF0C\\u901A\\u8FC7\",(0,n.jsx)(e.code,{children:\"\\u5BF9\\u8C61\"}),\"\\u5305\\u88F9\\u4E3A\\u6807\\u7B7E\\u4F20\\u9012\\u5185\\u8054\\u6837\\u5F0F\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"js \\u8868\\u8FBE\\u5F0F\\u7528\\u4E00\\u5BF9\\u5927\\u62EC\\u53F7\",(0,n.jsx)(e.code,{children:\"{ }\"}),\"\\xA0 \\u5305\\u8D77\\u6765\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 \",\" \\u4E2D\\u4E0D\\u80FD\\u4F7F\\u7528\\u8BED\\u53E5\\uFF08if \\u8BED\\u53E5\\u3001for \\u8BED\\u53E5\\u7B49\\u7B49\\uFF09, \\u4F46\\u53EF\\u4EE5\\u4F7F\\u7528\\u6C42\\u503C\\u8868\\u8FBE\\u5F0F\\u4E0E\\u51FD\\u6570\\u8868\\u8FBE\\u5F0F\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4E8B\\u4EF6\\u7ED1\\u5B9A\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"JSX \\u4E8B\\u4EF6\\u7528\\u9A7C\\u5CF0\\u547D\\u540D\\uFF0C\\u800C HTML \\u662F\\u5C0F\\u5199\\u547D\\u540D\"}),`\n`,(0,n.jsx)(e.li,{children:\"JSX \\u4E8B\\u4EF6\\u7ED1\\u5B9A\\u4F20\\u9012\\u4E00\\u4E2A\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u800C HTML \\u662F\\u4F20\\u9012\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"JSX \\u4E0D\\u80FD\\u901A\\u8FC7 return/false \\u963B\\u6B62\\u9ED8\\u8BA4\\u4E8B\\u4EF6\\uFF0C\\u9700\\u8981\\u663E\\u793A\\u8C03\\u7528\",(0,n.jsx)(e.code,{children:\"preventDefault()\"}),\"/\",(0,n.jsx)(e.code,{children:\"stopProgation()\"})]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u6761\\u4EF6\\u6E32\\u67D3\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528 || \\uFF0C&&\\uFF0Cif\\u2026else\\uFF0Cswitch \\u7B49\\u6761\\u4EF6\\u5224\\u65AD\\u8FD4\\u56DE jsx\\uFF0C\\u8FD4\\u56DE null\\uFF0Cundefined \\u65F6\\u4E0D\\u6E32\\u67D3\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u5217\\u8868\\u6E32\\u67D3\"})}),`\n`,(0,n.jsx)(e.p,{children:\"map\\u3001filter \\u904D\\u5386\\u6570\\u7EC4\\uFF0C\\u5C06\\u6570\\u7EC4\\u7684\\u6BCF\\u4E00\\u9879\\u53D8\\u6210\\u4E00\\u4E2A JSX \\u5143\\u7D20\\u3002 key \\u5E2E\\u52A9 React \\u8BC6\\u522B\\u54EA\\u4E9B\\u5143\\u7D20\\u6539\\u53D8\\u4E86\\uFF0C\\u6BD4\\u5982\\u88AB\\u6DFB\\u52A0\\u6216\\u5220\\u9664\\u3002\\u56E0\\u4F60\\u5E94\\u5F53\\u7ED9\\u6570\\u7EC4\\u4E2D\\u7684\\u6BCF\\u4E00\\u4E2A\\u5143\\u7D20\\u8D4B\\u4E88\\u4E00\\u4E2A\\u552F\\u4E00\\u7684\\u6807\\u8BC6\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7EC4\\u4EF6\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u7EC4\\u4EF6\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7EC4\\u4EF6\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"3 \\u79CD\\u5B9A\\u4E49\\u65B9\\u5F0F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"JavaScript Function: \\u4E00\\u4E2A React \\u7EC4\\u4EF6\\u5C31\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`function Article(){\n    return({\n        <div></div>\n    })\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Article\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(){\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <div></div>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"ES6 class:\\u9762\\u5411\\u5BF9\\u8C61\\u98CE\\u683C\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`class Article extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return <div></div>;\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Article\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    super\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(props);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u548C Function \\u7EC4\\u4EF6\\u533A\\u522B\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u8BED\\u6CD5\\u5DEE\\u5F02\\uFF1Aconstuctor\\uFF0Crender \\u51FD\\u6570\\uFF0Cbind \\u7B49\\u7B49\\u2026\"}),`\n`,(0,n.jsx)(e.li,{children:\"hooks \\u7684\\u65B9\\u6CD5\\u5728 Class \\u7EC4\\u4EF6\\u4E2D\\u5747\\u6709\\u53E6\\u4E00\\u5957\\u5BF9\\u5E94\\u7684\\u5B9E\\u73B0\"}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(\"u\",{children:(0,n.jsx)(e.p,{children:`function \\u7EC4\\u4EF6\\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4F1A\\u6709\\u72EC\\u7ACB props/state ,\\u800C class \\u7EC4\\u4EF6\\u603B\\u662F\\u4F1A\\u901A\\u8FC7 this\n\\u62FF\\u5230\\u6700\\u65B0\\u7684 props/state`})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[\"class \\u521B\\u5EFA\\u7EC4\\u4EF6\\uFF0C\\u51FD\\u6570\\u6210\\u5458\\u4E0D\\u4F1A\\u81EA\\u52A8\\u7ED1\\u5B9A this\\uFF0C\\u9700\\u8981\",(0,n.jsx)(e.a,{href:\"https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/preview_tpl3/?tpl_id=md&version=0&mount_point=explorer&updatePreviewTplSeed=1&sl=1&source=explorer#bind\",children:\"\\u624B\\u52A8\\u7ED1\\u5B9A\"})]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"React.createClass: \\u5DF2\\u5E9F\\u5F03\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`const Article = React.createClass({\n  render() {\n    return <div></div>;\n  },\n});\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Article\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createClass\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u9AD8\\u9636\\u7EC4\\u4EF6\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9AD8\\u9636\\u51FD\\u6570\\uFF1A\\u63A5\\u53D7\\u503C\\u6216\\u8FD4\\u56DE\\u503C\\u662F\\u51FD\\u6570\\u7684\\u51FD\\u6570\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`const add = (x) => (y) => x + y;\nadd(1)(2);\n\n//Babel \\u8F6C\\u6362\\u540E\nvar add = function add(x) {\n  return function (y) {\n    return x + y;\n  };\n};\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" add\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"x\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"y\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" x \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" y;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//Babel \\u8F6C\\u6362\\u540E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"var\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" add\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"x\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"y\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" x \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" y;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9AD8\\u9636\\u7EC4\\u4EF6\\uFF1A\\u63A5\\u53D7\\u503C\\u548C\\u8FD4\\u56DE\\u503C\\u90FD\\u662F\\u7EC4\\u4EF6\\u7684\\u51FD\\u6570\\u3002\\u4E3B\\u8981\\u7528\\u4E8E\\u5C5E\\u6027\\u4EE3\\u7406\\uFF0C\\u63A7\\u5236\\u7EC4\\u4EF6\\u7684\\u5C5E\\u6027\\u548C\\u72B6\\u6001\\uFF0C\\u4EE5\\u53CA\\u6E32\\u67D3\\u52AB\\u6301\\uFF08\\u4E3A\\u7EC4\\u4EF6\\u6DFB\\u52A0\\u540C\\u610F\\u7684\\u6837\\u5F0F\\u6216\\u5E03\\u5C40\\uFF09\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`const Container = (WrappedComponent) =>{\n    class extends React.Component{\n        render(){\n            let newProps = {status:'ok'}\n            return <WrappedComponent {...this.props} {...newProps} />\n        }    }}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Container\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"WrappedComponent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    class\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(){\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" newProps \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {status:\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'ok'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"WrappedComponent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".props} {\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"newProps} />\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }    }}\"})})]})})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"state\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#state\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"State\"]}),`\n`,(0,n.jsx)(e.p,{children:\"state \\u662F\\u7EC4\\u4EF6\\u5185\\u90E8\\u7684\\u72B6\\u6001\\uFF0CReact \\u628A\\u7EC4\\u4EF6\\u770B\\u6210\\u662F\\u4E00\\u4E2A\\u72B6\\u6001\\u673A\\uFF08State Machines\\uFF09\\u3002\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E0D\\u8981\\u76F4\\u63A5\\u4FEE\\u6539 state\"}),\"\\u3002\\u76F4\\u63A5\\u4FEE\\u6539 state \\u53EF\\u4EE5\\u7ED9\\u7EC4\\u4EF6\\u7684 state \\u91CD\\u65B0\\u8D4B\\u503C\\uFF0C\\u4F46\\u65E0\\u6CD5\\u89E6\\u53D1\\u7EC4\\u4EF6\\u7684 re-render\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"state \\u7684\\u66F4\\u65B0\\u53EF\\u80FD\\u662F\\u5F02\\u6B65\\u7684\"}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.strong,{children:\"\\u8C03\\u7528 steState\\uFF0CReact \\u4F1A\\u628A\\u63D0\\u4F9B\\u7684\\u5BF9\\u8C61\\u5408\\u5E76\\u5230\\u5F53\\u524D\\u7684 State \\u4E2D\\uFF08\\u6D45\\u62F7\\u8D1D\\uFF09\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u6E32\\u67D3\\u548C\\u63D0\\u4EA4\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u6E32\\u67D3\\u548C\\u63D0\\u4EA4\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6E32\\u67D3\\u548C\\u63D0\\u4EA4\"]}),`\n`,(0,n.jsx)(e.p,{children:\"React \\u4E3B\\u8981\\u5206\\u4E24\\u4E2A\\u9636\\u6BB5\\u6267\\u884C\\u5DE5\\u4F5C\\uFF1Arender \\u548C commit\\uFF0C\\u5F53\\u89E6\\u53D1\\u66F4\\u65B0\\u7684\\u65F6\\u5019\\uFF0Creact \\u5148\\u8FDB\\u884C render \\u9636\\u6BB5\\u518D\\u8FDB\\u884C commit\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9636\\u6BB5\\u3002\\u5728\\u4E0D\\u540C\\u7684\\u9636\\u6BB5\\u4F1A\\u89E6\\u53D1\\u4E0D\\u540C\\u7684 hooks\\uFF08Function \\u7EC4\\u4EF6\\uFF09\\uFF0C\\u6216\\u8005\\u8C03\\u7528\\u4E0D\\u540C\\u7684\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\\uFF08Class \\u7EC4\\u4EF6\\uFF09\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241012423.png\",alt:\"image-20220424101251453\"})}),`\n`,(0,n.jsx)(e.p,{children:\")\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241102296.png\",alt:\"image-20220424110205496\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"React \\u5728\\u4E00\\u4E2A\\u6E32\\u67D3\\u7684\\u4E8B\\u4EF6\\u5904\\u7406\\u7A0B\\u5E8F\\u4E2D\\u4FDD\\u6301 state\\u201C\\u56FA\\u5B9A\\uFF08\\u5FEB\\u7167\\uFF09\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u72B6\\u6001\\u53D8\\u91CF\\u7684\\u503C\\u5728\\u6E32\\u67D3\\u4E2D\\u6C38\\u8FDC\\u4E0D\\u4F1A\\u6539\\u53D8\\uFF0C\\u5373\\u4F7F\\u5B83\\u7684\\u4E8B\\u4EF6\\u5904\\u7406\\u7A0B\\u5E8F\\u7684\\u4EE3\\u7801\\u662F\",(0,n.jsx)(\"u\",{children:\"\\u5F02\\u6B65\"}),\"\\u7684\\u3002\\u53EF\\u4EE5\\u7406\\u89E3\\u6210 Trigger \\u9636\\u6BB5\\u786E\\u5B9A\\u4E86\\u8BA2\\u5355\\uFF0C\\u5C31\\u4E0D\\u4F1A\\u53D8\\u66F4\\u3002\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`const [number, setNumber] = useState(0);\n<button onClick={() => {\n        setNumber(number + 1);//setNumber(number + 1):number\\u662F0,\\u4E0B\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\\u66F4\\u6539number\\u4E3A1\n        setNumber(number + 1);//setNumber(number + 1):number\\u662F0,\\u4E0B\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\\u66F4\\u6539number\\u4E3A1\n        setNumber(number + 1);//setNumber(number + 1):number\\u662F0,\\u4E0B\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\\u66F4\\u6539number\\u4E3A1\n        //setNumber(n => n + 1); +3\n    }}>+3</button>\n//\\u5176\\u5B9E\\u53EA+1,\n\n<button onClick={() => {\n        setNumber(number + 5);\n        setTimeout(() => {\n            alert(number);//0\n        }, 3000);\n    }}>+5</button>\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"number\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setNumber\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setNumber\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(number \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//setNumber(number + 1):number\\u662F0,\\u4E0B\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\\u66F4\\u6539number\\u4E3A1\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setNumber\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(number \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//setNumber(number + 1):number\\u662F0,\\u4E0B\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\\u66F4\\u6539number\\u4E3A1\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setNumber\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(number \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//setNumber(number + 1):number\\u662F0,\\u4E0B\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\\u66F4\\u6539number\\u4E3A1\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        //setNumber(n => n + 1); +3\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }}>+3</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u5176\\u5B9E\\u53EA+1,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setNumber\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(number \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"            alert\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(number);\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//0\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }}>+5</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7CFB\\u5217\\u72B6\\u6001\\u66F4\\u65B0\\u6392\\u961F\\u6267\\u884C\"}),\"\\uFF08\\u5F02\\u6B65\\uFF09\"]}),`\n`,(0,n.jsx)(e.p,{children:\"set \\u72B6\\u6001\\u53D8\\u91CF\\u5B9E\\u9645\\u4E0A\\u5C31\\u662F\\u70B9\\u5355\\u72B6\\u6001\\uFF08\\u8FDE\\u7EED\\u70B9\\u5355\\uFF09\\u3002React \\u4F1A\\u7B49\\u5230\\u4E8B\\u4EF6\\u5904\\u7406\\u7A0B\\u5E8F\\u4E2D\\u7684\\u6240\\u6709\\u4EE3\\u7801\\u90FD\\u8FD0\\u884C\\u540E\\uFF0C\\u624D\\u4F1A re-render \\u8FDB\\u5165\\u4E0B\\u4E00\\u6B21\\u6E32\\u67D3\\u6D41\\u7A0B\\u3002\\u4E0B\\u4E00\\u6B65 Trigger \\u89E6\\u53D1\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Fgitee.com%2Fheavenmei%2FLearningNotes%2Fraw%2Fmaster%2Fimg%2F202204241019663.png&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",alt:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241019663.png\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"state \\u53EA\\u5728 re-render \\u540E\\u89E6\\u53D1\\u66F4\\u65B0\"}),\"\\xA0 \\u5728 re-render \\u65F6\\u5148\\u8BA1\\u7B97 state \\u7684\\u66F4\\u65B0\\u7CFB\\u5217\\uFF08Trigger\\uFF09\\uFF0C\\u518D\\u6E32\\u67D3 DOM \\u8282\\u70B9\\uFF08Render\\uFF09\\uFF0C\\u6700\\u540E\\u5448\\u73B0\\uFF08Commit\\uFF09\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204240952282.png\",alt:\"image-20220424095200807\"})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u66F4\\u65B0\\u5BF9\\u8C61\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u66F4\\u65B0\\u5BF9\\u8C61\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u66F4\\u65B0\\u5BF9\\u8C61\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"State \\u4FDD\\u5B58\\u7684\\u72B6\\u6001\\u5FC5\\u987B\\u53EA\\u8BFB\\uFF0C\\u914D\\u5408 set \\u6539\\u53D8\\uFF0C\\u4E0D\\u80FD\\u76F4\\u63A5\\u6539\\u53D8\\u4F60\\u5728 React \\u72B6\\u6001\\u4E0B\\u6301\\u6709\\u7684\\u5BF9\\u8C61\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u91CC\\u4EFF\\u4F5B\\u548C Vue2 \\u91CC\\u9762\\u54CD\\u5E94\\u5F0F\\u539F\\u7406\\u7684\\u7F3A\\u9677\\u5DEE\\u4E0D\\u591A\\uFF0C\\u76F4\\u63A5\\u66F4\\u6539\\u6570\\u7EC4\\u548C\\u5BF9\\u8C61\\u662F\\u65E0\\u6CD5\\u8BA9\\u6570\\u636E\\u53D8\\u6210\\u54CD\\u5E94\\u5F0F\\u89E6\\u53D1 re-render \\u7684\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-objects-in-state%23write-concise-update-logic-with-immer&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"Immer\"}),\"\\uFF0C\\u5B83 \\u63D0\\u4F9B\\u7684\",(0,n.jsx)(e.code,{children:\"draft\"}),\"\\u662F\\u4E00\\u79CD\\u7279\\u6B8A\\u7C7B\\u578B\\u7684\\u5BF9\\u8C61\\uFF0C\\u79F0\\u4E3A Proxy\\u3002\\u548C Vue3 \\u7684\\u54CD\\u5E94\\u5F0F\\u6539\\u8FDB\\u5DEE\\u4E0D\\u591A\\u3002\\u53EF\\u4EE5\\u7528\\u6765\\u5728 React \\u4E2D\\u907F\\u514D\\u5D4C\\u5957\\u592A\\u6DF1\\u5BFC\\u81F4\\u7684\\u91CD\\u590D\\u4EE3\\u7801\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u5BF9\\u8C61\\u5E76\\u5C06\\u5176\\u4F20\\u9012\\u7ED9\\u72B6\\u6001\\u8BBE\\u7F6E\\u51FD\\u6570 \\uFF0C\\u5C06\\u73B0\\u6709\\u6570\\u636E\\u590D\\u5236\\u5230\\u5176\\u4E2D\\u3002\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`const [person, setPerson] = useState({\n  firstName: \"Barbara\",\n  lastName: \"Hepworth\",\n  email: \"bhepworth@sculpture.com\",\n});\n//\\u4E0D\\u8D77\\u4F5C\\u7528\nperson.firstName = e.target.value;\n\n//\\u6B63\\u786E\\u505A\\u6CD5\nsetPerson({\n  ...person, // Copy the old fields  \\u6D45\\u62F7\\u8D1D\n  firstName: e.target.value, // But override this one\n});\n//React\\u4F1A\\u628A\\u63D0\\u4F9B\\u7684\\u5BF9\\u8C61\\u5408\\u5E76\\u5230\\u5F53\\u524D\\u7684State\\u4E2D\\uFF08\\u6D45\\u62F7\\u8D1D\\uFF09\nsetPerson({\n  firstName: e.target.value, // But override this one\n});\n\n//\\u5D4C\\u5957\\u7528\\u6CD5\nsetPerson({\n  ...person,\n  artwork: {\n    ...person.artwork,\n    image: e.target.value,\n  },\n});\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"person\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setPerson\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  firstName: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Barbara\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  lastName: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hepworth\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  email: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"bhepworth@sculpture.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u4E0D\\u8D77\\u4F5C\\u7528\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"person.firstName \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.target.value;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u6B63\\u786E\\u505A\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setPerson\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  ...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"person, \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Copy the old fields  \\u6D45\\u62F7\\u8D1D\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  firstName: e.target.value, \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// But override this one\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//React\\u4F1A\\u628A\\u63D0\\u4F9B\\u7684\\u5BF9\\u8C61\\u5408\\u5E76\\u5230\\u5F53\\u524D\\u7684State\\u4E2D\\uFF08\\u6D45\\u62F7\\u8D1D\\uFF09\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setPerson\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  firstName: e.target.value, \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// But override this one\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u5D4C\\u5957\\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setPerson\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  ...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"person,\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  artwork: {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    ...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"person.artwork,\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    image: e.target.value,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u66F4\\u65B0\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u66F4\\u65B0\\u6570\\u7EC4\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u66F4\\u65B0\\u6570\\u7EC4\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u907F\\u514D\\u4F7F\\u7528\\uFF1A\",(0,n.jsx)(e.code,{children:\"arr[0] = 'bird'\"}),\"\\uFF0C\",(0,n.jsx)(e.code,{children:\"push()\"}),\"and\\xA0\",(0,n.jsx)(e.code,{children:\"pop()\"}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5E94\\u8BE5\\uFF1A\\u5C06\\u4E00\\u4E2A\\u65B0\\u6570\\u7EC4\\u4F20\\u9012\\u7ED9\\u60A8\\u7684\\u72B6\\u6001\\u8BBE\\u7F6E\\u51FD\\u6570\\u3002\"}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{}),(0,n.jsx)(e.th,{children:\"\\u907F\\u514D\\uFF08\\u6539\\u53D8\\u6570\\u7EC4\\uFF09\"}),(0,n.jsx)(e.th,{children:\"\\u559C\\u6B22\\uFF08\\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u6570\\u7EC4\\uFF09\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u6DFB\\u52A0\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"push\"}),\",\\xA0\",(0,n.jsx)(e.code,{children:\"unshift\"})]}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"concat\"}),\",\",(0,n.jsx)(e.code,{children:\"[...arr]\"}),\"\\u5C55\\u5F00\\u8BED\\u6CD5\\uFF08\",(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-arrays-in-state%23adding-to-an-array&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u793A\\u4F8B\"}),\"\\uFF09\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u53BB\\u9664\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"pop\"}),\",\\xA0\",(0,n.jsx)(e.code,{children:\"shift\"}),\",\\xA0\",(0,n.jsx)(e.code,{children:\"splice\"})]}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"filter\"}),\",\\xA0\",(0,n.jsx)(e.code,{children:\"slice\"}),\"(\",(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-arrays-in-state%23removing-from-an-array&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u793A\\u4F8B\"}),\")\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u66F4\\u6362\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"splice\"}),\",\",(0,n.jsx)(e.code,{children:\"arr[i] = ...\"}),\"\\u8D4B\\u503C\"]}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"map\"}),\"\\uFF08\",(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-arrays-in-state%23replacing-items-in-an-array&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u793A\\u4F8B\"}),\"\\uFF09\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u6392\\u5E8F\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"reverse\"}),\",\\xA0\",(0,n.jsx)(e.code,{children:\"sort\"})]}),(0,n.jsxs)(e.td,{children:[\"\\u9996\\u5148\\u590D\\u5236\\u6570\\u7EC4\\uFF08\",(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fupdating-arrays-in-state%23making-other-changes-to-an-array&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u793A\\u4F8B\"}),\"\\uFF09\"]})]})]})]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`const [artists, setArtists] = useState([]);\nsetArtists([\n  { id: nextId++, name: name },\n  ...artists, // Put old items at the end\n]);\n\nsetArtists(artists.filter((a) => a.id !== artist.id));\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"artists\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setArtists\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setArtists\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { id: nextId\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: name },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  ...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"artists, \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Put old items at the end\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setArtists\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(artists.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"a\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" a.id \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" artist.id));\"})]})]})})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.mark,{children:\"\\u6CE8\\u610F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5373\\u4F7F\\u590D\\u5236\\u4E00\\u4E2A\\u6570\\u7EC4\\uFF0C\\u4E5F\\u4E0D\\u80FD\\u76F4\\u63A5\\u6539\\u53D8\\u5176\\u4E2D(\\u6D45\\u62F7\\u8D1D)\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"map\"}),\"\\u6CA1\\u6709\\u7A81\\u53D8\\u7684\\u66F4\\u65B0\\u7248\\u672C\\u66FF\\u6362\\u65E7\\u9879\\u76EE\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`//\\u54D2\\u54A9\nconst myNextList = [...myList];\nconst artwork = myNextList.find(a => a.id === artworkId);\nartwork.seen = nextSeen; // Problem: mutates an existing item\nsetMyList(myNextList);\n//\\u5E94\\u8BE5\nsetMyList(myList.map(artwork => {\n  if (artwork.id === artworkId) {\n    // Create a *new* object with changes\n    return { ...artwork, seen: nextSeen };\n  } else {\n    // No changes\n    return artwork;\n  }\n});\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u54D2\\u54A9\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" myNextList\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"myList];\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" artwork\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" myNextList.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"a\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" a.id \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" artworkId);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"artwork.seen \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" nextSeen; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Problem: mutates an existing item\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setMyList\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(myNextList);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u5E94\\u8BE5\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setMyList\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(myList.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"artwork\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (artwork.id \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" artworkId) {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // Create a *new* object with changes\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"artwork, seen: nextSeen };\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // No changes\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" artwork;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"hook\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#hook\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Hook\"]}),`\n`,(0,n.jsx)(e.p,{children:\"React 16.8 \\u7684\\u65B0\\u589E\\u7279\\u6027\\u3002Hooks \\u662F\\u4E00\\u7CFB\\u5217\\u7279\\u6B8A\\u7684\\u51FD\\u6570\\uFF0C\\u53EF\\u4EE5\\u8BA9\\u4F60\\u201C\\u94A9\\u5165\\u201D React \\u7684\\u7279\\u6027\\uFF0C\\u5373\\u5728\\u51FD\\u6570\\u7EC4\\u4EF6\\u4E2D\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528 state \\u53CA\\u5176\\u4ED6 React \\u7279\\u6027\\uFF0C\\u4E0D\\u5FC5\\u5B9A\\u4E49 Class \\u7EC4\\u4EF6\\u3002\\u4F8B\\u5982 useState\\u3001useContext\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"hook-\\u89C4\\u5219\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#hook-\\u89C4\\u5219\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Hook \\u89C4\\u5219\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u53EA\\u5728\\u6700\\u9876\\u5C42\\u4F7F\\u7528 Hook\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E0D\\u8981\\u5728\\u5FAA\\u73AF\\uFF0C\\u6761\\u4EF6\\u6216\\u5D4C\\u5957\\u51FD\\u6570\\u4E2D\\u8C03\\u7528 Hook\\uFF0C\"}),\"\\xA0 \\u786E\\u4FDD\\u603B\\u662F\\u5728\\u4F60\\u7684 React \\u51FD\\u6570\\u7684\\u6700\\u9876\\u5C42\\u4EE5\\u53CA\\u4EFB\\u4F55 return \\u4E4B\\u524D\\u8C03\\u7528\\u4ED6\\u4EEC\\u3002\\u9075\\u5B88\\u8FD9\\u6761\\u89C4\\u5219\\uFF0C\\u5C31\\u80FD\\u786E\\u4FDD hooks \\u5728\\u6BCF\\u4E00\\u6B21\\u6E32\\u67D3\\u4E2D\\u90FD\\u6309\\u7167\\u540C\\u6837\\u7684\\u987A\\u5E8F\\u88AB\\u8C03\\u7528\\uFF0C\\u8FD9\\u8BA9 React \\u80FD\\u591F\\u5728\\u591A\\u6B21\\u7684 useState \\u548C useEffect \\u8C03\\u7528\\u4E4B\\u95F4\\u4FDD\\u6301 hooks \\u72B6\\u6001\\u7684\\u6B63\\u786E\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u53EA\\u5728 React \\u51FD\\u6570\\u4E2D\\u8C03\\u7528 Hook\"}),`\n`,(0,n.jsx)(e.p,{children:\"**\\u4E0D\\u8981\\u5728\\u666E\\u901A\\u7684 JavaScript \\u51FD\\u6570\\u4E2D\\u8C03\\u7528 Hook\\u3002**\\u4F60\\u53EF\\u4EE5\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u2705 \\u5728 React \\u7684\\u51FD\\u6570\\u7EC4\\u4EF6\\u4E2D\\u8C03\\u7528 Hook\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u2705 \\u5728\\u81EA\\u5B9A\\u4E49 Hook \\u4E2D\\u8C03\\u7528\\u5176\\u4ED6 Hook\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"usereducer\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#usereducer\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"useReducer\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u51CF\\u901F\\u5668\\u662F\\u5904\\u7406\\u72B6\\u6001\\u7684\\u53E6\\u4E00\\u79CD\\u65B9\\u5F0F\\u3002\\u968F\\u7740\\u8BE5\\u7EC4\\u4EF6\\u7684\\u589E\\u957F\\uFF0C\\u6563\\u5E03\\u5728\\u5176\\u4E2D\\u7684\\u72B6\\u6001\\u903B\\u8F91\\u6570\\u91CF\\u4E5F\\u5728\\u589E\\u957F\\u3002\\u4E3A\\u4E86\\u964D\\u4F4E\\u8FD9\\u79CD\\u590D\\u6742\\u6027\\u5E76\\u5C06\\u6240\\u6709\\u903B\\u8F91\\u4FDD\\u5B58\\u5728\\u4E00\\u4E2A\\u6613\\u4E8E\\u8BBF\\u95EE\\u7684\\u4F4D\\u7F6E\\uFF0C\\u60A8\\u53EF\\u4EE5\\u5C06\\u8BE5\\u72B6\\u6001\\u903B\\u8F91\\u79FB\\u52A8\\u5230\\u7EC4\\u4EF6\\u5916\\u90E8\\u7684\\u5355\\u4E2A\\u51FD\\u6570\\u4E2D\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u60A8\\u53EF\\u4EE5\\u901A\\u8FC7\\u4E09\\u4E2A\\u6B65\\u9AA4\\u4ECE\\u8FC1\\u79FB\",(0,n.jsx)(e.code,{children:\"useState\"}),\"\\u5230\\uFF1A\",(0,n.jsx)(e.code,{children:\"useReducer\"})]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u4ECE\\u8BBE\\u7F6E\\u72B6\\u6001\\u8F6C\\u79FB\\u5230\\u8C03\\u5EA6\\u52A8\\u4F5C\\u3002\\u4F20\\u9012\\u7ED9\\u7684\\u5BF9\\u8C61\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`function handleDeleteTask(taskId) {\n  dispatch(\n    // \"action\" object:\n    {\n      type: \"deleted\",\n      id: taskId,\n    }\n  );\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleDeleteTask\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"taskId\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:'    // \"action\" object:'})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      type: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"deleted\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      id: taskId,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u5199\\u4E00\\u4E2A reducer \\u51FD\\u6570\\u3002\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`function tasksReducer(tasks, action) {\n  //(\\u5F53\\u524D\\u72B6\\u6001, \\u5BF9\\u8C61\\u58F0\\u660E)\n  switch (action.type) {\n    case \"added\": {\n      return [\n        ...tasks,\n        {\n          //\\u8FD4\\u56DE\\u4E0B\\u4E00\\u4E2A\\u72B6\\u6001\n          id: action.id,\n          text: action.text,\n          done: false,\n        },\n      ];\n    }\n    case \"deleted\": {\n      return tasks.filter((t) => t.id !== action.id);\n    }\n    default: {\n      throw Error(\"Unknown action: \" + action.type);\n    }\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" tasksReducer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"tasks\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  //(\\u5F53\\u524D\\u72B6\\u6001, \\u5BF9\\u8C61\\u58F0\\u660E)\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  switch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"added\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        ...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"tasks,\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"          //\\u8FD4\\u56DE\\u4E0B\\u4E00\\u4E2A\\u72B6\\u6001\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          id: action.id,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          text: action.text,\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          done: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ];\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"deleted\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tasks.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"t\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" t.id \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" action.id);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      throw\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Unknown action: \"'}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" action.type);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u7EC4\\u4EF6\\u4E2D\\u7684\\u51CF\\u901F\\u5668\\u3002\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import { useReducer } from \"react\";\n//\\u66FF\\u6362useState\nconst [tasks, dispatch] = useReducer(tasksReducer, initialTasks); //(\\u51CF\\u901F\\u5668\\u529F\\u80FD\\u3001\\u521D\\u59CB\\u72B6\\u6001)\n//\\u8FD4\\u56DE\\u6709\\u72B6\\u6001\\u7684\\u503C\\u3001\\u5206\\u6D3E\\u51FD\\u6570\\uFF08\\u5C06\\u7528\\u6237\\u64CD\\u4F5C\\u201C\\u5206\\u6D3E\\u201D\\u5230reducer\\uFF09\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useReducer } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u66FF\\u6362useState\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"tasks\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useReducer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(tasksReducer, initialTasks); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//(\\u51CF\\u901F\\u5668\\u529F\\u80FD\\u3001\\u521D\\u59CB\\u72B6\\u6001)\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u8FD4\\u56DE\\u6709\\u72B6\\u6001\\u7684\\u503C\\u3001\\u5206\\u6D3E\\u51FD\\u6570\\uFF08\\u5C06\\u7528\\u6237\\u64CD\\u4F5C\\u201C\\u5206\\u6D3E\\u201D\\u5230reducer\\uFF09\"})})]})})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u89C4\\u5B9A\"}),`\n`]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u6309\\u7167\\u60EF\\u4F8B\\uFF0C\\u901A\\u5E38\\u7ED9 dispatch \\u4E00\\u4E2A type \\u63CF\\u8FF0\\u53D1\\u751F\\u4E86\\u4EC0\\u4E48\\u7684\\u5B57\\u7B26\\u4E32\\uFF0C\\u5E76\\u5728\\u5176\\u4ED6\\u5B57\\u6BB5\\u4E2D\\u4F20\\u9012\\u4EFB\\u4F55\\u9644\\u52A0\\u4FE1\\u606F\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u7EA6\\u5B9A\\u5728 reducer \\u4E2D\\u4F7F\\u7528 switch \\u4EE3\\u66FF if/else\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fscaling-up-with-reducer-and-context&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"useReducer+Context\"})}),\"\\uFF1A\\u5B9E\\u73B0\\u6DF1\\u5C42\\u4F20\\u9012\\uFF0C\\u4E0D\\u5C40\\u9650\\u4E8E\\u7236\\u5B50\\u663E\\u793A\\u4F20\\u9012\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"useeffect\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#useeffect\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"useEffect\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528\\u6765\\u8FDB\\u884C\\u526F\\u4F5C\\u7528\\u7684\\u5904\\u7406\\uFF0C\\u5982\\u83B7\\u53D6\\u670D\\u52A1\\u7AEF\\u6570\\u636E\\u3001\\u539F\\u751F\\u4E8B\\u4EF6\\u7ED1\\u5B9A\\u7B49\\u3002\\u5B83\\u8DDF class \\u7EC4\\u4EF6\\u4E2D\\u7684 \\xA0\",(0,n.jsx)(e.code,{children:\"componentDidMount\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"componentDidUpdate\"}),\"\\xA0 \\u548C \\xA0\",(0,n.jsx)(e.code,{children:\"componentWillUnmount\"}),\"\\xA0 \\u5177\\u6709\\u76F8\\u540C\\u7684\\u7528\\u9014\\uFF0C\\u53EA\\u4E0D\\u8FC7\\u88AB\\u5408\\u5E76\\u6210\\u4E86\\u4E00\\u4E2A API\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E0E \\xA0\",(0,n.jsx)(e.code,{children:\"componentDidMount\"}),\"\\xA0 \\u6216 \\xA0\",(0,n.jsx)(e.code,{children:\"componentDidUpdate\"}),\"\\xA0 \\u4E0D\\u540C\\uFF0C\\u4F7F\\u7528 \\xA0\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\"\\xA0 \\u8C03\\u5EA6\\u7684 effect \\u4E0D\\u4F1A\\u963B\\u585E\\u6D4F\\u89C8\\u5668\\u66F4\\u65B0\\u5C4F\\u5E55\\uFF0C\\u8FD9\\u8BA9\\u4F60\\u7684\\u5E94\\u7528\\u770B\\u8D77\\u6765\\u54CD\\u5E94\\u66F4\\u5FEB\\u3002\\u5927\\u591A\\u6570\\u60C5\\u51B5\\u4E0B\\uFF0Ceffect\\xA0\",(0,n.jsx)(e.strong,{children:\"\\u4E0D\\u9700\\u8981\\u540C\\u6B65\\u5730\\u6267\\u884C\"}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u4F60\\u8C03\\u7528 \\xA0\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\"\\xA0 \\u65F6\\uFF0C\\u5C31\\u662F\\u5728\\u544A\\u8BC9 React \\u5728\\u5B8C\\u6210\\u5BF9 DOM \\u7684\\u66F4\\u6539\\u540E\\u8FD0\\u884C\\u4F60\\u7684\\u201C\\u526F\\u4F5C\\u7528\\u201D\\u51FD\\u6570\\u3002\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C\\u5B83\\u5728\\u7B2C\\u4E00\\u6B21\\u6E32\\u67D3\\u4E4B\\u540E\\u548C\\u6BCF\\u6B21\\u66F4\\u65B0\\u4E4B\\u540E\\u90FD\\u4F1A\\u6267\\u884C.\\u4E0D\\u7528\\u518D\\u53BB\\u8003\\u8651\\u201C\\u6302\\u8F7D\\u201D\\u8FD8\\u662F\\u201C\\u66F4\\u65B0\\u201D.\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u901A\\u8FC7\\u51FD\\u6570\\u7684\\u8FD4\\u56DE\\u503C\\u6E05\\u7406\\u526F\\u4F5C\\u7528\\uFF0C React \\u4F1A\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u7684\\u65F6\\u5019\\u6267\\u884C\\u6E05\\u9664\\u64CD\\u4F5C\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`useEffect(() => {\n  ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n  return () => {\n    ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n  };\n});\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ChatAPI.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"subscribeToFriendStatus\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(props.friend.id, handleStatusChange);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ChatAPI.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"unsubscribeFromFriendStatus\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(props.friend.id, handleStatusChange);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5229\\u7528\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\uFF0C\\u63A7\\u5236 useEffect \\u5165\\u53C2\\u51FD\\u6570\\u7684\\u6267\\u884C\\uFF0C\\u5F53\\u4F9D\\u8D56\\u53D8\\u5316\\u7684\\u65F6\\u5019 useEffect \\u5165\\u53C2\\u51FD\\u6570\\u624D\\u4F1A\\u6267\\u884C\\uFF0C\"}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:\"useEffect(() => {\\n  document.title = `You clicked ${count} times`;\\n}, [count]); // \\u4EC5\\u5728 count \\u66F4\\u6539\\u65F6\\u66F4\\u65B0\\n\",children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.title \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `You clicked ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} times`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, [count]); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4EC5\\u5728 count \\u66F4\\u6539\\u65F6\\u66F4\\u65B0\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"useref\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#useref\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"useRef\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u7528\\u4E8E\\u7F13\\u5B58\\u6570\\u636E\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"ref \\u7684\\u6539\\u53D8\\u4E0D\\u4F1A\\u91CD\\u65B0\\u89E6\\u53D1 render\\uFF0C\\u4FDD\\u5B58\\u4E0D\\u7528\\u4E8E\\u6E32\\u67D3\\u7684\\u503C\\u3002\\u4F60\\u4E0D\\u4F1A\\u7ECF\\u5E38\\u9700\\u8981\\u5B83\\u4EEC\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useRef\"}),\"\\xA0 \\u8FD4\\u56DE\\u4E00\\u4E2A\\u53EF\\u53D8\\u7684 ref \\u5BF9\\u8C61\\uFF0C\\u5176 \\xA0\",(0,n.jsx)(e.code,{children:\".current\"}),\"\\xA0 \\u5C5E\\u6027\\u88AB\\u521D\\u59CB\\u5316\\u4E3A\\u4F20\\u5165\\u7684\\u53C2\\u6570\\u3002\\u8FD4\\u56DE\\u7684 ref \\u5BF9\\u8C61\\u5728\\u7EC4\\u4EF6\\u7684\\u6574\\u4E2A\\u751F\\u547D\\u5468\\u671F\\u5185\\u6301\\u7EED\\u5B58\\u5728\\u3002\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`//\\u8FD4\\u56DE\n{\n  current: 0; // The value you passed to useRef\n}\n//Example\n//\\u7EC4\\u4EF6\\u4E0D\\u4F1A\\u968F\\u7740\\u6BCF\\u4E2A\\u589E\\u91CF\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\\u4E0E state \\u4E00\\u6837\\uFF0Crefs \\u5728\\u91CD\\u65B0\\u6E32\\u67D3\\u4E4B\\u95F4\\u7531 React \\u4FDD\\u7559\\u3002\n//\\u4F46\\u662F\\uFF0C\\u8BBE\\u7F6Estate\\u4F1A\\u91CD\\u65B0\\u6E32\\u67D3\\u7EC4\\u4EF6\\u3002\\u66F4\\u6539redf\\u4E0D\\u4F1A\\uFF01\nimport { useRef } from \"react\";\n\nexport default function Counter() {\n  let ref = useRef(0);\n\n  function handleClick() {\n    ref.current = ref.current + 1;\n    alert(\"You clicked \" + ref.current + \" times!\");\n  }\n\n  return <button onClick={handleClick}>Click me! </button>;\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u8FD4\\u56DE\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  current\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// The value you passed to useRef\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//Example\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u7EC4\\u4EF6\\u4E0D\\u4F1A\\u968F\\u7740\\u6BCF\\u4E2A\\u589E\\u91CF\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\\u4E0E state \\u4E00\\u6837\\uFF0Crefs \\u5728\\u91CD\\u65B0\\u6E32\\u67D3\\u4E4B\\u95F4\\u7531 React \\u4FDD\\u7559\\u3002\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u4F46\\u662F\\uFF0C\\u8BBE\\u7F6Estate\\u4F1A\\u91CD\\u65B0\\u6E32\\u67D3\\u7EC4\\u4EF6\\u3002\\u66F4\\u6539redf\\u4E0D\\u4F1A\\uFF01\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useRef } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Counter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ref \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ref.current \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ref.current \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    alert\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"You clicked \"'}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ref.current \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \" times!\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleClick}>Click me! </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u624B\\u5199 useRef\"})}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`function useRef(initialValue) {\n  const [ref, unused] = useState({ current: initialValue });\n  return ref;\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"initialValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"unused\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ current: initialValue });\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ref;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"refs \\u548C state \\u7684\\u533A\\u522B\"})}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"redfs\"}),(0,n.jsx)(e.th,{children:\"state\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsxs)(e.td,{children:[\"\\u8FD4\\u56DE\",(0,n.jsx)(e.code,{children:\"{ current: initialValue }\"})]}),(0,n.jsx)(e.td,{children:\"\\u8FD4\\u56DE[value, setValue]\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u66F4\\u6539\\u65F6\\u4E0D\\u4F1A\\u89E6\\u53D1\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"}),(0,n.jsx)(e.td,{children:\"\\u66F4\\u6539\\u65F6\\u89E6\\u53D1\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u53EF\\u53D8\\u7684\\u2014\\u53EF\\u5728\\u6E32\\u67D3\\u8FC7\\u7A0B\\u4E4B\\u5916\\u4FEE\\u6539 current\"}),(0,n.jsx)(e.td,{children:\"\\u201C\\u4E0D\\u53EF\\u53D8\\u201D\\u2014\\u60A8\\u5FC5\\u987B\\u4F7F\\u7528 setState \\u4EE5\\u6392\\u961F\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"\\u60A8\\u4E0D\\u5E94\\u8BE5\\u5728\\u6E32\\u67D3\\u671F\\u95F4\\u8BFB\\u53D6\\uFF08\\u6216\\u5199\\u5165\\uFF09current\\u3002\"}),(0,n.jsxs)(e.td,{children:[\"\\u60A8\\u53EF\\u4EE5\\u968F\\u65F6\\u8BFB\\u53D6\\u72B6\\u6001\\u3002\\u4F46\\u662F\\uFF0C\\u6BCF\\u4E2A\\u6E32\\u67D3\\u90FD\\u6709\\u81EA\\u5DF1\\u7684\\u72B6\\u6001\",(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Freactjs.bootcss.com%2Flearn%2Fstate-as-a-snapshot&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u5FEB\\u7167\"}),\"\\uFF0C\\u4E0D\\u4F1A\\u6539\\u53D8\\u3002\"]})]})]})]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u7528\\u4E8E\\u83B7\\u53D6 DOM \\u5143\\u7D20\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7531 React \\u7BA1\\u7406\\u7684 DOM \\u5143\\u7D20\\u2014\\u2014\\u4F8B\\u5982\\uFF0C\\u805A\\u7126\\u4E00\\u4E2A\\u8282\\u70B9\\u3001\\u6EDA\\u52A8\\u5230\\u5B83\\uFF0C\\u6216\\u8005\\u6D4B\\u91CF\\u5B83\\u7684\\u5927\\u5C0F\\u548C\\u4F4D\\u7F6E\\u3002\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import { useRef } from 'react';\n\nexport default function Form() {\n   //\\u58F0\\u660E\\u4E00\\u4E2Aref\n  const inputRef = useRef(null);\n\n  function handleClick() {\n    inputRef.current.focus();\n  }\n\n  return (\n    <>\n      //React\\u5C06 <input>\\u7684 DOM \\u8282\\u70B9\\u653E\\u5165inputRef.current.\n      <input ref={inputRef} />\n      <button onClick={handleClick}>\n        Focus the input\n      </button>\n    </>\n  );\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useRef } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Form\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"   //\\u58F0\\u660E\\u4E00\\u4E2Aref\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" inputRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    inputRef.current.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"focus\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <>\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      //React\\u5C06 <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u7684 DOM \\u8282\\u70B9\\u653E\\u5165inputRef.current.\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{inputRef} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleClick}>\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        Focus the input\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528 forwardRef \\u5B9E\\u73B0 \\u8F6C\\u53D1 dom ref \\u5230\\u5B50\\u7EC4\\u4EF6\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B React \\u4E0D\\u5141\\u8BB8\\u7EC4\\u4EF6\\u8BBF\\u95EE\\u5176\\u4ED6\\u7EC4\\u4EF6\\u7684 DOM \\u8282\\u70B9\\uFF0C\\u8FDE\\u81EA\\u5DF1\\u7684\\u5B69\\u5B50\\u90FD\\u4E0D\\u884C\\u3002\\u7528\",(0,n.jsx)(e.code,{children:\"forwardRef\"}),\"\\u8BA9\\u4E00\\u4E2A\\u7EC4\\u4EF6\\u53EF\\u4EE5\\u6307\\u5B9A\\u5B83\\u628A\\u5B83\\u7684\\u5F15\\u7528\\u201C\\u8F6C\\u53D1\\u201D\\u7ED9\\u5B83\\u7684\\u4E00\\u4E2A\\u5B69\\u5B50\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import { forwardRef, useRef } from \"react\";\n\n//forwardRef\\u58F0\\u660E\\uFF0C\\u8FD9\\u4F7F\\u5B83\\u9009\\u62E9inputRef\\u4ECE\\u4E0A\\u9762\\u63A5\\u6536ref\\u4F5C\\u4E3A\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\uFF0C\\u8BE5\\u53C2\\u6570\\u662F\\u5728props\\u4E4B\\u540E\\u58F0\\u660E\\u7684\\u3002\nconst MyInput = forwardRef((props, ref) => {\n  return <input {...props} ref={ref} />;\n});\n\nexport default function Form() {\n  const inputRef = useRef(null);\n\n  function handleClick() {\n    inputRef.current.focus();\n  }\n\n  return (\n    <>\n      //\\u544A\\u8BC9 React \\u5C06\\u5BF9\\u5E94\\u7684 DOM \\u8282\\u70B9\\u653E\\u5165inputRef.current.\n      \\u4F46\\u662F\\uFF0C\\u7531MyInput\\u7EC4\\u4EF6\\u51B3\\u5B9A\\u662F\\u5426\\u9009\\u62E9\\u52A0\\u5165 - \\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C\\u5B83\\u4E0D\\u4F1A\\u3002\n      <MyInput ref={inputRef} />\n      <button onClick={handleClick}>Focus the input</button>\n    </>\n  );\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { forwardRef, useRef } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//forwardRef\\u58F0\\u660E\\uFF0C\\u8FD9\\u4F7F\\u5B83\\u9009\\u62E9inputRef\\u4ECE\\u4E0A\\u9762\\u63A5\\u6536ref\\u4F5C\\u4E3A\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\uFF0C\\u8BE5\\u53C2\\u6570\\u662F\\u5728props\\u4E4B\\u540E\\u58F0\\u660E\\u7684\\u3002\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" MyInput\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" forwardRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"props} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ref\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{ref} />;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Form\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" inputRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    inputRef.current.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"focus\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      //\\u544A\\u8BC9 React \\u5C06\\u5BF9\\u5E94\\u7684 DOM \\u8282\\u70B9\\u653E\\u5165inputRef.current.\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      \\u4F46\\u662F\\uFF0C\\u7531MyInput\\u7EC4\\u4EF6\\u51B3\\u5B9A\\u662F\\u5426\\u9009\\u62E9\\u52A0\\u5165 - \\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C\\u5B83\\u4E0D\\u4F1A\\u3002\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"MyInput\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{inputRef} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleClick}>Focus the input</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"usememo\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#usememo\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"useMemo\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6570\\u636E\\u7F13\\u5B58\\uFF0C\\u4F9D\\u8D56\\u53D8\\u5316\\u65F6\\uFF0C\\u5DE5\\u5382\\u51FD\\u6570\\u4F1A\\u91CD\\u65B0\\u6267\\u884C\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`const memoizedValue = useMemo(() => computeExpensiveValue(a, b), [a, b]);\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" memoizedValue\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useMemo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" computeExpensiveValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(a, b), [a, b]);\"})]})})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"usecallback\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#usecallback\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"useCallback\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`const memoizedCallback = useCallback(() => {\n  doSomething(a, b);\n}, [a, b]);\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" memoizedCallback\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useCallback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  doSomething\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(a, b);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, [a, b]);\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6570\\u636E\\u7F13\\u5B58\\uFF0C\\u4F9D\\u8D56\\u53D8\\u5316\\u65F6\\uFF0C\\u7F13\\u5B58\\u7684\\u51FD\\u6570\\u4F1A\\u66F4\\u65B0\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u628A\\u5185\\u8054\\u56DE\\u8C03\\u51FD\\u6570\\u53CA\\u4F9D\\u8D56\\u9879\\u6570\\u7EC4\\u4F5C\\u4E3A\\u53C2\\u6570\\u4F20\\u5165 \\xA0\",(0,n.jsx)(e.code,{children:\"useCallback\"}),\"\\uFF0C\\u5B83\\u5C06\\u8FD4\\u56DE\\u8BE5\\u56DE\\u8C03\\u51FD\\u6570\\u7684 memoized \\u7248\\u672C\\uFF0C\\u8BE5\\u56DE\\u8C03\\u51FD\\u6570\\u4EC5\\u5728\\u67D0\\u4E2A\\u4F9D\\u8D56\\u9879\\u6539\\u53D8\\u65F6\\u624D\\u4F1A\\u66F4\\u65B0\\u3002\\u5F53\\u4F60\\u628A\\u56DE\\u8C03\\u51FD\\u6570\\u4F20\\u9012\\u7ED9\\u7ECF\\u8FC7\\u4F18\\u5316\\u7684\\u5E76\\u4F7F\\u7528\\u5F15\\u7528\\u76F8\\u7B49\\u6027\\u53BB\\u907F\\u514D\\u975E\\u5FC5\\u8981\\u6E32\\u67D3\\uFF08\\u4F8B\\u5982 \\xA0\",(0,n.jsx)(e.code,{children:\"shouldComponentUpdate\"}),\"\\uFF09\\u7684\\u5B50\\u7EC4\\u4EF6\\u65F6\\uFF0C\\u5B83\\u5C06\\u975E\\u5E38\\u6709\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useCallback(fn, deps)\"}),\"\\xA0 \\u76F8\\u5F53\\u4E8E \\xA0\",(0,n.jsx)(e.code,{children:\"useMemo(() => fn, deps)\"}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u81EA\\u5B9A\\u4E49-hooks\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u81EA\\u5B9A\\u4E49-hooks\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u81EA\\u5B9A\\u4E49 Hooks\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7\\u539F\\u751F hooks \\u7684\\u7EC4\\u88C5\\uFF0C\\u5B9E\\u73B0\\u903B\\u8F91\\u7684\\u62BD\\u8C61\\u590D\\u7528\\uFF0C\\u81EA\\u5B9A\\u4E49 hooks \\u4E5F\\u7EDF\\u4E00\\u7528 useXXX \\u547D\\u540D\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"flushsync-\\u540C\\u6B65\\u5237\\u65B0\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#flushsync-\\u540C\\u6B65\\u5237\\u65B0\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"flushSync \\u540C\\u6B65\\u5237\\u65B0\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728 React \\u4E2D\\uFF0C\\u72B6\\u6001\\u66F4\\u65B0\\u662F\\u5F02\\u6B65\\u7684\\uFF0C\\u5BFC\\u81F4\\u4E00\\u4E2A\\u95EE\\u9898\\uFF0C\\u6570\\u636E\\u8FD8\\u672A\\u66F4\\u65B0\\u5C31\\u7EE7\\u7EED\\u6267\\u884C\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8981\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u4F60\\u53EF\\u4EE5\\u5F3A\\u5236 React \\u540C\\u6B65\\u66F4\\u65B0\\uFF08\\u201C\\u5237\\u65B0\\u201D\\uFF09DOM\\u3002\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import { flushSync } from \"react-dom\";\n\nflushSync(() => {\n  setTodos([...todos, newTodo]);\n});\nlistRef.current.lastChild.scrollIntoView();\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { flushSync } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react-dom\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"flushSync\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setTodos\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"todos, newTodo]);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"listRef.current.lastChild.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"scrollIntoView\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7EC4\\u4EF6\\u901A\\u4FE1\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u7EC4\\u4EF6\\u901A\\u4FE1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7EC4\\u4EF6\\u901A\\u4FE1\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"props\\u7236\\u5B50\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#props\\u7236\\u5B50\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Props\\uFF08\\u7236\\u5B50\\uFF09\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7236\\u7EC4\\u4EF6\\u4F7F\\u7528 props \\u5411\\u5B50\\u7EC4\\u4EF6\\u4F20\\u9012\\uFF0C\\u5B50\\u7EC4\\u4EF6\\u5230\\u7236\\u7EC4\\u4EF6\\u5229\\u7528\\u56DE\\u8C03\\u51FD\\u6570 \\u5F53\\u5185\\u5BB9\\u5D4C\\u5957\\u5728 JSX \\u6807\\u8BB0\\u4E2D\\u65F6\\uFF0C\\u7236\\u7EC4\\u4EF6\\u5C06\\u5176\\u540D\\u4E3A\",(0,n.jsx)(e.code,{children:\"children\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7236\\u7EC4\\u4EF6\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`import React, { Component } from \"react\";\nimport Sub from \"./SubComponent.js\";\nimport \"./App.css\";\n\nexport default class App extends Component {\n  callback(msg) {\n    console.log(msg);\n  }\n\n  render() {\n    return (\n      <div>\n        <Sub title=\"\\u4ECA\\u5E74\\u8FC7\\u8282\\u4E0D\\u6536\\u793C\" callback={this.callback.bind(this)} />\n      </div>\n    );\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { Component } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Sub \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./SubComponent.js\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./App.css\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(msg);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Sub\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" title\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4ECA\\u5E74\\u8FC7\\u8282\\u4E0D\\u6536\\u793C\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" callback\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".callback.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"bind\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5B50\\u7EC4\\u4EF6\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`import React from \"react\";\n//\\u53EF\\u89E3\\u6784({title,callback})=>{}\nconst Sub = (props) => {\n  const cb = (msg) => {\n    return () => {\n      props.callback(msg);\n    };\n  };\n  return (\n    <div>\n      <h1>{props.title} </h1>\n      <button onClick={cb(\"\\u6211\\u4EEC\\u901A\\u4FE1\\u628A\")}>\\u70B9\\u51FB\\u6211</button>\n    </div>\n  );\n};\n\nexport default Sub;\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u53EF\\u89E3\\u6784({title,callback})=>{}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Sub\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" cb\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      props.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(msg);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{props.title} </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"cb\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6211\\u4EEC\\u901A\\u4FE1\\u628A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}>\\u70B9\\u51FB\\u6211</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Sub;\"})]})]})})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u7528 bind()?\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u5982\\u679C\\u4F20\\u9012\\u4E00\\u4E2A\\u51FD\\u6570\\u540D\\u7ED9\\u4E00\\u4E2A\\u53D8\\u91CF\\uFF0C\\u4E4B\\u540E\\u901A\\u8FC7\\u51FD\\u6570\\u540D()\\u7684\\u65B9\\u5F0F\\u8FDB\\u884C\\u8C03\\u7528\\uFF0C\\u5728\\u65B9\\u6CD5\\u5185\\u90E8\\u5982\\u679C\\u4F7F\\u7528this \\u5219 this \\u7684\\u6307\\u5411\\u4F1A\\u4E22\\u5931\\u3002\"})}),`\n`,(0,n.jsx)(e.p,{children:`\\u5982\\u679C\\u4F7F\\u7528 node \\u73AF\\u5883\\u6267\\u884C js \\u6587\\u4EF6\\u5219\\u8F93\\u51FA node \\u76F8\\u5173\\u4FE1\\u606F\\uFF0C\\u5982\\u5D4C\\u5165\\u5230 html \\u4E2D\\u5219 this\n\\u6307\\u5411 window \\u5BF9\\u8C61`}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`const test = {\n  name: \"jack\",\n  getJack: function () {\n    console.log(this.name);\n  },\n};\nconst func = test.getJack;\nfunc();\n//undefined\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" test\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"jack\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  getJack\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".name);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" func\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" test.getJack;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"func\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//undefined\"})})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"React \\u4E2D\\u7684 bind \\u540C\\u4E0A\\u65B9\\u539F\\u7406\\u4E00\\u81F4,\\u5728 JSX \\u4E2D\\u4F20\\u9012\\u7684\\u4E8B\\u4EF6\\u4E0D\\u662F\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\\uFF0C\\u800C\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\uFF08\\u5982:onClick=\",this.handleClick,\"\\uFF09\\uFF0C\\u6B64\\u65F6 onClick \\u5373\\u662F\\u4E2D\\u95F4\\u53D8\\u91CF\\uFF0C\\u6240\\u4EE5\\u5904\\u7406\\u51FD\\u6570\\u4E2D\\u7684 this \\u6307\\u5411\\u4F1A\\u4E22\\u5931\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"react \\u7EC4\\u4EF6\\u5185\\u70B9\\u51FB\\u4E8B\\u4EF6\\u7684 this \\u7684 3 \\u79CD\\u6307\\u5411\\u65B9\\u6CD5\"}),`\n`]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8C03\\u7528\\u51FD\\u6570\\u65F6\",(0,n.jsx)(e.strong,{children:\"bind\"}),\"(this)\\uFF0C\\uFF0Cthis \\u6307\\u5411\\u5F53\\u524D\\u5B9E\\u4F8B\\u5316\\u5BF9\\u8C61\\u3002\\xA0\",(0,n.jsx)(e.code,{children:\"onClick={this.handleClick1.bind( this )}\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u58F0\\u660E\\u51FD\\u6570\\u65F6\\u4F7F\\u7528\",(0,n.jsx)(e.strong,{children:\"\\u7BAD\\u5934\\u51FD\\u6570\"}),\"\\uFF0C\\u5E76\\u5728\\u8C03\\u7528\\u65F6\\u76F4\\u63A5\\u4F7F\\u7528 this.\\u53D8\\u91CF\\u540D\\u5373\\u53EF\\u3002\\xA0\",(0,n.jsx)(e.code,{children:\"handleClick3 =()=>{console.log( this )}\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u901A\\u8FC7\\u5728\\u6784\\u9020\\u51FD\\u6570\",(0,n.jsx)(e.strong,{children:\"constructor\"}),\"\\u5185\\u4F7F\\u7528 bind \\u5BF9\\u51FD\\u6570\\u5185\\u7684 this \\u91CD\\u5B9A\\u5411 \\xA0\",(0,n.jsx)(e.code,{children:\"this.handleClick2 = this.handleClick2.bind(this)\"}),\"\\xA0 \\u4E0D\\u5EFA\\u8BAE\\u5728 render()\\u4E2D bind\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4F1A\\u5728\\u6BCF\\u6B21 render()\\u65B9\\u6CD5\\u6267\\u884C\\u65F6\\u7ED1\\u5B9A\\u7C7B\\u65B9\\u6CD5\\uFF0C\\u80AF\\u5B9A\\u5BF9\\u4E8E\\u6027\\u80FD\\u6709\\u5F71\\u54CD\\u3002\\u800C\\u76F4\\u63A5\\u5728 constructor \\u4E2D bind, \\u5219 bind \\u53EA\\u4F1A\\u5728\\u7EC4\\u4EF6\\u5B9E\\u4F8B\\u5316\\u521D\\u65F6\\u8FD0\\u884C\\u4E00\\u6B21\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"usecontext\\u7956\\u5148\\u540E\\u4EE3\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#usecontext\\u7956\\u5148\\u540E\\u4EE3\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"useContext\\uFF08\\u7956\\u5148\\u540E\\u4EE3\\uFF09\"]}),`\n`,(0,n.jsx)(e.p,{children:\"context \\u662F\\u7EC4\\u4EF6\\u6811\\u4E0A\\u67D0\\u68F5\\u5B50\\u6811\\u7684\\u5168\\u5C40\\u53D8\\u91CF\\u3002\\u4E00\\u9897\\u6811\\u4E0A\\u7684\\u6240\\u6709\\u7EC4\\u4EF6\\u53EF\\u4EE5\\u83B7\\u53D6\\u540C\\u6837\\u7684\\u72B6\\u6001\\u3002\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5F53\\u5B50\\u7EC4\\u4EF6\\u83B7\\u53D6\\u4E0A\\u4E0B\\u6587\\u65F6\\uFF0C\\u4ECE\\u81EA\\u8EAB\\u6700\\u8FD1\\u7684 Provider \\u4E2D\\u8BFB\\u53D6\\uFF0C\\u6CA1\\u6709\\u5219\\u8BFB\\u53D6\\u9ED8\\u8BA4\\u503C\"}),`\n`,(0,n.jsx)(e.li,{children:\"Provider \\u63A5\\u6536\\u4E00\\u4E2A value \\u5C5E\\u6027\\uFF0C\\u5E76\\u5C06\\u8BE5\\u5C5E\\u6027\\u4F20\\u9012\\u7ED9\\u81EA\\u5DF1\\u7684 Comsumer \\u7EC4\\u4EF6\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u591A\\u4E2A Provider \\u53EF\\u4EE5\\u5D4C\\u5957\\u4F7F\\u7528\\uFF0C\\u5185\\u5C42 value \\u8986\\u76D6\\u5916\\u5C42\"}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`import {useState, useContext, createContext} from 'react';\n//1\\u3001\\u521B\\u5EFA\\u5E76\\u5BFC\\u51FA\\u5B83\nconst  ThemeContext = createContext('');\n\nfunction Child(props){\n    //2\\u3001\\u5B50\\u7EC4\\u4EF6\\u58F0\\u660E\\u4F7F\\u7528\n    const theme = useContext(ThemeContext);\n    return (\n        <span>{theme}</span>\n    )\n}\n\nfunction ThemeShow(props){\n    const { theme } = props;\n    return (\n        <div>\n            theme is: <Child theme ={theme}/>\n        </div>\n    )}export defalut function App(){    const [theme,setTheme] = useState('blue');    return(        <div>\n            <button onClick={()=> setTheme('red')}> changeTheme</button>\n            //3\\u3001\\u7236\\u7EC4\\u4EF6\\u5305\\u88F9\\u63D0\\u4F9B            <ThemeContext.Provider value={theme}>\n                <ThemeShow />\n            </ThemeContext.Provider>\n        </div>\n\n    )}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {useState, useContext, createContext} \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//1\\u3001\\u521B\\u5EFA\\u5E76\\u5BFC\\u51FA\\u5B83\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"  ThemeContext\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createContext\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Child\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"){\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    //2\\u3001\\u5B50\\u7EC4\\u4EF6\\u58F0\\u660E\\u4F7F\\u7528\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" theme\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useContext\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(ThemeContext);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"span\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{theme}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"span\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    )\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ThemeShow\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"){\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"theme\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" props;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            theme is: <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Child\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" theme\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{theme}/>\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    )}\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" defalut function App(){    const [theme,setTheme] = useState(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'blue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");    return(        <div>\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            <button onClick={()=> setTheme(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'red'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}> changeTheme</button>\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"            //3\\u3001\\u7236\\u7EC4\\u4EF6\\u5305\\u88F9\\u63D0\\u4F9B            <ThemeContext.Provider value={theme}>\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"ThemeShow\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            </\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"ThemeContext.Provider\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        </\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    )}\"})})]})})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Class \\u5F62\\u5F0F\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7236\\u7EC4\\u4EF6 App.js\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Sub from \"./Sub\";\nimport \"./App.css\";\n\nexport default class App extends Component {\n  // \\u7236\\u7EC4\\u4EF6\\u58F0\\u660E\\u81EA\\u5DF1\\u652F\\u6301 context\n  static childContextTypes = {\n    color: PropTypes.string, //\\u6570\\u636E\\u7C7B\\u578B\n    callback: PropTypes.func,\n  };\n\n  // \\u7236\\u7EC4\\u4EF6\\u63D0\\u4F9B\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u7528\\u6765\\u8FD4\\u56DE\\u76F8\\u5E94\\u7684 context \\u5BF9\\u8C61\n  getChildContext() {\n    return {\n      color: \"red\",\n      callback: this.callback.bind(this),\n    };\n  }\n\n  callback(msg) {\n    console.log(msg);\n  }\n\n  render() {\n    return (\n      <div>\n        <Sub></Sub>\n      </div>\n    );\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { Component } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" PropTypes \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"prop-types\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Sub \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./Sub\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./App.css\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u7236\\u7EC4\\u4EF6\\u58F0\\u660E\\u81EA\\u5DF1\\u652F\\u6301 context\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  static\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" childContextTypes\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    color: PropTypes.string, \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u6570\\u636E\\u7C7B\\u578B\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    callback: PropTypes.func,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u7236\\u7EC4\\u4EF6\\u63D0\\u4F9B\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u7528\\u6765\\u8FD4\\u56DE\\u76F8\\u5E94\\u7684 context \\u5BF9\\u8C61\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  getChildContext\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      color: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"red\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      callback: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".callback.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"bind\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(msg);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Sub\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Sub\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5B50\\u7EC4\\u4EF6 Sub.js\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`import React from \"react\";\nimport SubSub from \"./SubSub\";\n\nconst Sub = (props) => {\n  return (\n    <div>\n      <SubSub />\n    </div>\n  );\n};\n\nexport default Sub;\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" SubSub \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./SubSub\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Sub\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"SubSub\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Sub;\"})]})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5B50\\u7EC4\\u4EF6\\u7684\\u5B50\\u7EC4\\u4EF6 SubSub.js\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",raw:`import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class SubSub extends Component {\n  // \\u5B50\\u7EC4\\u4EF6\\u58F0\\u660E\\u81EA\\u5DF1\\u9700\\u8981\\u4F7F\\u7528 context\n  static contextTypes = {\n    color: PropTypes.string,\n    callback: PropTypes.func,\n  };\n  render() {\n    const style = { color: this.context.color };\n    const cb = (msg) => {\n      return () => {\n        this.context.callback(msg);\n      };\n    };\n    return (\n      <div style={style}>\n        SUBSUB <button onClick={cb(\"\\u6211\\u80E1\\u6C49\\u4E09\\u53C8\\u56DE\\u6765\\u4E86\\uFF01\")}>\\u70B9\\u51FB\\u6211</button>\n      </div>\n    );\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { Component } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" PropTypes \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"prop-types\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SubSub\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5B50\\u7EC4\\u4EF6\\u58F0\\u660E\\u81EA\\u5DF1\\u9700\\u8981\\u4F7F\\u7528 context\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  static\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" contextTypes\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    color: PropTypes.string,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    callback: PropTypes.func,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" style\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { color: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".context.color };\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" cb\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".context.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(msg);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" style\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{style}>\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        SUBSUB <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"cb\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6211\\u80E1\\u6C49\\u4E09\\u53C8\\u56DE\\u6765\\u4E86\\uFF01\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}>\\u70B9\\u51FB\\u6211</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u4E8B\\u4EF6\\u603B\\u7EBF-bus\\u5144\\u5F1F\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u4E8B\\u4EF6\\u603B\\u7EBF-bus\\u5144\\u5F1F\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4E8B\\u4EF6\\u603B\\u7EBF Bus\\uFF08\\u5144\\u5F1F\\uFF09\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9700\\u8981\\u4F7F\\u7528\\u4E00\\u4E2A events \\u5305\\uFF1A\\xA0\",(0,n.jsx)(e.code,{children:\"npm install events --save\"}),\"\\xA0 \\u5728 src \\u4E0B\\u65B0\\u5EFA\\u4E00\\u4E2A utils \\u6587\\u4EF6\\u5939\\uFF0C\\u65B0\\u589E\\u6587\\u4EF6 events.js: \\u5411\\u5916\\u63D0\\u4F9B\\u4E00\\u4E2A\\u4E8B\\u4EF6\\u5BF9\\u8C61\\uFF1A\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import { EventEmitter } from \"events\";\nexport default new EventEmitter();\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { EventEmitter } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"events\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" EventEmitter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"App.js\\uFF1A\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import React, { Component } from \"react\";\n\nimport Foo from \"./Foo\";\nimport Boo from \"./Boo\";\n\nimport \"./App.css\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div>\n        <Foo />\n        <Boo />\n      </div>\n    );\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { Component } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Foo \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./Foo\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Boo \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./Boo\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./App.css\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Foo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Boo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"Foo.js:\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import React, { Component } from \"react\";\nimport emitter from \"./ev\";\n\nexport default class Foo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      msg: null,\n    };\n  }\n  componentDidMount() {\n    // \\u58F0\\u660E\\u4E00\\u4E2A\\u81EA\\u5B9A\\u4E49\\u4E8B\\u4EF6\n    // \\u5728\\u7EC4\\u4EF6\\u88C5\\u8F7D\\u5B8C\\u6210\\u4EE5\\u540E\n    this.eventEmitter = emitter.addListener(\"callMe\", (msg) => {\n      this.setState({\n        msg,\n      });\n    });\n  }\n  // \\u7EC4\\u4EF6\\u9500\\u6BC1\\u524D\\u79FB\\u9664\\u4E8B\\u4EF6\\u76D1\\u542C\n  componentWillUnmount() {\n    emitter.removeListener(this.eventEmitter);\n  }\n  render() {\n    return <div>{this.state.msg} \\u6211\\u662F\\u975E\\u5D4C\\u5957 1 \\u53F7 </div>;\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { Component } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" emitter \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./ev\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Foo\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    super\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(props);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      msg: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  componentDidMount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u58F0\\u660E\\u4E00\\u4E2A\\u81EA\\u5B9A\\u4E49\\u4E8B\\u4EF6\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u5728\\u7EC4\\u4EF6\\u88C5\\u8F7D\\u5B8C\\u6210\\u4EE5\\u540E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".eventEmitter \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" emitter.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"callMe\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        msg,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u7EC4\\u4EF6\\u9500\\u6BC1\\u524D\\u79FB\\u9664\\u4E8B\\u4EF6\\u76D1\\u542C\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  componentWillUnmount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    emitter.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".eventEmitter);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state.msg} \\u6211\\u662F\\u975E\\u5D4C\\u5957 1 \\u53F7 </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"Boo.js:\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import React, { Component } from \"react\";\nimport emitter from \"./ev\";\n\nexport default class Boo extends Component {\n  render() {\n    const cb = (msg) => {\n      return () => {\n        // \\u89E6\\u53D1\\u81EA\\u5B9A\\u4E49\\u4E8B\\u4EF6\n        emitter.emit(\"callMe\", \"Hello\");\n      };\n    };\n    return (\n      <div>\n        \\u6211\\u662F\\u975E\\u5D4C\\u5957 2 \\u53F7 <button onClick={cb(\"blue\")}>\\u70B9\\u51FB\\u6211</button>\n      </div>\n    );\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { Component } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" emitter \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./ev\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Boo\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" cb\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u89E6\\u53D1\\u81EA\\u5B9A\\u4E49\\u4E8B\\u4EF6\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        emitter.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"emit\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"callMe\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hello\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        \\u6211\\u662F\\u975E\\u5D4C\\u5957 2 \\u53F7 <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"cb\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"blue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}>\\u70B9\\u51FB\\u6211</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"redux\\u5168\\u5C40\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#redux\\u5168\\u5C40\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Redux\\uFF08\",(0,n.jsx)(e.a,{href:\"https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/preview_tpl3/?tpl_id=md&version=0&mount_point=explorer&updatePreviewTplSeed=1&sl=1&source=explorer#redux\",children:\"\\u5168\\u5C40\"}),\"\\uFF09\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u751F\\u547D\\u5468\\u671F\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u751F\\u547D\\u5468\\u671F\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u751F\\u547D\\u5468\\u671F\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F60\\u53EF\\u4EE5\\u4F7F\\u7528\\u6B64\",(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Fprojects.wojtekmaj.pl%2Freact-lifecycle-methods-diagram%2F&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u751F\\u547D\\u5468\\u671F\\u56FE\\u8C31\"}),\"\\u4F5C\\u4E3A\\u901F\\u67E5\\u8868\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Function \\u7EC4\\u4EF6\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Fgitee.com%2Fheavenmei%2FLearningNotes%2Fraw%2Fmaster%2Fimg%2F202204241521250.png&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",alt:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241521250.png\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Class \\u7EC4\\u4EF6\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204241524903.png\",alt:\"image-20220424152418167\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u751F\\u547D\\u5468\\u671F\\u5BF9\\u5E94\"})}),`\n`,(0,n.jsxs)(e.h1,{id:\"\\u8FDB\\u9636\\u7BC7\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u8FDB\\u9636\\u7BC7\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8FDB\\u9636\\u7BC7\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u865A\\u62DF-dom\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u865A\\u62DF-dom\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u865A\\u62DF DOM\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u6D4F\\u89C8\\u5668\\u6E32\\u67D3\\u8FC7\\u7A0B\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Fimg.alicdn.com%2Ftps%2FTB1eabOLpXXXXX3XFXXXXXXXXXX-1093-167.jpg_720x720.jpg%23alt%3D&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",alt:\"https://img.alicdn.com/tps/TB1eabOLpXXXXX3XFXXXXXXXXXX-1093-167.jpg_720x720.jpg#alt=\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5F15\\u5165\\u865A\\u62DF DOM\\uFF1F\"}),`\n`]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u5355\\u9875\\u9762\\u5E94\\u7528\\u4E2D\\uFF0C\\u6D89\\u53CA\\u5927\\u91CF DOM \\u64CD\\u4F5C\\uFF0C\\u5F15\\u8D77\\u591A\\u6B21\\u8BA1\\u7B97\\uFF0C\\u6BCF\\u6B21 DOM \\u64CD\\u4F5C\\u90FD\\u4F1A\\u91CD\\u65B0\\u6784\\u5EFA\\u6E32\\u67D3\\u6811\\u3001\\u5E03\\u5C40\\u3001\\u6E32\\u67D3\\u6D41\\u7A0B\\uFF0C\\u9020\\u6210\\u5DE8\\u5927\\u6027\\u80FD\\u635F\\u8017\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"DOM \\u5143\\u7D20\\u5F88\\u5E9E\\u5927\\uFF0C\\u76F8\\u8F83\\u4E4B\\u4E0B JavaScript \\u5BF9\\u8C61\\u5904\\u7406\\u8D77\\u6765\\u66F4\\u5FEB\\u3001\\u66F4\\u7B80\\u5355\\u3002DOM \\u5BF9\\u8C61\\u53EF\\u4EE5\\u5F88\\u5BB9\\u6613\\u7528 Javascript \\u5BF9\\u8C61\\u6765\\u8868\\u793A\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.strong,{children:[\"\\u72B6\\u6001\\u6811-->\\u865A\\u62DF DOM \\u6811-->Diff \\u6BD4\\u8F83\\u5DEE\\u5F02-->\",(0,n.jsx)(e.code,{children:\"ReactDOM.render()\"}),\"-->DOM \\u6811\"]})}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`<p id=\"text\">hello<span class=\"textRed\">world</span>\nvar element={\n    tagName:'p',\n    props:{\n        id:'text'\n    },\n    children:[\n        \"hello\",\n        {\n            tagName:'span',\n            props:{class:'textRed'},\n            childeren:[\"World\"]\n        }\n    ]\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" id\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"text\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">hello<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"span\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"textRed\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">world</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"span\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"var element={\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    tagName:\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'p'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    props:{\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        id:\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'text'\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    children:[\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'        \"hello\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            tagName:\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'span'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            props:{class:\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'textRed'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"},\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            childeren:[\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"World\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ]\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"diff-\\u7B97\\u6CD5\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#diff-\\u7B97\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Diff \\u7B97\\u6CD5\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F20\\u7EDF\\u7684 Diff \\u7B97\\u6CD5\\u590D\\u6742\\u5EA6\",(0,n.jsxs)(e.span,{className:\"katex\",children:[(0,n.jsx)(e.span,{className:\"katex-mathml\",children:(0,n.jsx)(e.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:\"O\"}),(0,n.jsx)(e.mo,{stretchy:\"false\",children:\"(\"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mi,{children:\"n\"}),(0,n.jsx)(e.mn,{children:\"3\"})]}),(0,n.jsx)(e.mo,{stretchy:\"false\",children:\")\"})]}),(0,n.jsx)(e.annotation,{encoding:\"application/x-tex\",children:\"O(n^3)\"})]})})}),(0,n.jsx)(e.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,n.jsxs)(e.span,{className:\"base\",children:[(0,n.jsx)(e.span,{className:\"strut\",style:{height:\"1.0641em\",verticalAlign:\"-0.25em\"}}),(0,n.jsx)(e.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"O\"}),(0,n.jsx)(e.span,{className:\"mopen\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"mord\",children:[(0,n.jsx)(e.span,{className:\"mord mathnormal\",children:\"n\"}),(0,n.jsx)(e.span,{className:\"msupsub\",children:(0,n.jsx)(e.span,{className:\"vlist-t\",children:(0,n.jsx)(e.span,{className:\"vlist-r\",children:(0,n.jsx)(e.span,{className:\"vlist\",style:{height:\"0.8141em\"},children:(0,n.jsxs)(e.span,{style:{top:\"-3.063em\",marginRight:\"0.05em\"},children:[(0,n.jsx)(e.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,n.jsx)(e.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,n.jsx)(e.span,{className:\"mord mtight\",children:\"3\"})})]})})})})})]}),(0,n.jsx)(e.span,{className:\"mclose\",children:\")\"})]})})]}),\"\\uFF0C\\u901A\\u8FC7\\u4E24\\u4E2A\\u5047\\u8BBE\\u4F18\\u5316\\u5230\",(0,n.jsxs)(e.span,{className:\"katex\",children:[(0,n.jsx)(e.span,{className:\"katex-mathml\",children:(0,n.jsx)(e.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:\"O\"}),(0,n.jsx)(e.mo,{stretchy:\"false\",children:\"(\"}),(0,n.jsx)(e.mi,{children:\"n\"}),(0,n.jsx)(e.mo,{stretchy:\"false\",children:\")\"})]}),(0,n.jsx)(e.annotation,{encoding:\"application/x-tex\",children:\"O(n)\"})]})})}),(0,n.jsx)(e.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,n.jsxs)(e.span,{className:\"base\",children:[(0,n.jsx)(e.span,{className:\"strut\",style:{height:\"1em\",verticalAlign:\"-0.25em\"}}),(0,n.jsx)(e.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"O\"}),(0,n.jsx)(e.span,{className:\"mopen\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"mord mathnormal\",children:\"n\"}),(0,n.jsx)(e.span,{className:\"mclose\",children:\")\"})]})})]}),\"\\u3002\\xA0\",(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Fblog.csdn.net%2Fqdmoment%2Farticle%2Fdetails%2F88798916%3Fops_request_misc%3D%25257B%252522request%25255Fid%252522%25253A%252522165084998416782425175606%252522%25252C%252522scm%252522%25253A%25252220140713.130102334.pc%25255Fall.%252522%25257D%26request_id%3D165084998416782425175606%26biz_id%3D0%26utm_medium%3Ddistribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-88798916.142%255Ev9%255Epc_search_result_cache%2C157%255Ev4%255Econtrol%26utm_term%3Dreact%2Bdiff%26spm%3D1018.2226.3001.4187&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u53C2\\u8003\\u6587\\u7AE0\\uFF1Areact diff \\u7B97\\u6CD5\\u8BE6\\u89E3\"})]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u4E24\\u4E2A\\u4E0D\\u540C\\u7C7B\\u578B\\u7684\\u5143\\u7D20\\u4F1A\\u4EA7\\u751F\\u4E0D\\u540C\\u7684\\u6811\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5BF9\\u4E8E\\u540C\\u4E00\\u5C42\\u7EA7\\u7684\\u4E00\\u7EC4\\u5B50\\u5143\\u7D20\\uFF0C\\u4ED6\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\\u552F\\u4E00 ID \\u8FDB\\u884C\\u533A\\u5206\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"tree diff\"}),\"\\uFF1A\\u540C\\u5C42\\u6BD4\\u8F83\\uFF0C\\u5982\\u679C\\u8282\\u70B9\\u4E0D\\u5B58\\u5728\\u76F4\\u63A5\\u5220\\u9664\\u521B\\u5EFA\\u3002\\u8FD9\\u6837\\u53EA\\u9700\\u8981\\u5BF9 DOM \\u6811\\u8FDB\\u884C\\u4E00\\u6B21\\u904D\\u5386\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5B8C\\u6210\\u6574\\u4E2A\\u6811\\u7684\\u6BD4\\u8F83\\u3002\\u590D\\u6742\\u5EA6\\u53D8\\u4E3A\",(0,n.jsx)(e.em,{children:\"O(n)\"}),\"\\u3002\\u56E0\\u6B64\\u4E0D\\u5EFA\\u8BAE\\u8FDB\\u884C DOM \\u8282\\u70B9\\u8DE8\\u5C42\\u7EA7\\u7684\\u64CD\\u4F5C\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204250927916.png\",alt:\"image-20220425092757991\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Component diff\"}),\"\\uFF1A\\u540C\\u4E00\\u7C7B\\u578B\\u7684\\u7EC4\\u4EF6\\u7EE7\\u7EED tree diff \\u6BD4\\u8F83\\uFF0C\\u4E0D\\u540C\\u7C7B\\u578B\\u7684\\u7EC4\\u4EF6\\u76F4\\u63A5\\u5220\\u9664\\u91CD\\u5EFA\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202204250929100.png\",alt:\"img\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"element diff\"}),\"\\uFF1Akey \\u6807\\u8BC6\\uFF0C\\u5224\\u65AD\\u662F\\u5426\\u662F\\u540C\\u4E00\\u7EC4\\u4EF6\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u63D2\\u5165\\uFF1A\\u65B0\\u7684 component \\u7C7B\\u578B\\u4E0D\\u5728\\u8001\\u96C6\\u5408\\u91CC\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u79FB\\u52A8\\uFF1A\\u5728\\u8001\\u96C6\\u5408\\u6709\\u65B0 component \\u7C7B\\u578B\\uFF0C\\u4E14 element \\u662F\\u53EF\\u66F4\\u65B0\\u7684\\u7C7B\\u578B\\uFF0C\\u53EF\\u4EE5\\u590D\\u7528\\u4EE5\\u524D\\u7684 DOM \\u8282\\u70B9\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5220\\u9664\\uFF1A\\u8001 component \\u7C7B\\u578B\\uFF0C\\u5728\\u65B0\\u96C6\\u5408\\u91CC\\u4E5F\\u6709\\uFF0C\\u4F46\\u5BF9\\u5E94\\u7684 element \\u4E0D\\u540C\\u5219\\u4E0D\\u80FD\\u76F4\\u63A5\\u590D\\u7528\\u548C\\u66F4\\u65B0\\uFF1B\\u6216\\u8005\\u8001 component \\u4E0D\\u5728\\u65B0\\u96C6\\u5408\\u91CC\\u7684\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F53\\u6CA1\\u6709 key \\u65F6 React \\u4F1A\\u9010\\u4E2A\\u5BF9\\u8282\\u70B9\\u8FDB\\u884C\\u66F4\\u65B0\\uFF0C\\u6700\\u540E\\u63D2\\u5165\\u8282\\u70B9\\uFF0C\\u6548\\u7387\\u4F4E\\u4E0B\\u3002\\u56E0\\u6B64\\u63D0\\u51FA\\u4F18\\u5316\\u7B56\\u7565\\uFF0C\\u6DFB\\u52A0\\u552F\\u4E00\\u6807\\u8BC6 key \\u8FDB\\u884C\\u533A\\u5206\\uFF0C\\u53EF\\u4EE5\\u8FBE\\u5230\\u79FB\\u52A8\\u6548\\u679C\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Tips\\uFF1A\\u4E0D\\u8981\\u4F7F\\u7528 index \\u4F5C\\u4E3A key\\u3002\\u548C\\u6CA1\\u6709 key \\u4E00\\u6837\\u7684\\u6548\\u679C\"})}),`\n`,(0,n.jsxs)(e.h2,{id:\"fiber-\\u673A\\u5236\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#fiber-\\u673A\\u5236\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Fiber \\u673A\\u5236\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"React16 \\u4EE5\\u524D\\u91C7\\u7528 Diff \\u7B97\\u6CD5\\uFF0C\\u5BF9 virtural dom \\u7684\\u66F4\\u65B0\\u548C\\u6E32\\u67D3\\u662F\\u540C\\u6B65\\u7684\\u3002\\u5982\\u679C\\u7EC4\\u4EF6\\u5C42\\u7EA7\\u6BD4\\u8F83\\u6DF1\\uFF0C\\u76F8\\u5E94\\u7684\\u5806\\u6808\\u4E5F\\u4F1A\\u5F88\\u6DF1\\uFF0C\",(0,n.jsx)(\"u\",{children:\"\\u957F\\u65F6\\u95F4\\u5360\\u7528\\u6D4F\\u89C8\\u5668\\u4E3B\\u7EBF\\u7A0B\"}),\"\\uFF0C\\u4E00\\u4E9B\\u7C7B\\u4F3C\\u7528\\u6237\\u8F93\\u5165\\u3001\\u9F20\\u6807\\u6EDA\\u52A8\\u7B49\\u64CD\\u4F5C\\u5F97\\u4E0D\\u5230\\u54CD\\u5E94\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"React16 \\u91C7\\u7528 Fiber Reconciler\\uFF0C\\u7528\\u5206\\u7247\\u7684\\u65B9\\u5F0F\\uFF0C\",(0,n.jsx)(\"u\",{children:\"\\u5F7B\\u5E95\\u89E3\\u51B3\\u4E3B\\u7EBF\\u7A0B\\u957F\\u65F6\\u95F4\\u5360\\u7528\\u95EE\\u9898\\u7684\\u673A\\u5236\"}),\"\\u3002\\u5C31\\u662F\\u628A\\u4E00\\u4E2A\\u4EFB\\u52A1\\u5206\\u6210\\u5F88\\u591A\\u5C0F\\u7247\\uFF0C\\u5F53\\u5206\\u914D\\u7ED9\\u8FD9\\u4E2A\\u5C0F\\u7247\\u7684\\u65F6\\u95F4\\u7528\\u5C3D\\u7684\\u65F6\\u5019\\uFF0C\\u5C31\\u68C0\\u67E5\\u4EFB\\u52A1\\u5217\\u8868\\u4E2D\\u6709\\u6CA1\\u6709\\u65B0\\u7684\\u3001\\u4F18\\u5148\\u7EA7\\u66F4\\u9AD8\\u7684\\u4EFB\\u52A1\\uFF0C\\u6709\\u5C31\\u505A\\u8FD9\\u4E2A\\u65B0\\u4EFB\\u52A1\\uFF0C\\u6CA1\\u6709\\u5C31\\u7EE7\\u7EED\\u505A\\u539F\\u6765\\u7684\\u4EFB\\u52A1\\u3002\\u8FD9\\u79CD\\u65B9\\u5F0F\\u88AB\\u53EB\\u505A\\u5F02\\u6B65\\u6E32\\u67D3(Async Rendering)\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Fiber \\u6811\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6BCF\\u4E00\\u4E2A Fiber \\u5BF9\\u4E8E\\u4E00\\u4E2A\\u865A\\u62DF\\u8282\\u70B9\\uFF0C\\u5728\\u865A\\u62DF DOM \\u6811\\u4E0A\\u6784\\u5EFA\\u4E86 Fiber \\u6811\\uFF0C\\u91C7\\u7528\",(0,n.jsx)(e.strong,{children:\"\\u94FE\\u8868\"}),\"\\u7684\\u673A\\u6784\\u5B58\\u50A8\\u3002\\u6BCF\\u4E2A\\u8282\\u70B9\\u5305\\u62EC\\u4EE5\\u4E0B\\u5185\\u5BB9\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"stateNode\\uFF1A\\u72B6\\u6001\\u8282\\u70B9\"}),`\n`,(0,n.jsx)(e.li,{children:\"return\\uFF1A\\u8BE5\\u8282\\u70B9\\u7684\\u7236\\u7EA7 Fiber \\u8282\\u70B9\\u5F15\\u7528\"}),`\n`,(0,n.jsx)(e.li,{children:\"child\\uFF1A\\u8BE5\\u8282\\u70B9\\u7684\\u7B2C\\u4E00\\u4E2A\\u5B50 Fiber \\u8282\\u70B9\\u5F15\\u7528\"}),`\n`,(0,n.jsx)(e.li,{children:\"sibling\\uFF1A\\u5F53\\u524D\\u5C42\\u7EA7\\u7684\\u4E0B\\u4E00\\u4E2A\\u5144\\u5F1F Fiber \\u8282\\u70B9\"}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u4E24\\u4E2A\\u9636\\u6BB5\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Reconciliation \\u9636\\u6BB5\\uFF1A\\u627E\\u51FA\\u8981\\u505A\\u7684\\u66F4\\u65B0\\u5DE5\\u4F5C\\uFF0C\\u5C31\\u662F\\u4E00\\u4E2A\\u8BA1\\u7B97\\u9636\\u6BB5\\uFF0C\\u8BA1\\u7B97\\u7ED3\\u679C\\u53EF\\u4EE5\\u88AB\\u7F13\\u5B58\\uFF0C\\u4E5F\\u5C31\\u53EF\\u4EE5\\u88AB\\u6253\\u65AD\\uFF1B\\u8BE5\\u9636\\u6BB5\\u5305\\u542B\\u7684\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\\u6709\\uFF1A\\xA0\",(0,n.jsx)(e.code,{children:\"componentWillMount\"}),\"\\xA0\",(0,n.jsx)(e.code,{children:\"componentWillReceiveProps\"}),\"\\xA0\",(0,n.jsx)(e.code,{children:\"componentWillUpdate\"}),\"\\xA0\",(0,n.jsx)(e.code,{children:\"shouldComponentUpdate\"}),\"\\u8BE5\\u9636\\u6BB5\\u4EFB\\u52A1\\u968F\\u65F6\\u53EF\\u80FD\\u88AB\\u4E2D\\u65AD\\u6216\\u91CD\\u6765\\uFF0C\\u5EFA\\u8BAE\\u4E0D\\u8981\\u5728\\u8FD9\\u51E0\\u4E2A\\u751F\\u547D\\u5468\\u671F\\u505A\\u526F\\u4F5C\\u7528\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Commmit \\u9636\\u6BB5\\uFF1A\\u9700\\u8981\\u63D0\\u4EA4\\u6240\\u6709\\u66F4\\u65B0\\u5E76\\u6E32\\u67D3\\uFF0C\\u4E3A\\u4E86\\u9632\\u6B62\\u9875\\u9762\\u6296\\u52A8\\uFF0C\\u88AB\\u8BBE\\u7F6E\\u4E3A\\u4E0D\\u80FD\\u88AB\\u6253\\u65AD\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"PS\\uFF1A\\u526F\\u4F5C\\u7528\\uFF1A\\u6307\\u51FD\\u6570\\u9664\\u4E86\\u8FD4\\u56DE\\u4E00\\u4E2A\\u503C\\u4E4B\\u5916\\uFF0C\\u9020\\u6210\\u7684\\u5176\\u4ED6\\u5F71\\u54CD\\uFF0C\\u5982\\u4FEE\\u6539\\u5916\\u90E8\\u53D8\\u91CF\\u3001\\u629B\\u51FA\\u5F02\\u5E38\\u3001I/O \\u64CD\\u4F5C\\u7B49\\uFF0C\\u8FD9\\u91CC\\u7684\\u526F\\u4F5C\\u7528\\u6307\\u5BF9 Fiber \\u8282\\u70B9\\u8FDB\\u884C\\u63D2\\u5165\\u3001\\u66F4\\u65B0\\u3001\\u5220\\u9664\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Fiber \\u673A\\u5236\\u65E0\\u6CD5\\u89E3\\u51B3\\u7684\\u95EE\\u9898\"}),`\n`]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u751F\\u547D\\u5468\\u671F\\u5185\\u5927\\u91CF\\u7684\\u8BA1\\u7B97\\u4EFB\\u52A1\\uFF1A\\u7531\\u4E8E Reac Fiber \\u662F\\u4EE5 Fiber \\u8282\\u70B9\\u4F5C\\u4E3A\\u6700\\u5C0F\\u5355\\u5143\\uFF0C\\u65E0\\u6CD5\\u5728\\u751F\\u547D\\u5468\\u671F\\u5185\\u5BF9\\u4EFB\\u52A1\\u8FDB\\u884C\\u5DEE\\u5206\\uFF0C\\u8FD9\\u4E9B\\u8BA1\\u7B97\\u4EFB\\u52A1\\u5728\\u6267\\u884C\\u4E2D\\u9014\\u4E0D\\u80FD\\u88AB\\u4E2D\\u65AD\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5927\\u91CF\\u771F\\u5B9E DOM \\u64CD\\u4F5C\\uFF1A\\u8FD9\\u90E8\\u5206\\u4EFB\\u52A1\\u5728 Commit \\u9636\\u6BB5\\u88AB\\u540C\\u6B65\\u6267\\u884C\\uFF0C\\u65E0\\u6CD5\\u4E2D\\u65AD\\u3002\\u8FC7\\u5927\\u7684 DOM \\u64CD\\u4F5C\\u538B\\u529B\\u53EA\\u80FD\\u7531\\u6D4F\\u89C8\\u5668\\u627F\\u62C5\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u603B\\u7684\\u6765\\u8BF4\"}),\"\\uFF0CReact Fiber \\u901A\\u8FC7\\u5C06\\u4EFB\\u52A1\\u5207\\u7247\\uFF0C\\u4EE5\\u53CA\\u91C7\\u7528\\u5408\\u9002\\u7684\\u4EFB\\u52A1\\u8C03\\u5EA6\\u673A\\u5236\\uFF0C\\u89E3\\u51B3\\u4E86\\u9AD8\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1\\u88AB\\u963B\\u585E\\u7684\\u95EE\\u9898\\uFF0C\\u4F7F\\u5E94\\u7528\\u5C55\\u793A\\u66F4\\u52A0\\u6D41\\u7545\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"redux\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#redux\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Redux\"]}),`\n`,(0,n.jsx)(\"span\",{id:\"redux\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"flux\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#flux\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Flux\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6838\\u5FC3\\u601D\\u60F3\\uFF1A\\u5229\\u7528\\u5355\\u9879\\u6570\\u636E\\u6D41\\u548C\\u903B\\u8F91\\u5355\\u5411\\u6D41\\u6765\\u5E94\\u5BF9 MVC \\u67B6\\u6784\\u4E2D\\u51FA\\u73B0\\u7684\\u72B6\\u6001\\u6DF7\\u4E71\\u7684\\u95EE\\u9898\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://gitee.com/heavenmei/LearningNotes/raw/master/img/202205051357774.png\",alt:\"img\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6D41\\u7A0B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5728 View \\u521B\\u5EFA Action\"}),`\n`,(0,n.jsx)(e.li,{children:\"View \\u53D1\\u51FA\\u7528\\u6237\\u7684 Action\"}),`\n`,(0,n.jsx)(e.li,{children:\"Dispatcher \\u6536\\u5230 Action\\uFF0C\\u8981\\u6C42 Store \\u8FDB\\u884C\\u76F8\\u5E94\\u7684\\u66F4\\u65B0\"}),`\n`,(0,n.jsx)(e.li,{children:\"Store \\u66F4\\u65B0\\u540E\\uFF0C\\u901A\\u77E5 View \\u66F4\\u65B0\"}),`\n`,(0,n.jsx)(e.li,{children:\"View \\u6536\\u5230\\u901A\\u77E5\\uFF0C\\u66F4\\u65B0\\u9875\\u9762\"}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2016%2F01%2Fflux.html&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"\\u962E\\u4E00\\u5CF0 Flux \\u6559\\u7A0B\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"redux-\\u4ECB\\u7ECD\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#redux-\\u4ECB\\u7ECD\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Redux \\u4ECB\\u7ECD\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E09\\u5927\\u7279\\u6027\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u5355\\u4E00\\u6570\\u636E\\u6E90\\uFF1A\\u5168\\u5C40\\u53D8\\u91CF store\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"state \\u53EA\\u8BFB\\uFF1A\\u552F\\u4E00\\u6539\\u53D8 state \\u7684\\u65B9\\u6CD5\\u5C31\\u662F\\u89E6\\u53D1 action\\uFF0Caction \\u662F\\u4E00\\u4E2A\\u7528\\u4E8E\\u63CF\\u8FF0\\u5DF2\\u53D1\\u751F\\u4E8B\\u4EF6\\u7684\\u666E\\u901A\\u5BF9\\u8C61\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u7EAF\\u51FD\\u6570\\u4FEE\\u6539\\uFF1A\\u4E00\\u4E2A\\u51FD\\u6570\\u53EA\\u6709\\u4F9D\\u8D56\\u4E8E\\u5B83\\u7684\\u53C2\\u6570\\uFF0C\\u76F8\\u540C\\u8F93\\u5165\\u5F97\\u5230\\u76F8\\u540C\\u8F93\\u51FA\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"action\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#action\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Action\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.strong,{children:[\"action \\u662F store \\u6570\\u636E\\u7684\\u552F\\u4E00\\u6765\\u6E90\\u3002\\u4E00\\u822C\\u6765\\u8BF4\\u4F60\\u4F1A\\u901A\\u8FC7 \\xA0\",(0,n.jsx)(e.code,{children:\"store.dispatch()\"}),\"\\u5C06 action \\u4F20\\u5230 store\"]}),\"\\u3002Action \\u672C\\u8D28\\u4E0A\\u662F JavaScript \\u666E\\u901A\\u5BF9\\u8C61\\u3002\\u6211\\u4EEC\\u7EA6\\u5B9A\\uFF0Caction \\u5185\\u5FC5\\u987B\\u4F7F\\u7528\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\\u7C7B\\u578B\\u7684 \\xA0\",(0,n.jsx)(e.code,{children:\"type\"}),\"\\xA0 \\u5B57\\u6BB5\\u6765\\u8868\\u793A\\u5C06\\u8981\\u6267\\u884C\\u7684\\u52A8\\u4F5C\\u3002\\u591A\\u6570\\u60C5\\u51B5\\u4E0B\\uFF0C\",(0,n.jsx)(e.code,{children:\"type\"}),\"\\xA0 \\u4F1A\\u88AB\\u5B9A\\u4E49\\u6210\\u5B57\\u7B26\\u4E32\\u5E38\\u91CF\\u3002\\u5F53\\u5E94\\u7528\\u89C4\\u6A21\\u8D8A\\u6765\\u8D8A\\u5927\\u65F6\\uFF0C\\u5EFA\\u8BAE\\u4F7F\\u7528\\u5355\\u72EC\\u7684\\u6A21\\u5757\\u6216\\u6587\\u4EF6\\u6765\\u5B58\\u653E action\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u8BF4\\u4EBA\\u8BDD\\uFF1A\"})}),`\n`,(0,n.jsx)(e.p,{children:\"action \\u5C31\\u662F\\u4E00\\u4E2A\\u63CF\\u8FF0\\u201C\\u53D1\\u751F\\u4E86\\u4EC0\\u4E48\\u201D\\u7684\\u666E\\u901A\\u5BF9\\u8C61\\u3002\\u53EF\\u4EE5\\u628A action \\u7406\\u89E3\\u6210\\u65B0\\u95FB\\u7684\\u6458\\u8981\\u3002\\u5982 \\u201C\\u739B\\u4E3D\\u559C\\u6B22 42 \\u53F7\\u6587\\u7AE0\\u3002\\u201D \\u6216\\u8005 \\u201C\\u4EFB\\u52A1\\u5217\\u8868\\u91CC\\u6DFB\\u52A0\\u4E86'\\u5B66\\u4E60 Redux \\u6587\\u6863'\\u201D\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"action \\u521B\\u5EFA\\u51FD\\u6570\\uFF1A\\u5C31\\u8FD4\\u56DE\\u4E00\\u4E2A action \\u5BF9\\u8C61\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`function addTodo(text) {\n  return {\n    type: ADD_TODO,\n    text,\n  };\n}\n//Redux \\u4E2D\\u53EA\\u9700\\u628A action \\u521B\\u5EFA\\u51FD\\u6570\\u7684\\u7ED3\\u679C\\u4F20\\u7ED9 dispatch() \\u65B9\\u6CD5\\u5373\\u53EF\\u53D1\\u8D77\\u4E00\\u6B21 dispatch \\u8FC7\\u7A0B\\u3002\ndispatch(addTodo(text));\n//\\u6216\\u8005\\u521B\\u5EFA\\u4E00\\u4E2A \\u88AB\\u7ED1\\u5B9A\\u7684 action \\u521B\\u5EFA\\u51FD\\u6570 \\u6765\\u81EA\\u52A8 dispatch\\uFF1A\nconst boundAddTodo = (text) => dispatch(addTodo(text));\nboundAddTodo(text);\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" addTodo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"text\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    type: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"ADD_TODO\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    text,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//Redux \\u4E2D\\u53EA\\u9700\\u628A action \\u521B\\u5EFA\\u51FD\\u6570\\u7684\\u7ED3\\u679C\\u4F20\\u7ED9 dispatch() \\u65B9\\u6CD5\\u5373\\u53EF\\u53D1\\u8D77\\u4E00\\u6B21 dispatch \\u8FC7\\u7A0B\\u3002\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addTodo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(text));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u6216\\u8005\\u521B\\u5EFA\\u4E00\\u4E2A \\u88AB\\u7ED1\\u5B9A\\u7684 action \\u521B\\u5EFA\\u51FD\\u6570 \\u6765\\u81EA\\u52A8 dispatch\\uFF1A\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" boundAddTodo\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"text\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addTodo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(text));\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"boundAddTodo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(text);\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"reducer\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#reducer\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Reducer\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Reducers\"}),\"\\xA0 \\u6307\\u5B9A\\u4E86\\u5E94\\u7528\\u72B6\\u6001\\u7684\\u53D8\\u5316\\u5982\\u4F55\\u54CD\\u5E94 \\xA0\",(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Fwww.redux.org.cn%2Fdocs%2Fbasics%2FActions.html&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:\"actions\"}),\"\\xA0 \\u5E76\\u53D1\\u9001\\u5230 store \\u7684\\uFF0C\\u8BB0\\u4F4F actions \\u53EA\\u662F\\u63CF\\u8FF0\\u4E86\",(0,n.jsx)(e.em,{children:\"\\u6709\\u4E8B\\u60C5\\u53D1\\u751F\\u4E86\"}),\"\\u8FD9\\u4E00\\u4E8B\\u5B9E\\uFF0C\\u5E76\\u6CA1\\u6709\\u63CF\\u8FF0\\u5E94\\u7528\\u5982\\u4F55\\u66F4\\u65B0 state\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"reducer \\u63A5\\u6536\\u5148\\u524D\\u7684 state \\u548C action\\uFF0C\\u5E76\\u8FD4\\u56DE\\u65B0\\u7684 state\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`function visibilityFilter(state = \"SHOW_ALL\", action) {\n  switch (action.type) {\n    case \"SET_VISIBILITY_FILTER\":\n      return action.filter;\n    default:\n      return state;\n  }\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" visibilityFilter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"SHOW_ALL\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  switch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"SET_VISIBILITY_FILTER\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" action.filter;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6BCF\\u4E2A reducer \\u53EA\\u8D1F\\u8D23\\u7BA1\\u7406\\u5168\\u5C40 state \\u4E2D\\u5B83\\u8D1F\\u8D23\\u7684\\u4E00\\u90E8\\u5206\\u3002\\u6BCF\\u4E2A reducer \\u7684 \\xA0\",(0,n.jsx)(e.code,{children:\"state\"}),\"\\xA0 \\u53C2\\u6570\\u90FD\\u4E0D\\u540C\\uFF0C\\u5206\\u522B\\u5BF9\\u5E94\\u5B83\\u7BA1\\u7406\\u7684\\u90A3\\u90E8\\u5206 state \\u6570\\u636E\\u3002\\u6700\\u540E\\u518D\\u7531\",(0,n.jsx)(e.code,{children:\"combineReducers\"}),\"\\u5408\\u5E76\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`const todoApp = combineReducers({\n  visibilityFilter,\n  todos,\n});\n\nexport default todoApp;\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" todoApp\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" combineReducers\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  visibilityFilter,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  todos,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" todoApp;\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"store\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#store\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Store\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\"getState()\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\"dispatch(action)\"})}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"subscribe(listener)\"}),\":\\u7528\\u4E8E\\u6CE8\\u518C\\u76D1\\u542C\\u5668\\uFF0C\\u8FD4\\u56DE\\u4E00\\u4E2A\\u6CE8\\u9500\\u76D1\\u542C\\u5668\\u7684\\u51FD\\u6570\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import { createStore } from \"redux\";\nimport todoApp from \"./reducers\";\nlet store = createStore(todoApp);\nlet store = createStore(todoApp, window.STATE_FROM_SERVER);\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createStore } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"redux\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" todoApp \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./reducers\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(todoApp);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(todoApp, window.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"STATE_FROM_SERVER\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://security.feishu.cn/link/safety?target=https%3A%2F%2Fwww.redux.org.cn%2Fdocs%2Fapi%2FcreateStore.html&scene=ccm&logParams=%7B%22location%22%3A%22ccm_drive%22%7D&lang=zh-CN\",children:(0,n.jsx)(e.code,{children:\"createStore()\"})}),\"\\xA0 \\u7684\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u662F\\u53EF\\u9009\\u7684, \\u7528\\u4E8E\\u8BBE\\u7F6E state \\u521D\\u59CB\\u72B6\\u6001\\u3002\\u8FD9\\u5BF9\\u5F00\\u53D1\\u540C\\u6784\\u5E94\\u7528\\u65F6\\u975E\\u5E38\\u6709\\u7528\\uFF0C\\u670D\\u52A1\\u5668\\u7AEF redux \\u5E94\\u7528\\u7684 state \\u7ED3\\u6784\\u53EF\\u4EE5\\u4E0E\\u5BA2\\u6237\\u7AEF\\u4FDD\\u6301\\u4E00\\u81F4, \\u90A3\\u4E48\\u5BA2\\u6237\\u7AEF\\u53EF\\u4EE5\\u5C06\\u4ECE\\u7F51\\u7EDC\\u63A5\\u6536\\u5230\\u7684\\u670D\\u52A1\\u7AEF state \\u76F4\\u63A5\\u7528\\u4E8E\\u672C\\u5730\\u6570\\u636E\\u521D\\u59CB\\u5316\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"middleware\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#middleware\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Middleware\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`//\\u65B9\\u6CD5\\u4E00\nfunction logger(store) {\n  // \\u8FD9\\u91CC\\u7684 next \\u5FC5\\u987B\\u6307\\u5411\\u524D\\u4E00\\u4E2A middleware \\u8FD4\\u56DE\\u7684\\u51FD\\u6570\\uFF1A\n  let next = store.dispatch;\n\n  return function dispatchAndLog(action) {\n    console.log(\"dispatching\", action);\n    let result = next(action);\n    console.log(\"next state\", store.getState());\n    return result;\n  };\n}\n\n//\\u65B9\\u6CD5\\u4E8C\nfunction logger(store) {\n  return function wrapDispatchToAddLogging(next) {\n    return function dispatchAndLog(action) {\n      console.log(\"dispatching\", action);\n      let result = next(action);\n      console.log(\"next state\", store.getState());\n      return result;\n    };\n  };\n}\n\n//\\u65B9\\u6CD5\\u4E8C\\u2014\\u2014\\u67EF\\u897F\\u91CC\\u5316\nconst logger = (store) => (next) => (action) => {\n  console.log(\"dispatching\", action);\n  let result = next(action);\n  console.log(\"next state\", store.getState());\n  return result;\n};\n\n//\\u624B\\u5199 \\u5408\\u5E76\nfunction applyMiddleware(store, middlewares) {\n  middlewares = middlewares.slice();\n  middlewares.reverse();\n\n  let dispatch = store.dispatch;\n  middlewares.forEach((middleware) => (dispatch = middleware(store)(dispatch)));\n\n  return Object.assign({}, store, { dispatch });\n}\n\n// Redux \\u4E2D\\u7684\\u7528\\u6CD5\n//applyMiddleware\\u4E0E\\u4E0A\\u8FF0\\u5B9E\\u73B0\\u7565\\u6709\\u4E0D\\u540C\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\n\nlet todoApp = combineReducers(reducers);\nlet store = createStore(\n  todoApp,\n  // applyMiddleware() \\u544A\\u8BC9 createStore() \\u5982\\u4F55\\u5904\\u7406\\u4E2D\\u95F4\\u4EF6\n  applyMiddleware(logger, crashReporter)\n);\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u65B9\\u6CD5\\u4E00\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" logger\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"store\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u8FD9\\u91CC\\u7684 next \\u5FC5\\u987B\\u6307\\u5411\\u524D\\u4E00\\u4E2A middleware \\u8FD4\\u56DE\\u7684\\u51FD\\u6570\\uFF1A\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" next \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.dispatch;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatchAndLog\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"dispatching\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", action);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(action);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"next state\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u65B9\\u6CD5\\u4E8C\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" logger\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"store\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" wrapDispatchToAddLogging\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatchAndLog\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"dispatching\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", action);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(action);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"next state\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u65B9\\u6CD5\\u4E8C\\u2014\\u2014\\u67EF\\u897F\\u91CC\\u5316\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" logger\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"store\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"dispatching\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", action);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(action);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"next state\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u624B\\u5199 \\u5408\\u5E76\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" applyMiddleware\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"store\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"middlewares\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  middlewares \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" middlewares.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"slice\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  middlewares.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reverse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" dispatch \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.dispatch;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  middlewares.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"middleware\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (dispatch \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" middleware\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(store)(dispatch)));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Object.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"assign\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({}, store, { dispatch });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Redux \\u4E2D\\u7684\\u7528\\u6CD5\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//applyMiddleware\\u4E0E\\u4E0A\\u8FF0\\u5B9E\\u73B0\\u7565\\u6709\\u4E0D\\u540C\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createStore, combineReducers, applyMiddleware } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"redux\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" todoApp \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" combineReducers\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(reducers);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  todoApp,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // applyMiddleware() \\u544A\\u8BC9 createStore() \\u5982\\u4F55\\u5904\\u7406\\u4E2D\\u95F4\\u4EF6\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  applyMiddleware\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(logger, crashReporter)\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"react-redux\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#react-redux\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"React-redux\"]}),`\n`,(0,n.jsx)(e.p,{children:\"store \\u7684\\u4E09\\u5927\\u529F\\u80FD\\uFF1Adispatch\\uFF0Csubscribe\\uFF0CgetState \\u90FD\\u4E0D\\u9700\\u8981\\u624B\\u52A8\\u6765\\u5199\\u4E86\\u3002react-redux \\u5E2E\\u6211\\u4EEC\\u505A\\u4E86\\u8FD9\\u4E9B\\uFF0C\\u540C\\u65F6\\u5B83\\u63D0\\u4F9B\\u4E86\\u4E24\\u4E2A\\u597D\\u57FA\\u53CB Provider \\u548C connect\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"Redux \\u548C React \\u4E4B\\u95F4\\u6CA1\\u6709\\u5173\\u7CFB\\u3002Redux \\u652F\\u6301 React\\u3001Angular\\u3001Ember\\u3001jQuery \\u751A\\u81F3\\u7EAF JavaScript\\u3002\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",raw:`npm install --save react-redux redux\nnpm install redux-devtools-extension\n//\\u8C03\\u8BD5\\u5668\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --save\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" react-redux\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" redux\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" redux-devtools-extension\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"//\\u8C03\\u8BD5\\u5668\"})})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Provider\"}),\"\\uFF1A\\u8BA9\\u6240\\u6709\\u5BB9\\u5668\\u7EC4\\u4EF6\\u90FD\\u53EF\\u4EE5\\u8BBF\\u95EE store\\uFF0C\\u800C\\u4E0D\\u5FC5\\u663E\\u793A\\u5730\\u4F20\\u9012\\u5B83\\u3002\\u53EA\\u9700\\u8981\\u5728\\u6E32\\u67D3\\u6839\\u7EC4\\u4EF6\\u65F6\\u4F7F\\u7528\\u5373\\u53EF\\u3002\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport reducers from \"./reducers\";\n\nlet store = createStore(reducers);\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { render } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react-dom\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { Provider } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react-redux\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createStore } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"redux\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" reducers \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./reducers\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(reducers);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Provider\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{store}>\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"App\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Provider\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">,\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"root\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"connect\"}),\"\\uFF1A\\uFF08\\u9AD8\\u9636\\u7EC4\\u4EF6\\uFF09\\u8FDE\\u63A5 React \\u7EC4\\u4EF6\\u548C Redux Store\\uFF0C\\u5F53\\u524D\\u7EC4\\u4EF6\\u53EF\\u4EE5\\u901A\\u8FC7 prop \\u83B7\\u53D6\\u5E94\\u7528\\u4E2D\\u7684 state \\u548C Action\\u3002\\u56DB\\u4E2A\\u53C2\\u6570\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"mapStateToProps()\"}),\":\\u6307\\u5B9A\\u5982\\u4F55\\u628A\\u5F53\\u524D Redux store state \\u6620\\u5C04\\u5230\\u5C55\\u793A\\u7EC4\\u4EF6\\u7684 props \\u4E2D\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"mapDispatchToProps()\"}),\"\\uFF1A\\u63A5\\u6536 dispatch()\\u65B9\\u6CD5\\u5E76\\u8FD4\\u56DE\\u671F\\u671B\\u6CE8\\u5165\\u5230\\u5C55\\u793A\\u7EC4\\u4EF6\\u7684 props \\u4E2D\\u7684\\u56DE\\u8C03\\u65B9\\u6CD5\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`const getVisibleTodos = (todos, filter) => {\n  switch (filter) {\n    case \"SHOW_COMPLETED\":\n      return todos.filter((t) => t.completed);\n    case \"SHOW_ACTIVE\":\n      return todos.filter((t) => !t.completed);\n    case \"SHOW_ALL\":\n    default:\n      return todos;\n  }\n};\n\n//state \\u662Fstore\\u7684state\n//\\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684\\u5BF9\\u8C61\\uFF0C\\u8FD9\\u4E2A\\u5BF9\\u8C61\\u4F1A\\u4F5C\\u4E3Aprops\\u7684\\u4E00\\u90E8\\u5206\\u4F20\\u5165ui\\u7EC4\\u4EF6\nconst mapStateToProps = (state) => {\n  return {\n    todos: getVisibleTodos(state.todos, state.visibilityFilter),\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onTodoClick: (id) => {\n      dispatch(toggleTodo(id));\n    },\n  };\n};\n\nimport { connect } from \"react-redux\";\n\nconst VisibleTodoList = connect(mapStateToProps, mapDispatchToProps)(TodoList); //\\u6CE8\\u5165\\u7684\\u7EC4\\u4EF6\n\nexport default VisibleTodoList;\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getVisibleTodos\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"todos\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"filter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  switch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (filter) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"SHOW_COMPLETED\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" todos.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"t\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" t.completed);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"SHOW_ACTIVE\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" todos.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"t\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"t.completed);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"SHOW_ALL\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" todos;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//state \\u662Fstore\\u7684state\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684\\u5BF9\\u8C61\\uFF0C\\u8FD9\\u4E2A\\u5BF9\\u8C61\\u4F1A\\u4F5C\\u4E3Aprops\\u7684\\u4E00\\u90E8\\u5206\\u4F20\\u5165ui\\u7EC4\\u4EF6\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" mapStateToProps\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    todos: \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getVisibleTodos\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(state.todos, state.visibilityFilter),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" mapDispatchToProps\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    onTodoClick\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toggleTodo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(id));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { connect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react-redux\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" VisibleTodoList\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" connect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(mapStateToProps, mapDispatchToProps)(TodoList); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//\\u6CE8\\u5165\\u7684\\u7EC4\\u4EF6\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" VisibleTodoList;\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u603B\\u7ED3\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u603B\\u7ED3\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u603B\\u7ED3\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u603B\\u4F53\\u6D41\\u7A0B\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9996\\u5148\\u8C03\\u7528\",(0,n.jsx)(e.code,{children:\"store.dispatch(action)\"}),\"\\uFF0C\\u540C\\u65F6\\u7528\",(0,n.jsx)(e.code,{children:\"getState\"}),\"\\u83B7\\u53D6\\u5F53\\u524D\\u7684\\u72B6\\u6001\\u6811 state \\u5E76\\u6CE8\\u518C\",(0,n.jsx)(e.code,{children:\"subscribe(listener)\"}),\"\\u76D1\\u542C state \\u53D8\\u5316\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u518D\\u8C03\\u7528\",(0,n.jsx)(e.code,{children:\"combineReducers\"}),\"\\u5E76\\u5C06\\u83B7\\u53D6\\u7684 state \\u548C action \\u4F20\\u5165\\u3002combineReducers \\u4F1A\\u5C06\\u4F20\\u5165\\u7684 state \\u548C action \\u4F20\\u7ED9\\u6240\\u6709 reducer\\uFF0C\\u5E76\\u6839\\u636E action \\u7684 type \\u8FD4\\u56DE\\u65B0\\u7684 state\\uFF0C\\u89E6\\u53D1 state \\u6811\\u7684\\u66F4\\u65B0\\uFF0C\\u6211\\u4EEC\\u8C03\\u7528 subscribe \\u76D1\\u542C\\u5230 state \\u53D1\\u751F\\u53D8\\u5316\\u540E\\u7528 getState \\u83B7\\u53D6\\u65B0\\u7684 state \\u6570\\u636E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u53EA\\u4F7F\\u7528 Redux \\u6D41\\u7A0B\\uFF1Acomponent --> dispatch(action) --> reducer --> subscribe --> getState --> component\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"react-redux \\u6D41\\u7A0B\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Provider \\u7EC4\\u4EF6\\u63A5\\u53D7 redux \\u7684 store \\u4F5C\\u4E3A props\\uFF0C\\u7136\\u540E\\u901A\\u8FC7 context \\u5F80\\u4E0B\\u4F20\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"connect \\u51FD\\u6570\\u6536\\u5230 Provider \\u4F20\\u51FA\\u7684 store\\uFF0C\\u7136\\u540E\\u63A5\\u53D7\\u4E09\\u4E2A\\u53C2\\u6570 mapStateToProps\\uFF0CmapDispatchToProps \\u548C\\u7EC4\\u4EF6\\uFF0C\\u5E76\\u5C06 state \\u548C actionCreator \\u4EE5 props \\u4F20\\u5165\\u7EC4\\u4EF6\\uFF0C\\u8FD9\\u65F6\\u7EC4\\u4EF6\\u5C31\\u53EF\\u4EE5\\u8C03\\u7528 actionCreator \\u51FD\\u6570\\u6765\\u89E6\\u53D1 reducer \\u51FD\\u6570\\u8FD4\\u56DE\\u65B0\\u7684 state\\uFF0Cconnect \\u76D1\\u542C\\u5230 state \\u53D8\\u5316\\u8C03\\u7528 setState \\u66F4\\u65B0\\u7EC4\\u4EF6\\u5E76\\u5C06\\u65B0\\u7684 state \\u4F20\\u5165\\u7EC4\\u4EF6\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"react-redux \\u6D41\\u7A0B\\uFF1Acomponent --> actionCreator(data) --> reducer --> component\"}),`\n`]})]})}function B(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,Object.assign({},l,{children:(0,n.jsx)(d,l)})):d(l)}var k=B;return f(x);})();\n;return Component;"
  },
  "_id": "note/fontEnd/react-base.md",
  "_raw": {
    "sourceFilePath": "note/fontEnd/react-base.md",
    "sourceFileName": "react-base.md",
    "sourceFileDir": "note/fontEnd",
    "contentType": "markdown",
    "flattenedPath": "note/fontEnd/react-base"
  },
  "type": "Note",
  "parDir": "note/fontEnd",
  "slug": "/post/react-base",
  "slugAsParams": "react-base"
}
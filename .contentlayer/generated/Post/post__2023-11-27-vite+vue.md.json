{
  "title": "vite+vue+ts+sass项目搭建",
  "tags": [
    "Front"
  ],
  "author": "heavenmei",
  "subtitle": "从0到1搭建vite+vue+ts+sass基础项目",
  "url": "/2023-11-27-vite+vue",
  "description": null,
  "date": "2023-11-27T00:00:00.000Z",
  "body": {
    "raw": "\n\n\n> 兼容性：Vite 需要 [Node.js](https://nodejs.org/en/) 版本 18+，20+\n> 若用vscode开发不要装vetur插件（垃圾），安装Volar+TypeScript Vue Plugin (Volar)（vetur的升级版）\n\n```shell\nnpm create vite my-vue-app --template vue-ts\n```\n\n\n\n> 相关依赖\n>\n> sass： `npm i sass -D`\n>\n> hooks： \n\n#### Sass\n\n```bash\nnpm i sass -D\n```\n\n全局引入： 在vite.config.js文件添加配置\n\n```js\nexport default defineConfig({\n    ...\n    css: {\n        preprocessorOptions: {\n            additionalData: '@import \"@/assets/scss/globalVar.scss\";@import \"@/assets/scss/globalMixin.scss\";'\n        }\n    }\n});\n```\n\n按需引入\n\n```vue\n<style lang=\"scss\" scoped>\n    @import \"@/assets/scss/globalVar.scss\";\n</style>\n```\n\n\n\n#### 路径别名\n\n```shell\nnpm install @types/node --save-dev\n```\n\n配置vite.config.ts\n\n```tsx\nimport path from \"path\";\n\nexport default defineConfig({\n  ...\n  resolve: {\n    alias: {\n      \"@\": path.resolve(\"./src\"),\n    },\n  },\n});\n\n```\n\n配置tsconfig.json\n\n```tsx\n{\n  \"compilerOptions\": {\n    ...\n    \"baseUrl\": \".\",\n    \"paths\": { \"@/*\": [\"src/*\"] }\n  },\n}\n```\n\n\n\n#### 状态管理-Pinia\n\n[pinia](https://pinia.vuejs.org/zh/)\n[pinia-plugin-persist](https://seb-l.github.io/pinia-plugin-persist/)\n\n```bash\nnpm install pinia -D\nnpm install pinia-plugin-persist -D # 可选，插件\n```\n\n\n\n#### 多环境配置\n\n添加配置文件\n\n```shell\n# .env.user\n# 接口请求地址前缀\nVITE_APP_API_PREFIX = /api\n\n# 删除 console 代码\nVITE_DROP_CONSOLE = true\n\n# 生产环境配置文件名称\nVITE_GLOB_CONFIG_FILE_NAME = app.config.js\n\n# 打包生成目录\nVITE_OUTPUT_DIR = user\n\n# 平台\nVITE_PLATFORM = user\n\n# 重定向路径\nVITE_REDIRECT_INDEX = \"/index\"\n\n```\n\n修改package.json, 添加--mode 参数\n\n```json\n{\n  ...\n\t\"scripts\": {\n    \"dev\": \"vite  --mode dev\",\n    \"build\": \"vue-tsc && vite build --mode prd\",\n    \"preview\": \"vite preview\"\n  },\n}\n```\n\n项目中使用\n\n```js\nconst baseUrl = import.meta.env.VITE_APP_API_PREFIX;\n```\n\n\n\n## 遇到的问题\n\n##### Cannot find module 'vue'. Did you mean to set the 'moduleResolution' option to 'node', or to add aliases to the 'paths' option?Vetur\n\n把tsconfig.json配置项moduleResolution：\"bundler\"改为 moduleResolution：\"node\"\n\n\n\n##### An import path cannot end with a '.ts' extension. Consider importing '@/store/counter.js\n\n配置vite.config.ts中resolve.extensions的配置项\n\n##### Cannot find module '~/store/counter' or its corresponding type declarations.ts(2307)\n\n****\n\n\n\nhttps://juejin.cn/post/7170746000112353293?searchId=2023112613400612F6DE1AB312141A1338#heading-31\n\n\n\n服务器端口无法访问\n\nA：防火墙未开启\n\n查看防火墙中允许被访问的端口号：sudo firewall-cmd --list-all （ports选项）\n\n`firewall-cmd --zone=public --list-ports`\n\n开启端口：sudo firewall-cmd --zone=public --add-port=8887/tcp --permanent\n\n重启防火墙：sudo firewall-cmd --reload\n\n关闭端口：sudo firewall-cmd --zone=public --remove-port=7890/tcp --permanent \n\n再次检查\n\n检查端口网站：https://tool.chinaz.com/port",
    "code": "var Component=(()=>{var h=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),F=(l,e)=>{for(var a in e)s(l,a,{get:e[a],enumerable:!0})},c=(l,e,a,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!u.call(l,r)&&r!==a&&s(l,r,{get:()=>e[r],enumerable:!(i=p(e,r))||i.enumerable});return l};var m=(l,e,a)=>(a=l!=null?h(E(l)):{},c(e||!l||!l.__esModule?s(a,\"default\",{value:l,enumerable:!0}):a,l)),b=l=>c(s({},\"__esModule\",{value:!0}),l);var t=g((I,d)=>{d.exports=_jsx_runtime});var C={};F(C,{default:()=>v,frontmatter:()=>f});var n=m(t()),f={layout:\"post\",title:\"vite+vue+ts+sass\\u9879\\u76EE\\u642D\\u5EFA\",subtitle:\"\\u4ECE0\\u52301\\u642D\\u5EFAvite+vue+ts+sass\\u57FA\\u7840\\u9879\\u76EE\",description:null,date:new Date(17010432e5),author:\"heavenmei\",image:\"\",tags:[\"Front\"],url:\"/2023-11-27-vite+vue\",categories:[\"Post\"]};function o(l){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",a:\"a\",div:\"div\",figure:\"figure\",pre:\"pre\",code:\"code\",span:\"span\",h4:\"h4\",h2:\"h2\",h5:\"h5\",hr:\"hr\"},l.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u517C\\u5BB9\\u6027\\uFF1AVite \\u9700\\u8981 \",(0,n.jsx)(e.a,{href:\"https://nodejs.org/en/\",children:\"Node.js\"}),` \\u7248\\u672C 18+\\uFF0C20+\n\\u82E5\\u7528vscode\\u5F00\\u53D1\\u4E0D\\u8981\\u88C5vetur\\u63D2\\u4EF6\\uFF08\\u5783\\u573E\\uFF09\\uFF0C\\u5B89\\u88C5Volar+TypeScript Vue Plugin (Volar)\\uFF08vetur\\u7684\\u5347\\u7EA7\\u7248\\uFF09`]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"shell\",\"data-theme\":\"github-dark\",raw:`npm create vite my-vue-app --template vue-ts\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"shell\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" create\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" vite\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-vue-app\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --template\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" vue-ts\"})]})})})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u76F8\\u5173\\u4F9D\\u8D56\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"sass\\uFF1A \",(0,n.jsx)(e.code,{children:\"npm i sass -D\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"hooks\\uFF1A\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h4,{id:\"sass\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#sass\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Sass\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",raw:`npm i sass -D\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" i\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" sass\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -D\"})]})})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5168\\u5C40\\u5F15\\u5165\\uFF1A \\u5728vite.config.js\\u6587\\u4EF6\\u6DFB\\u52A0\\u914D\\u7F6E\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`export default defineConfig({\n    ...\n    css: {\n        preprocessorOptions: {\n            additionalData: '@import \"@/assets/scss/globalVar.scss\";@import \"@/assets/scss/globalMixin.scss\";'\n        }\n    }\n});\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" defineConfig\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    ...\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    css: {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        preprocessorOptions: {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            additionalData: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:`'@import \"@/assets/scss/globalVar.scss\";@import \"@/assets/scss/globalMixin.scss\";'`})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6309\\u9700\\u5F15\\u5165\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"vue\",\"data-theme\":\"github-dark\",raw:`<style lang=\"scss\" scoped>\n    @import \"@/assets/scss/globalVar.scss\";\n</style>\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"vue\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" lang\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"scss\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" scoped\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:'    @import \"@/assets/scss/globalVar.scss\";'})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u8DEF\\u5F84\\u522B\\u540D\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u8DEF\\u5F84\\u522B\\u540D\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8DEF\\u5F84\\u522B\\u540D\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"shell\",\"data-theme\":\"github-dark\",raw:`npm install @types/node --save-dev\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"shell\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" @types/node\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --save-dev\"})]})})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u914D\\u7F6Evite.config.ts\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",raw:`import path from \"path\";\n\nexport default defineConfig({\n  ...\n  resolve: {\n    alias: {\n      \"@\": path.resolve(\"./src\"),\n    },\n  },\n});\n\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" path \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"path\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" defineConfig\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  ...\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  resolve: {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    alias: {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'      \"@\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": path.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"./src\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u914D\\u7F6Etsconfig.json\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",raw:`{\n  \"compilerOptions\": {\n    ...\n    \"baseUrl\": \".\",\n    \"paths\": { \"@/*\": [\"src/*\"] }\n  },\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'  \"compilerOptions\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    ...\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'    \"baseUrl\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\".\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'    \"paths\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": { \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"@/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": [\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"src/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u72B6\\u6001\\u7BA1\\u7406-pinia\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u72B6\\u6001\\u7BA1\\u7406-pinia\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u72B6\\u6001\\u7BA1\\u7406-Pinia\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://pinia.vuejs.org/zh/\",children:\"pinia\"}),`\n`,(0,n.jsx)(e.a,{href:\"https://seb-l.github.io/pinia-plugin-persist/\",children:\"pinia-plugin-persist\"})]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",raw:`npm install pinia -D\nnpm install pinia-plugin-persist -D # \\u53EF\\u9009\\uFF0C\\u63D2\\u4EF6\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" pinia\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -D\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" pinia-plugin-persist\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -D\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" # \\u53EF\\u9009\\uFF0C\\u63D2\\u4EF6\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u591A\\u73AF\\u5883\\u914D\\u7F6E\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u591A\\u73AF\\u5883\\u914D\\u7F6E\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u591A\\u73AF\\u5883\\u914D\\u7F6E\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6DFB\\u52A0\\u914D\\u7F6E\\u6587\\u4EF6\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"shell\",\"data-theme\":\"github-dark\",raw:`# .env.user\n# \\u63A5\\u53E3\\u8BF7\\u6C42\\u5730\\u5740\\u524D\\u7F00\nVITE_APP_API_PREFIX = /api\n\n# \\u5220\\u9664 console \\u4EE3\\u7801\nVITE_DROP_CONSOLE = true\n\n# \\u751F\\u4EA7\\u73AF\\u5883\\u914D\\u7F6E\\u6587\\u4EF6\\u540D\\u79F0\nVITE_GLOB_CONFIG_FILE_NAME = app.config.js\n\n# \\u6253\\u5305\\u751F\\u6210\\u76EE\\u5F55\nVITE_OUTPUT_DIR = user\n\n# \\u5E73\\u53F0\nVITE_PLATFORM = user\n\n# \\u91CD\\u5B9A\\u5411\\u8DEF\\u5F84\nVITE_REDIRECT_INDEX = \"/index\"\n\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"shell\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# .env.user\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u63A5\\u53E3\\u8BF7\\u6C42\\u5730\\u5740\\u524D\\u7F00\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"VITE_APP_API_PREFIX\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /api\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u5220\\u9664 console \\u4EE3\\u7801\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"VITE_DROP_CONSOLE\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u751F\\u4EA7\\u73AF\\u5883\\u914D\\u7F6E\\u6587\\u4EF6\\u540D\\u79F0\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"VITE_GLOB_CONFIG_FILE_NAME\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" app.config.js\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u6253\\u5305\\u751F\\u6210\\u76EE\\u5F55\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"VITE_OUTPUT_DIR\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u5E73\\u53F0\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"VITE_PLATFORM\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u91CD\\u5B9A\\u5411\\u8DEF\\u5F84\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"VITE_REDIRECT_INDEX\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"/index\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4FEE\\u6539package.json, \\u6DFB\\u52A0--mode \\u53C2\\u6570\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",raw:`{\n  ...\n\t\"scripts\": {\n    \"dev\": \"vite  --mode dev\",\n    \"build\": \"vue-tsc && vite build --mode prd\",\n    \"preview\": \"vite preview\"\n  },\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"  ...\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\t\"scripts\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"dev\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"vite  --mode dev\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"build\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"vue-tsc && vite build --mode prd\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"preview\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"vite preview\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9879\\u76EE\\u4E2D\\u4F7F\\u7528\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`const baseUrl = import.meta.env.VITE_APP_API_PREFIX;\n`,children:(0,n.jsx)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" baseUrl\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"meta\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"VITE_APP_API_PREFIX\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]})})})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u9047\\u5230\\u7684\\u95EE\\u9898\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u9047\\u5230\\u7684\\u95EE\\u9898\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u9047\\u5230\\u7684\\u95EE\\u9898\"]}),`\n`,(0,n.jsxs)(e.h5,{id:\"cannot-find-module-vue-did-you-mean-to-set-the-moduleresolution-option-to-node-or-to-add-aliases-to-the-paths-optionvetur\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#cannot-find-module-vue-did-you-mean-to-set-the-moduleresolution-option-to-node-or-to-add-aliases-to-the-paths-optionvetur\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Cannot find module 'vue'. Did you mean to set the 'moduleResolution' option to 'node', or to add aliases to the 'paths' option?Vetur\"]}),`\n`,(0,n.jsx)(e.p,{children:'\\u628Atsconfig.json\\u914D\\u7F6E\\u9879moduleResolution\\uFF1A\"bundler\"\\u6539\\u4E3A moduleResolution\\uFF1A\"node\"'}),`\n`,(0,n.jsxs)(e.h5,{id:\"an-import-path-cannot-end-with-a-ts-extension-consider-importing-storecounterjs\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#an-import-path-cannot-end-with-a-ts-extension-consider-importing-storecounterjs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"An import path cannot end with a '.ts' extension. Consider importing '@/store/counter.js\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u914D\\u7F6Evite.config.ts\\u4E2Dresolve.extensions\\u7684\\u914D\\u7F6E\\u9879\"}),`\n`,(0,n.jsxs)(e.h5,{id:\"cannot-find-module-storecounter-or-its-corresponding-type-declarationsts2307\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#cannot-find-module-storecounter-or-its-corresponding-type-declarationsts2307\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Cannot find module '~/store/counter' or its corresponding type declarations.ts(2307)\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://juejin.cn/post/7170746000112353293?searchId=2023112613400612F6DE1AB312141A1338#heading-31\",children:\"https://juejin.cn/post/7170746000112353293?searchId=2023112613400612F6DE1AB312141A1338#heading-31\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u670D\\u52A1\\u5668\\u7AEF\\u53E3\\u65E0\\u6CD5\\u8BBF\\u95EE\"}),`\n`,(0,n.jsx)(e.p,{children:\"A\\uFF1A\\u9632\\u706B\\u5899\\u672A\\u5F00\\u542F\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u67E5\\u770B\\u9632\\u706B\\u5899\\u4E2D\\u5141\\u8BB8\\u88AB\\u8BBF\\u95EE\\u7684\\u7AEF\\u53E3\\u53F7\\uFF1Asudo firewall-cmd --list-all \\uFF08ports\\u9009\\u9879\\uFF09\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"firewall-cmd --zone=public --list-ports\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F00\\u542F\\u7AEF\\u53E3\\uFF1Asudo firewall-cmd --zone=public --add-port=8887/tcp --permanent\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u91CD\\u542F\\u9632\\u706B\\u5899\\uFF1Asudo firewall-cmd --reload\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5173\\u95ED\\u7AEF\\u53E3\\uFF1Asudo firewall-cmd --zone=public --remove-port=7890/tcp --permanent\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u518D\\u6B21\\u68C0\\u67E5\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u68C0\\u67E5\\u7AEF\\u53E3\\u7F51\\u7AD9\\uFF1A\",(0,n.jsx)(e.a,{href:\"https://tool.chinaz.com/port\",children:\"https://tool.chinaz.com/port\"})]})]})}function B(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,Object.assign({},l,{children:(0,n.jsx)(o,l)})):o(l)}var v=B;return b(C);})();\n;return Component;"
  },
  "_id": "post/2023-11-27-vite+vue.md",
  "_raw": {
    "sourceFilePath": "post/2023-11-27-vite+vue.md",
    "sourceFileName": "2023-11-27-vite+vue.md",
    "sourceFileDir": "post",
    "contentType": "markdown",
    "flattenedPath": "post/2023-11-27-vite+vue"
  },
  "type": "Post",
  "parDir": "post",
  "slug": "/post/2023-11-27-vite+vue",
  "slugAsParams": "2023-11-27-vite+vue"
}
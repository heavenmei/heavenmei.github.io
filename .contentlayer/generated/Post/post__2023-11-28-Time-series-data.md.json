{
  "title": "时序数据处理学习",
  "url": "/2023-11-28-Time-series-data",
  "description": null,
  "date": "2023-11-28T00:00:00.000Z",
  "body": {
    "raw": "# Time-series-data\n\n## 1. How To Pre-Process Time Series Data\n\n[https://365datascience.com/tutorials/time-series-analysis-tutorials/](https://365datascience.com/tutorials/time-series-analysis-tutorials/)\n\n### Summary\n\n- `to_datetime`: string2date\n- `set_index`: date instead of index\n- `isna().sum()`: check NAN\n- `fillna`: fill no data\n- `asfreq`: set frequency\n\n## 2. What Is an Autoregressive Model? (AR Model)\n\nThe Autoregressive Model, or AR model for short, relies only on past period values to predict current ones. It’s a linear model, where current period values are a sum of past outcomes multiplied by a numeric factor. We denote it as AR(p), where “p” is called the order of the model and represents the number of lagged values we want to include. For instance, if we take X as time-series variable, then an AR(1), also known as a simple autoregressive model, would look something like this:\n\n$$ X_t=C+ {\\phi}_1X_{t-1}+{\\epsilon}_t $$\n\n- ${\\phi}_1$ you can interpret it as the part of the previous value which remains in the future. It’s good to note that these coefficients should always be between -1 and 1.\n- $_ϵ_$ It’s called the residual and represents the difference between our prediction for period t and the correct value $(ϵ = y − ŷ)$.\n\nNow that we know what all the parts of the model represent, let’s try to interpret it. According to the equation, **values at a given period (_Xt_) are equal to some portion (_ϕ_1) of values in the last period (_Xt_ − 1), + some constant benchmark _C_ and unpredictable shocks** _ϵt_.\n\n## 3. What Is a Moving Average Model? (MA Model)\n\na model that considers **past residuals** . In other words, by knowing how far off our estimation yesterday was, compared to the actual value, we can tweak our model, so that it responds accordingly.\n\na simple Moving Average (MA) model looks like this:\n\n$$ r_t = c + θ_1 ϵ_{t-1} + ϵ_t $$\n\n- $_r$_ represents the values of “r” in the current period - t\n- _θ_ is a numeric coefficient for the value associated with the 1st lag. We prefer not to use _ϕ_ like in the Autoregressive model, to avoid confusion.\n- Then come _ϵ_ and _ϵ_ which represent the residuals for the current and the previous period, respectively.a residual is the same as an error term\n\n## 4. What Is an ARMA Model?\n\nThat’s why we need models that simultaneously use past data as a foundation for estimates, but can also quickly adjust to unpredictable shocks.\n\n**“ARMA”( Autoregressive Moving Average), which takes into account past values, as well as past errors when constructing future estimates**\n\n$_yt = c + ϕ1yt − 1 + θ1ϵt − 1 + ϵt_$\n\nHence, an ARMA (P, Q) model, takes the previous values up to P periods ago, but also takes the residuals of up to Q lags.\n\nThen, the equation for an ARMA (2,3) would look like this:\n\n$_yt = ϕ1yt − 1 + ϕ2yt − 2 + θ1ϵt − 1 + θ2ϵt − 2 + θ3ϵt − 3 + ϵt_$\n\n## 5. What Is an ARIMA Model?\n\nARIMA model has three orders – p, d, and q **(ARIMA(p,d,q))**. The “p” and “q” represent the [autoregressive (AR)](https://365datascience.com/tutorials/time-series-analysis-tutorials/autoregressive-model/) and [moving average (MA)](https://365datascience.com/tutorials/time-series-analysis-tutorials/moving-average-model/) lags just like with the ARMA models. The “d” order is the integration order.\n\n- ARIMA (p, 0, q) = ARMA (p, q)\n- ARIMA (0, 0, q) = MA(q)\n- ARIMA (p, 0, 0) = AR(p)\n\nThese integrated models account for the non-seasonal difference between periods to establish [stationarity](https://www.investopedia.com/articles/trading/07/stationary.asp).\n\nHence, even the AR components in the model should be price differences, (ΔP) rather than prices (P). In a sense, we are “integrating” “d”-many times to construct a new time-series and then fitting said series into an ARMA (p, q) model.\n\nARIMA (1,1,1): _ΔPt_ = _c_ + _ϕ_1_ΔPt_ − 1 + _θ_1_ϵt_ − 1 + _ϵt_\n\n- $ ΔP_{t-1} $is the difference between prices in period “t” and prices in the preceding period (ΔPt = Pt-1-Pt). Therefore, _ΔP_ is an entire time-series, which represents the disparity between prices of consecutive periods\n\n**Essentially, the entire ARIMA model is nothing more than an ARMA model for a newly generated time-series, which is stationary.**\n\n## 6. What Is an ARIMAX Model?\n\nHowever, a model can also take into account _more than just past prices or past residuals_.And these are the so-called “MAX” models, with the ARMAX being the non-integrated version and the ARIMAX - its integrated equivalent.\n\nThe names ARMAX and ARIMAX come as extensions of the [ARMA](https://365datascience.com/tutorials/time-series-analysis-tutorials/arma-model/) and [ARIMA](https://365datascience.com/tutorials/python-tutorials/arima/) respectively. The X added to the end stands for “exogenous”. In other words, it suggests adding a separate different outside variable to help measure our endogenous variable.\n\nARIMAX:\n\n$_ΔPt = c + βX + ϕ1ΔPt − 1 + θ1ϵt − 1 + ϵt_$\n\nARMAX:\n\n$_Pt = c + βX + ϕ1Pt − 1 + θ1ϵt − 1 + ϵt_$\n\n- Just like ϕ, β is a coefficient which will be estimated based on the model selection and the data\n- X is the exogenous variable and it can be any variable we’re interested in.Such outside factors are known as exogenous variables in our regression._We use their values to predict and explain the one we’re interested in_, which happens to be current prices in our case.\n\n## 7. What Is a SARIMAX Model?\n\n“S” representing the seasonal aspect. SARIMAX(Seasonal Autoregressive Integrated Moving Average Exogenous model)",
    "html": "<h1>Time-series-data</h1>\n<h2>1. How To Pre-Process Time Series Data</h2>\n<p><a href=\"https://365datascience.com/tutorials/time-series-analysis-tutorials/\">https://365datascience.com/tutorials/time-series-analysis-tutorials/</a></p>\n<h3>Summary</h3>\n<ul>\n<li><code>to_datetime</code>: string2date</li>\n<li><code>set_index</code>: date instead of index</li>\n<li><code>isna().sum()</code>: check NAN</li>\n<li><code>fillna</code>: fill no data</li>\n<li><code>asfreq</code>: set frequency</li>\n</ul>\n<h2>2. What Is an Autoregressive Model? (AR Model)</h2>\n<p>The Autoregressive Model, or AR model for short, relies only on past period values to predict current ones. It’s a linear model, where current period values are a sum of past outcomes multiplied by a numeric factor. We denote it as AR(p), where “p” is called the order of the model and represents the number of lagged values we want to include. For instance, if we take X as time-series variable, then an AR(1), also known as a simple autoregressive model, would look something like this:</p>\n<p>$$ X_t=C+ {\\phi}<em>1X</em>{t-1}+{\\epsilon}_t $$</p>\n<ul>\n<li>${\\phi}_1$ you can interpret it as the part of the previous value which remains in the future. It’s good to note that these coefficients should always be between -1 and 1.</li>\n<li>$<em>ϵ</em>$ It’s called the residual and represents the difference between our prediction for period t and the correct value $(ϵ = y − ŷ)$.</li>\n</ul>\n<p>Now that we know what all the parts of the model represent, let’s try to interpret it. According to the equation, <strong>values at a given period (<em>Xt</em>) are equal to some portion (_ϕ_1) of values in the last period (<em>Xt</em> − 1), + some constant benchmark <em>C</em> and unpredictable shocks</strong> <em>ϵt</em>.</p>\n<h2>3. What Is a Moving Average Model? (MA Model)</h2>\n<p>a model that considers <strong>past residuals</strong> . In other words, by knowing how far off our estimation yesterday was, compared to the actual value, we can tweak our model, so that it responds accordingly.</p>\n<p>a simple Moving Average (MA) model looks like this:</p>\n<p>$$ r_t = c + θ_1 ϵ_{t-1} + ϵ_t $$</p>\n<ul>\n<li>$<em>r$</em> represents the values of “r” in the current period - t</li>\n<li><em>θ</em> is a numeric coefficient for the value associated with the 1st lag. We prefer not to use <em>ϕ</em> like in the Autoregressive model, to avoid confusion.</li>\n<li>Then come <em>ϵ</em> and <em>ϵ</em> which represent the residuals for the current and the previous period, respectively.a residual is the same as an error term</li>\n</ul>\n<h2>4. What Is an ARMA Model?</h2>\n<p>That’s why we need models that simultaneously use past data as a foundation for estimates, but can also quickly adjust to unpredictable shocks.</p>\n<p><strong>“ARMA”( Autoregressive Moving Average), which takes into account past values, as well as past errors when constructing future estimates</strong></p>\n<p>$<em>yt = c + ϕ1yt − 1 + θ1ϵt − 1 + ϵt</em>$</p>\n<p>Hence, an ARMA (P, Q) model, takes the previous values up to P periods ago, but also takes the residuals of up to Q lags.</p>\n<p>Then, the equation for an ARMA (2,3) would look like this:</p>\n<p>$<em>yt = ϕ1yt − 1 + ϕ2yt − 2 + θ1ϵt − 1 + θ2ϵt − 2 + θ3ϵt − 3 + ϵt</em>$</p>\n<h2>5. What Is an ARIMA Model?</h2>\n<p>ARIMA model has three orders – p, d, and q <strong>(ARIMA(p,d,q))</strong>. The “p” and “q” represent the <a href=\"https://365datascience.com/tutorials/time-series-analysis-tutorials/autoregressive-model/\">autoregressive (AR)</a> and <a href=\"https://365datascience.com/tutorials/time-series-analysis-tutorials/moving-average-model/\">moving average (MA)</a> lags just like with the ARMA models. The “d” order is the integration order.</p>\n<ul>\n<li>ARIMA (p, 0, q) = ARMA (p, q)</li>\n<li>ARIMA (0, 0, q) = MA(q)</li>\n<li>ARIMA (p, 0, 0) = AR(p)</li>\n</ul>\n<p>These integrated models account for the non-seasonal difference between periods to establish <a href=\"https://www.investopedia.com/articles/trading/07/stationary.asp\">stationarity</a>.</p>\n<p>Hence, even the AR components in the model should be price differences, (ΔP) rather than prices (P). In a sense, we are “integrating” “d”-many times to construct a new time-series and then fitting said series into an ARMA (p, q) model.</p>\n<p>ARIMA (1,1,1): <em>ΔPt</em> = <em>c</em> + <em>ϕ_1_ΔPt</em> − 1 + <em>θ_1_ϵt</em> − 1 + <em>ϵt</em></p>\n<ul>\n<li>$ ΔP_{t-1} $is the difference between prices in period “t” and prices in the preceding period (ΔPt = Pt-1-Pt). Therefore, <em>ΔP</em> is an entire time-series, which represents the disparity between prices of consecutive periods</li>\n</ul>\n<p><strong>Essentially, the entire ARIMA model is nothing more than an ARMA model for a newly generated time-series, which is stationary.</strong></p>\n<h2>6. What Is an ARIMAX Model?</h2>\n<p>However, a model can also take into account <em>more than just past prices or past residuals</em>.And these are the so-called “MAX” models, with the ARMAX being the non-integrated version and the ARIMAX - its integrated equivalent.</p>\n<p>The names ARMAX and ARIMAX come as extensions of the <a href=\"https://365datascience.com/tutorials/time-series-analysis-tutorials/arma-model/\">ARMA</a> and <a href=\"https://365datascience.com/tutorials/python-tutorials/arima/\">ARIMA</a> respectively. The X added to the end stands for “exogenous”. In other words, it suggests adding a separate different outside variable to help measure our endogenous variable.</p>\n<p>ARIMAX:</p>\n<p>$<em>ΔPt = c + βX + ϕ1ΔPt − 1 + θ1ϵt − 1 + ϵt</em>$</p>\n<p>ARMAX:</p>\n<p>$<em>Pt = c + βX + ϕ1Pt − 1 + θ1ϵt − 1 + ϵt</em>$</p>\n<ul>\n<li>Just like ϕ, β is a coefficient which will be estimated based on the model selection and the data</li>\n<li>X is the exogenous variable and it can be any variable we’re interested in.Such outside factors are known as exogenous variables in our regression.<em>We use their values to predict and explain the one we’re interested in</em>, which happens to be current prices in our case.</li>\n</ul>\n<h2>7. What Is a SARIMAX Model?</h2>\n<p>“S” representing the seasonal aspect. SARIMAX(Seasonal Autoregressive Integrated Moving Average Exogenous model)</p>"
  },
  "_id": "post/2023-11-28-Time-series-data.md",
  "_raw": {
    "sourceFilePath": "post/2023-11-28-Time-series-data.md",
    "sourceFileName": "2023-11-28-Time-series-data.md",
    "sourceFileDir": "post",
    "contentType": "markdown",
    "flattenedPath": "post/2023-11-28-Time-series-data"
  },
  "type": "Post",
  "id": ""
}
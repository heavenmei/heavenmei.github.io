{
  "title": "WebGL 环境遮挡Ambient Occlusion（AO）",
  "tags": [
    "CG"
  ],
  "author": "heavenmei",
  "subtitle": null,
  "description": null,
  "date": "2024-11-17T00:00:00.000Z",
  "body": {
    "raw": "空间换时间。预先计算好AO的信息生成一张AO贴图，在程序运行时，只需要直接进行采样。但这种方法只能表达单个物体。当对整个场景进行AO处理时，上述方法就无法胜任了。比如地板上有一张桌子和一把椅子，桌子和椅子的位置一直在变化，这时我们就无法预先烘焙好它们的AO效果。\n\n\n## 屏幕空间环境光遮蔽（SSAO）\nScreen-Space Ambient Occlusion， 当我们使用相机渲染场景时，除了可以生成场景的颜色信息，还可以生成场景中物体的深度信息。如果将每个像素点的深度信息连在一起，就可以得到一个高度场（Heightfield）。有了高度场信息之后，我们就可以估算每个区域的自遮挡关系。\n\n\n\n### 球形环境光遮挡体积技术AO\n\nScreen Space Ambient Occlusion\n\n环境光遮蔽由灰度值来呈现，该位置的灰度越高，说明光线越不可能到达该位置。环境光遮蔽可以被看作是光线能到达表面上每一点的能力的数值。\n\n对于铺屏四边形(Screen-filled Quad)上的每一个片段，我们都会根据周边深度值计算一个**遮蔽因子(Occlusion Factor)**。这个遮蔽因子之后会被用来减少或者抵消片段的环境光照分量。遮蔽因子是通过采集fragment周围球型核心(Kernel)的多个深度样本，并和当前fragment深度值对比而得到的。高于fragment深度值样本的个数就是我们想要的遮蔽因子。\n\n\n## Reference\n[# 如何理解渲染中的AO（环境光遮蔽](https://www.piccoloengine.com/topic/310595)",
    "code": "var Component=(()=>{var d=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var g=(c,e)=>()=>(e||c((e={exports:{}}).exports,e),e.exports),O=(c,e)=>{for(var a in e)t(c,a,{get:e[a],enumerable:!0})},s=(c,e,a,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of p(e))!f.call(c,r)&&r!==a&&t(c,r,{get:()=>e[r],enumerable:!(i=m(e,r))||i.enumerable});return c};var A=(c,e,a)=>(a=c!=null?d(u(c)):{},s(e||!c||!c.__esModule?t(a,\"default\",{value:c,enumerable:!0}):a,c)),x=c=>s(t({},\"__esModule\",{value:!0}),c);var l=g((w,o)=>{o.exports=_jsx_runtime});var _={};O(_,{default:()=>S,frontmatter:()=>b});var n=A(l()),b={title:\"WebGL \\u73AF\\u5883\\u906E\\u6321Ambient Occlusion\\uFF08AO\\uFF09\",subtitle:null,layout:\"post\",date:new Date(17318016e5),author:\"heavenmei\",categories:[\"Post\"],description:null,tags:[\"CG\"],image:null};function h(c){let e=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",h3:\"h3\",strong:\"strong\"},c.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"\\u7A7A\\u95F4\\u6362\\u65F6\\u95F4\\u3002\\u9884\\u5148\\u8BA1\\u7B97\\u597DAO\\u7684\\u4FE1\\u606F\\u751F\\u6210\\u4E00\\u5F20AO\\u8D34\\u56FE\\uFF0C\\u5728\\u7A0B\\u5E8F\\u8FD0\\u884C\\u65F6\\uFF0C\\u53EA\\u9700\\u8981\\u76F4\\u63A5\\u8FDB\\u884C\\u91C7\\u6837\\u3002\\u4F46\\u8FD9\\u79CD\\u65B9\\u6CD5\\u53EA\\u80FD\\u8868\\u8FBE\\u5355\\u4E2A\\u7269\\u4F53\\u3002\\u5F53\\u5BF9\\u6574\\u4E2A\\u573A\\u666F\\u8FDB\\u884CAO\\u5904\\u7406\\u65F6\\uFF0C\\u4E0A\\u8FF0\\u65B9\\u6CD5\\u5C31\\u65E0\\u6CD5\\u80DC\\u4EFB\\u4E86\\u3002\\u6BD4\\u5982\\u5730\\u677F\\u4E0A\\u6709\\u4E00\\u5F20\\u684C\\u5B50\\u548C\\u4E00\\u628A\\u6905\\u5B50\\uFF0C\\u684C\\u5B50\\u548C\\u6905\\u5B50\\u7684\\u4F4D\\u7F6E\\u4E00\\u76F4\\u5728\\u53D8\\u5316\\uFF0C\\u8FD9\\u65F6\\u6211\\u4EEC\\u5C31\\u65E0\\u6CD5\\u9884\\u5148\\u70D8\\u7119\\u597D\\u5B83\\u4EEC\\u7684AO\\u6548\\u679C\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u5C4F\\u5E55\\u7A7A\\u95F4\\u73AF\\u5883\\u5149\\u906E\\u853Dssao\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u5C4F\\u5E55\\u7A7A\\u95F4\\u73AF\\u5883\\u5149\\u906E\\u853Dssao\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5C4F\\u5E55\\u7A7A\\u95F4\\u73AF\\u5883\\u5149\\u906E\\u853D\\uFF08SSAO\\uFF09\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Screen-Space Ambient Occlusion\\uFF0C \\u5F53\\u6211\\u4EEC\\u4F7F\\u7528\\u76F8\\u673A\\u6E32\\u67D3\\u573A\\u666F\\u65F6\\uFF0C\\u9664\\u4E86\\u53EF\\u4EE5\\u751F\\u6210\\u573A\\u666F\\u7684\\u989C\\u8272\\u4FE1\\u606F\\uFF0C\\u8FD8\\u53EF\\u4EE5\\u751F\\u6210\\u573A\\u666F\\u4E2D\\u7269\\u4F53\\u7684\\u6DF1\\u5EA6\\u4FE1\\u606F\\u3002\\u5982\\u679C\\u5C06\\u6BCF\\u4E2A\\u50CF\\u7D20\\u70B9\\u7684\\u6DF1\\u5EA6\\u4FE1\\u606F\\u8FDE\\u5728\\u4E00\\u8D77\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5F97\\u5230\\u4E00\\u4E2A\\u9AD8\\u5EA6\\u573A\\uFF08Heightfield\\uFF09\\u3002\\u6709\\u4E86\\u9AD8\\u5EA6\\u573A\\u4FE1\\u606F\\u4E4B\\u540E\\uFF0C\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u4F30\\u7B97\\u6BCF\\u4E2A\\u533A\\u57DF\\u7684\\u81EA\\u906E\\u6321\\u5173\\u7CFB\\u3002\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u7403\\u5F62\\u73AF\\u5883\\u5149\\u906E\\u6321\\u4F53\\u79EF\\u6280\\u672Fao\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u7403\\u5F62\\u73AF\\u5883\\u5149\\u906E\\u6321\\u4F53\\u79EF\\u6280\\u672Fao\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7403\\u5F62\\u73AF\\u5883\\u5149\\u906E\\u6321\\u4F53\\u79EF\\u6280\\u672FAO\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Screen Space Ambient Occlusion\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u73AF\\u5883\\u5149\\u906E\\u853D\\u7531\\u7070\\u5EA6\\u503C\\u6765\\u5448\\u73B0\\uFF0C\\u8BE5\\u4F4D\\u7F6E\\u7684\\u7070\\u5EA6\\u8D8A\\u9AD8\\uFF0C\\u8BF4\\u660E\\u5149\\u7EBF\\u8D8A\\u4E0D\\u53EF\\u80FD\\u5230\\u8FBE\\u8BE5\\u4F4D\\u7F6E\\u3002\\u73AF\\u5883\\u5149\\u906E\\u853D\\u53EF\\u4EE5\\u88AB\\u770B\\u4F5C\\u662F\\u5149\\u7EBF\\u80FD\\u5230\\u8FBE\\u8868\\u9762\\u4E0A\\u6BCF\\u4E00\\u70B9\\u7684\\u80FD\\u529B\\u7684\\u6570\\u503C\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5BF9\\u4E8E\\u94FA\\u5C4F\\u56DB\\u8FB9\\u5F62(Screen-filled Quad)\\u4E0A\\u7684\\u6BCF\\u4E00\\u4E2A\\u7247\\u6BB5\\uFF0C\\u6211\\u4EEC\\u90FD\\u4F1A\\u6839\\u636E\\u5468\\u8FB9\\u6DF1\\u5EA6\\u503C\\u8BA1\\u7B97\\u4E00\\u4E2A\",(0,n.jsx)(e.strong,{children:\"\\u906E\\u853D\\u56E0\\u5B50(Occlusion Factor)\"}),\"\\u3002\\u8FD9\\u4E2A\\u906E\\u853D\\u56E0\\u5B50\\u4E4B\\u540E\\u4F1A\\u88AB\\u7528\\u6765\\u51CF\\u5C11\\u6216\\u8005\\u62B5\\u6D88\\u7247\\u6BB5\\u7684\\u73AF\\u5883\\u5149\\u7167\\u5206\\u91CF\\u3002\\u906E\\u853D\\u56E0\\u5B50\\u662F\\u901A\\u8FC7\\u91C7\\u96C6fragment\\u5468\\u56F4\\u7403\\u578B\\u6838\\u5FC3(Kernel)\\u7684\\u591A\\u4E2A\\u6DF1\\u5EA6\\u6837\\u672C\\uFF0C\\u5E76\\u548C\\u5F53\\u524Dfragment\\u6DF1\\u5EA6\\u503C\\u5BF9\\u6BD4\\u800C\\u5F97\\u5230\\u7684\\u3002\\u9AD8\\u4E8Efragment\\u6DF1\\u5EA6\\u503C\\u6837\\u672C\\u7684\\u4E2A\\u6570\\u5C31\\u662F\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u906E\\u853D\\u56E0\\u5B50\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"reference\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#reference\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Reference\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://www.piccoloengine.com/topic/310595\",children:\"# \\u5982\\u4F55\\u7406\\u89E3\\u6E32\\u67D3\\u4E2D\\u7684AO\\uFF08\\u73AF\\u5883\\u5149\\u906E\\u853D\"})})]})}function j(c={}){let{wrapper:e}=c.components||{};return e?(0,n.jsx)(e,Object.assign({},c,{children:(0,n.jsx)(h,c)})):h(c)}var S=j;return x(_);})();\n;return Component;"
  },
  "_id": "post/2024-11-17-WebGL-AO.md",
  "_raw": {
    "sourceFilePath": "post/2024-11-17-WebGL-AO.md",
    "sourceFileName": "2024-11-17-WebGL-AO.md",
    "sourceFileDir": "post",
    "contentType": "markdown",
    "flattenedPath": "post/2024-11-17-WebGL-AO"
  },
  "type": "Post",
  "parDir": "post",
  "slug": "/post/2024-11-17-WebGL-AO",
  "slugAsParams": "2024-11-17-WebGL-AO"
}
{
  "title": "å¾®ä¿¡å°ç¨‹åºç™»å½•æµç¨‹",
  "tags": [
    "Front"
  ],
  "author": "heavenmei",
  "subtitle": null,
  "description": null,
  "date": "2024-12-09T00:00:00.000Z",
  "body": {
    "raw": "\nä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç³»ç»Ÿéœ€è¦å…³æ³¨è‡³å°‘è¿™äº›å±‚é¢\n\n- å®‰å…¨æ€§(åŠ å¯†)\n- æŒä¹…åŒ–ç™»å½•æ€(ç±»ä¼¼cookie)\n- ç™»å½•è¿‡æœŸå¤„ç†\n- ç¡®ä¿ç”¨æˆ·å”¯ä¸€æ€§, é¿å…å‡ºçŽ°å¤šè´¦å·\n- æŽˆæƒ\n- ç»‘å®šç”¨æˆ·æ˜µç§°å¤´åƒç­‰ä¿¡æ¯\n- ç»‘å®šæ‰‹æœºå·(å®žåå’Œå¯†ä¿æ–¹å¼)\n\n\n## ç™»å½•æµç¨‹\n- é€šè¿‡wx.login()èŽ·å–codeã€‚\n- å°†è¿™ä¸ªcodeå‘é€ç»™åŽç«¯ï¼ŒåŽç«¯ä¼šè¿”å›žä¸€ä¸ªtokenï¼Œè¿™ä¸ªtokenå°†ä½œä¸ºä½ èº«ä»½çš„å”¯ä¸€æ ‡è¯†ã€‚\n- å°†tokené€šè¿‡wx.setStorageSync()ä¿å­˜åœ¨æœ¬åœ°å­˜å‚¨ã€‚\n- ç”¨æˆ·ä¸‹æ¬¡è¿›å…¥â»šé¢æ—¶ï¼Œä¼šå…ˆé€šè¿‡wx.getStorageSync() æ–¹æ³•åˆ¤æ–­tokenæ˜¯å¦æœ‰å€¼ï¼Œå¦‚æžœæœ‰å€¼ï¼Œåˆ™å¯ä»¥è¯·æ±‚å…¶å®ƒæ•°æ®ï¼Œå¦‚æžœæ²¡æœ‰å€¼ï¼Œåˆ™è¿›è¡Œç™»å½•æ“ä½œã€‚\n\n\n![](assets/2024-12-09-wechat-login-20241209112239.png)\n\n- `appId`Â å°ç¨‹åºå”¯ä¸€æ ‡è¯†\n- `appSecret`Â å°ç¨‹åºçš„ app secret, å¯ä»¥å’Œ code, appId ä¸€èµ·æ¢å– session_key\n\n\n\n**æ³¨æ„âš ï¸**\n1. ä¼šè¯å¯†é’¥Â `session_key`Â æ˜¯å¯¹ç”¨æˆ·æ•°æ®è¿›è¡ŒÂ [åŠ å¯†ç­¾å](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/signature.html)Â çš„å¯†é’¥ã€‚ä¸ºäº†åº”ç”¨è‡ªèº«çš„æ•°æ®å®‰å…¨ï¼Œå¼€å‘è€…æœåŠ¡å™¨**ä¸åº”è¯¥æŠŠä¼šè¯å¯†é’¥ä¸‹å‘åˆ°å°ç¨‹åºï¼Œä¹Ÿä¸åº”è¯¥å¯¹å¤–æä¾›è¿™ä¸ªå¯†é’¥**ã€‚\n2. ä¸´æ—¶ç™»å½•å‡­è¯ code åªèƒ½ä½¿ç”¨ä¸€æ¬¡\n\n\n## OAuth\n>  åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œoauth æŽˆæƒç™»å½•ä¸»è¦æ˜¯ code æ¢å– openId å’Œ sessionKey çš„è¿‡ç¨‹\n\nOAuthåœ¨\"å®¢æˆ·ç«¯\"ä¸Ž\"æœåŠ¡æä¾›å•†\"ä¹‹é—´ï¼Œè®¾ç½®äº†ä¸€ä¸ªæŽˆæƒå±‚ï¼ˆauthorization layerï¼‰ã€‚\"å®¢æˆ·ç«¯\"ä¸èƒ½ç›´æŽ¥ç™»å½•\"æœåŠ¡æä¾›å•†\"ï¼Œåªèƒ½ç™»å½•æŽˆæƒå±‚ï¼Œä»¥æ­¤å°†ç”¨æˆ·ä¸Žå®¢æˆ·ç«¯åŒºåˆ†å¼€æ¥ã€‚\"å®¢æˆ·ç«¯\"ç™»å½•æŽˆæƒå±‚æ‰€ç”¨çš„ä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œä¸Žç”¨æˆ·çš„å¯†ç ä¸åŒã€‚ç”¨æˆ·å¯ä»¥åœ¨ç™»å½•çš„æ—¶å€™ï¼ŒæŒ‡å®šæŽˆæƒå±‚ä»¤ç‰Œçš„æƒé™èŒƒå›´å’Œæœ‰æ•ˆæœŸã€‚\n\"å®¢æˆ·ç«¯\"ç™»å½•æŽˆæƒå±‚ä»¥åŽï¼Œ\"æœåŠ¡æä¾›å•†\"æ ¹æ®ä»¤ç‰Œçš„æƒé™èŒƒå›´å’Œæœ‰æ•ˆæœŸï¼Œå‘\"å®¢æˆ·ç«¯\"å¼€æ”¾ç”¨æˆ·å‚¨å­˜çš„èµ„æ–™ã€‚\n\n\nåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æœåŠ¡ç«¯é‡‡ç”¨[Lucia](https://lucia-auth.com/)å®žçŽ°, Lucia æ˜¯æœåŠ¡å™¨çš„ä¸€ä¸ªå¼€æºèº«ä»½éªŒè¯åº“ï¼Œå®ƒæ¶ˆé™¤äº†å¤„ç†ä¼šè¯çš„å¤æ‚æ€§ã€‚å®ƒä¸Žæ‚¨çš„æ•°æ®åº“ä¸€èµ·å·¥ä½œï¼Œæä¾›æ˜“äºŽä½¿ç”¨ã€ç†è§£å’Œæ‰©å±•çš„ APIã€‚*ä½†æ˜¯è‡ª2025å¹´3æœˆå¼€å§‹ä¸å†ç»´æŠ¤*ã€‚\n\n\n\né¦–å…ˆåœ¨è¿å‰ç«¯å°ç¨‹åºä¸­ï¼Œ`wx.login()`èŽ·å–ä¸´æ—¶codeï¼Œç„¶åŽä¼ å›žç»™å¼€å‘æœåŠ¡å™¨\n\n>2021å¹´4æœˆèµ·å°ç¨‹åºä¸å†æ”¯æŒ`wx.getUserInfo`èŽ·å–ï¼Œéœ€è¦ç”¨`wx.getUserProfile`æ›¿æ¢ã€‚è€Œä¸”å¿…é¡»æ˜¯ç”¨æˆ·ç‚¹å‡»åŽè°ƒç”¨ï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼ˆè§„çŸ©çœŸå¤šðŸ’¢ï¼‰\n>`Error: MiniProgramError {\"errMsg\":\"getUserProfile:fail can only be invoked by user TAP gesture.\"}`\n\n\n```js\nexport const loginProfile = async (app) => {\n  // promisifyæ˜¯å°è£…çš„wx å¼‚æ­¥å‡½æ•°\n  const res = await promisify(wx.getUserProfile)({\n    desc: \"ç”¨äºŽå®Œå–„ä¼šå‘˜èµ„æ–™\",\n  });\n  const { code } = await promisify(wx.login)();\n\n  // loginæ˜¯ä¼ å›žè‡ªå·±æœåŠ¡çš„loginæŽ¥å£ï¼Œè¿”å›žè‡ªå®šä¹‰ç™»å½•æ€data\n  const { data } = await login({\n    code,\n    ...res.userInfo,\n  });\n  // ç¼“å­˜ç™»å½•æ€\n  wx.setStorageSync(\"userInfo\", data);\n\n  const userId = data.id;\n  startDuration(app, userId);\n  return data;\n};\n```\n\n\nåœ¨æœåŠ¡å™¨ä¸­å®žçŽ°`/login`æŽ¥å£\n```js\n\n// POST\nexport async function login(c: Context) {\n  const body = await c.req.json();\n  const { code } = UserParamsSchema.parse(body);\n\n  const { data } = await axios.get(\n    \"https://api.weixin.qq.com/sns/jscode2session\",\n    {\n      params: {\n        appid: serverEnvs.WX_APPID,\n        secret: serverEnvs.WX_SECRET,\n        js_code: code,\n        grant_type: \"authorization_code\",\n      },\n    }\n  );\n  logger.info(\"user\", data);\n\n  let curUser = null;\n  try {\n    const existingUser = await db\n      .select()\n      .from(users)\n      .where(eq(users.id, data.openid))\n      .limit(1);\n\n    if (existingUser.length === 0) {\n      curUser = {\n        id: data.openid,\n        session_key: data.session_key,\n        name: nickName,\n        avatar: avatarUrl,\n      };\n      await db.insert(users).values(curUser);\n    } else {\n      curUser = existingUser[0];\n    }\n  } catch (e: any) {\n    return c.json(\n      failRes({\n        message: e.detail,\n      })\n    );\n  }\n\n  const session = await lucia.createSession(data.openid, {});\n  const sessionCookie = lucia.createSessionCookie(session.id);\n\n  setCookie(c, lucia.sessionCookieName, sessionCookie.value);\n\n  return c.json(successRes({ ...curUser }));\n}\n```\n\n\n##  openid, unionid , code, session_key\n\n**openid**\nopenidæ˜¯ç”¨æ¥å”¯ä¸€æ ‡è¯†ç”¨æˆ·çš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œæ¯ä¸ªç”¨æˆ·çš„openidéƒ½æ˜¯å”¯ä¸€çš„ã€‚é€šè¿‡openidï¼Œå°ç¨‹åºå¯ä»¥èŽ·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚å¤´åƒã€æ˜µç§°ç­‰ã€‚\n\n > æ³¨æ„ï¼šÂ åŒä¸€ä¸ªç”¨æˆ·åœ¨ä¸åŒçš„å°ç¨‹åºä¸­æ‹¥æœ‰ä¸åŒçš„openidã€‚å› æ­¤ï¼Œåœ¨å¼€å‘å°ç¨‹åºæ—¶ï¼Œä¸èƒ½ä½¿ç”¨openidæ¥è¿›è¡Œç”¨æˆ·çš„å”¯ä¸€æ€§åˆ¤æ–­\n\n\n**unionid**\nunionidæ˜¯åœ¨ç”¨æˆ·ç»‘å®šåŒä¸€å¾®ä¿¡å¼€æ”¾å¹³å°è´¦å·ä¸‹çš„å¤šä¸ªåº”ç”¨æ—¶ï¼Œç”¨æ¥å”¯ä¸€æ ‡è¯†ç”¨æˆ·çš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æžœç”¨æˆ·åœ¨å¤šä¸ªå°ç¨‹åºä¸­ä½¿ç”¨åŒä¸€ä¸ªå¾®ä¿¡å·è¿›è¡Œç™»å½•æŽˆæƒï¼Œé‚£ä¹ˆè¿™äº›å°ç¨‹åºä¸­çš„unionidéƒ½æ˜¯ç›¸åŒçš„ã€‚\n\n> æ³¨æ„ï¼šÂ ç”¨æˆ·çš„unionidåªæœ‰åœ¨ç”¨æˆ·å°†å¤šä¸ªåº”ç”¨ç»‘å®šåˆ°åŒä¸€ä¸ªå¾®ä¿¡å¼€æ”¾å¹³å°è´¦å·ä¸‹æ—¶æ‰ä¼šç”Ÿæˆã€‚å› æ­¤ï¼Œå¦‚æžœç”¨æˆ·æ²¡æœ‰ç»‘å®šå¤šä¸ªåº”ç”¨ï¼Œé‚£ä¹ˆå°ç¨‹åºå°†æ— æ³•èŽ·å–ç”¨æˆ·çš„unionidã€‚\n\n\n**code**\ncodeæ˜¯ç”¨æˆ·ç™»å½•å‡­è¯ï¼Œç”±å¾®ä¿¡æœåŠ¡å™¨é¢å‘ç»™å°ç¨‹åºã€‚åœ¨ç”¨æˆ·æŽˆæƒç™»å½•åŽï¼Œå°ç¨‹åºå¯ä»¥é€šè¿‡è°ƒç”¨å¾®ä¿¡ç™»å½•æŽ¥å£èŽ·å–ç”¨æˆ·çš„codeã€‚ç„¶åŽï¼Œé€šè¿‡codeå‘å¾®ä¿¡æœåŠ¡å™¨è¯·æ±‚ç”¨æˆ·çš„openidå’Œsession_keyç­‰ä¿¡æ¯ã€‚\n> **æ³¨æ„ï¼š**Â **æ¯ä¸ªcodeåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œä¸”æœ‰æ•ˆæœŸä¸º5åˆ†é’Ÿã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨codeè¿›è¡Œç™»å½•æ—¶ï¼Œéœ€è¦åŠæ—¶å°†å…¶è½¬æ¢æˆç”¨æˆ·çš„openidå’Œsession_keyç­‰ä¿¡æ¯ï¼Œä»¥å…å‡ºçŽ°codeè¿‡æœŸçš„æƒ…å†µ**\n\n\n**session_key**\nä¼šè¯å¯†é’¥, æœåŠ¡ç«¯é€šè¿‡Â [code2Session](https://developers.weixin.qq.com/miniprogram/dev/api/open-api/login/code2Session.html)Â èŽ·å–\nsession_keyæœ‰ç‚¹ç±»ä¼¼äºŽæˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­ä¿å­˜ç”¨æˆ·å¯†ç æ—¶æ‰€ä½¿ç”¨çš„â€œç›ï¼ˆsaltï¼‰â€ã€‚åœ¨æ•°æ®åº“ä¿å­˜ç”¨æˆ·å¯†ç æ—¶ï¼Œå¹¶ä¸æ˜¯ç›´æŽ¥å°†ç”¨æˆ·çš„å¯†ç ä»¥æ˜Žæ–‡çš„æ–¹å¼å­˜æ”¾åœ¨æ•°æ®åº“è¡¨ä¸­ï¼Œé€šå¸¸éƒ½ä¼šä½¿ç”¨SHA-1æˆ–è€…MD5ç®—æ³•å°†ç”¨æˆ·å¯†ç å’Œsaltéšæœºå­—ç¬¦ä¸²æ‹¼æŽ¥åœ¨ä¸€èµ·ï¼Œé‡æ–°è®¡ç®—ä¸€ä¸‹å†å­˜å…¥æ•°æ®åº“ä¸­ã€‚è¢«é‡æ–°ä½¿ç”¨SHA-1æˆ–MD5ç®—æ³•è®¡ç®—çš„ç”¨æˆ·å¯†ç è°éƒ½ä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œå¼€å‘è€…ä¹Ÿåªèƒ½æ¯”å¯¹æ¯æ¬¡ç™»å½•æ—¶è¾“å…¥çš„å¯†ç å’Œæ•°æ®åº“ä¿å­˜çš„å¯†ç æ˜¯å¦ä¸€è‡´ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºåˆæ³•ç”¨æˆ·ï¼Œå´æ— æ³•çŸ¥é“å¯†ç åˆ°åº•æ˜¯ä»€ä¹ˆã€‚\n\n> å› ä¸ºsession_key å­˜åœ¨æ—¶æ•ˆæ€§é—®é¢˜ï¼ˆæ¯•ç«Ÿæ˜¯ç”¨æ¥æŸ¥çœ‹æ•æ„Ÿä¿¡æ¯ï¼‰ï¼Œè€Œå°ç¨‹åºå‰ç«¯å¯ä»¥é€šè¿‡wx.checkSession() æ¥æ£€æŸ¥session_key æ˜¯å¦è¿‡æœŸã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡è¿™ä¸ªæ¥ä½œä¸ºä¿å­˜ç”¨æˆ·ç™»å½•æ€çš„æœºåˆ¶ï¼Œè¿™ä¹Ÿæ˜¯å°ç¨‹åºæ–‡æ¡£ä¸­æŽ¨èçš„æ–¹æ³•ï¼š\n\n\n\n\n## è‡ªå®šä¹‰ç™»å½•æ€æŒä¹…åŒ–\n\næµè§ˆå™¨æœ‰ cookie, ç„¶è€Œå°ç¨‹åºæ²¡æœ‰ cookie, å› æ­¤ï¼Œä½¿ç”¨å°ç¨‹åºè‡ªå·±çš„**æŒä¹…åŒ–**æŽ¥å£, ä¹Ÿå°±æ˜¯ setStorage å’Œ getStorageï¼Œç»™http response headers**ç§ä¸Š cookie**ã€‚\nè¿™é‡Œä½¿ç”¨[@chunpu/http](https://github.com/chunpu/http)Â å®žçŽ°ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºå°ç¨‹åºè®¾è®¡çš„ http è¯·æ±‚åº“, å¯ä»¥åœ¨å°ç¨‹åºä¸Šåƒ axios ä¸€æ ·å‘è¯·æ±‚, æ”¯æŒæ‹¦æˆªå™¨ç­‰å¼ºå¤§åŠŸèƒ½, ç”šè‡³æ¯” axios æ›´é¡ºæ‰‹\n\nåœ¨loginæŽ¥å£Â response æ‹¦æˆªå™¨\n\n```js\nhttp.interceptors.response.use((response) => {\n  // ç§ cookie\n  var { headers } = response;\n  var cookies = headers[\"set-cookie\"] || \"\";\n\n  cookies = cookies.split(/, */).reduce((prev, item) => {\n    item = item.split(/; */)[0];\n    var obj = http.qs.parse(item);\n    return Object.assign(prev, obj);\n  }, {});\n  if (cookies) {\n    return promisify(wx.getStorage)({\n      key: \"cookie\",\n    })\n      .catch(() => {})\n      .then((res) => {\n        res = res || {};\n\n        var allCookies = res.data || {};\n        Object.assign(allCookies, cookies);\n        return promisify(wx.setStorage)({\n          key: \"cookie\",\n          data: allCookies,\n        });\n      })\n      .then(() => {\n        return response;\n      });\n  }\n  return response;\n});\n```\n\n\nå½“ç„¶æˆ‘ä»¬è¿˜éœ€è¦åœ¨å‘è¯·æ±‚çš„æ—¶å€™**å¸¦ä¸Šæ‰€æœ‰ cookie**, æ­¤å¤„ç”¨çš„æ˜¯ request æ‹¦æˆªå™¨\n```js\nhttp.interceptors.request.use((config) => {\n  // ç»™è¯·æ±‚å¸¦ä¸Š cookie\n  return promisify(wx.getStorage)({\n    key: \"cookie\",\n  })\n    .catch(() => {})\n    .then((res) => {\n      if (res && res.data) {\n        Object.assign(config.headers, {\n          Cookie: http.qs.stringify(res.data, \";\", \"=\"),\n        });\n      }\n      return config;\n    });\n});\n\n```\n\n\nç™»å½•æ€ cookie æ˜¯æœ‰å¤±æ•ˆæ—¶é—´çš„, æ¯”å¦‚ä¸€å¤©, ä¸ƒå¤©, æˆ–è€…ä¸€ä¸ªæœˆã€‚ å°ç¨‹åºå·²ç»å¸®æˆ‘ä»¬å®žçŽ°å¥½äº† session æœ‰æ•ˆæœŸçš„åˆ¤æ–­Â `wx.checkSession`\n>é€šè¿‡ wx.login æŽ¥å£èŽ·å¾—çš„ç”¨æˆ·ç™»å½•æ€æ‹¥æœ‰ä¸€å®šçš„æ—¶æ•ˆæ€§ã€‚ç”¨æˆ·è¶Šä¹…æœªä½¿ç”¨å°ç¨‹åºï¼Œç”¨æˆ·ç™»å½•æ€è¶Šæœ‰å¯èƒ½å¤±æ•ˆã€‚åä¹‹å¦‚æžœç”¨æˆ·ä¸€ç›´åœ¨ä½¿ç”¨å°ç¨‹åºï¼Œåˆ™ç”¨æˆ·ç™»å½•æ€ä¸€ç›´ä¿æŒæœ‰æ•ˆ\n\n`app.js`\n\n```js\n\n\n\n```\n\n\n\n\n## Reference\n[å½»åº•æžæ‡‚å°ç¨‹åºç™»å½•æµç¨‹-é™„å°ç¨‹åºå’ŒæœåŠ¡ç«¯](https://github.com/75team/w3c/blob/master/articles/20181001_chunpu_%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B-%E9%99%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BB%A3%E7%A0%81.md)",
    "code": "var Component=(()=>{var cn=Object.create;var T=Object.defineProperty;var bn=Object.getOwnPropertyDescriptor;var hn=Object.getOwnPropertyNames;var pn=Object.getPrototypeOf,_n=Object.prototype.hasOwnProperty;var z=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),Nn=(a,e)=>{for(var _ in e)T(a,_,{get:e[_],enumerable:!0})},Ee=(a,e,_,x)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let v of hn(e))!_n.call(a,v)&&v!==_&&T(a,v,{get:()=>e[v],enumerable:!(x=bn(e,v))||x.enumerable});return a};var vn=(a,e,_)=>(_=a!=null?cn(pn(a)):{},Ee(e||!a||!a.__esModule?T(_,\"default\",{value:a,enumerable:!0}):_,a)),xn=a=>Ee(T({},\"__esModule\",{value:!0}),a);var Ue=z((gn,De)=>{De.exports=React});var ge=z(G=>{\"use strict\";(function(){\"use strict\";var a=Ue(),e=Symbol.for(\"react.element\"),_=Symbol.for(\"react.portal\"),x=Symbol.for(\"react.fragment\"),v=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),J=Symbol.for(\"react.provider\"),Q=Symbol.for(\"react.context\"),w=Symbol.for(\"react.forward_ref\"),P=Symbol.for(\"react.suspense\"),O=Symbol.for(\"react.suspense_list\"),C=Symbol.for(\"react.memo\"),I=Symbol.for(\"react.lazy\"),Ce=Symbol.for(\"react.offscreen\"),Z=Symbol.iterator,Ae=\"@@iterator\";function Re(i){if(i===null||typeof i!=\"object\")return null;var t=Z&&i[Z]||i[Ae];return typeof t==\"function\"?t:null}var E=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function c(i){{for(var t=arguments.length,d=new Array(t>1?t-1:0),o=1;o<t;o++)d[o-1]=arguments[o];Se(\"error\",i,d)}}function Se(i,t,d){{var o=E.ReactDebugCurrentFrame,m=o.getStackAddendum();m!==\"\"&&(t+=\"%s\",d=d.concat([m]));var l=d.map(function(s){return String(s)});l.unshift(\"Warning: \"+t),Function.prototype.apply.call(console[i],console,l)}}var je=!1,Te=!1,Pe=!1,Oe=!1,Ie=!1,ee;ee=Symbol.for(\"react.module.reference\");function qe(i){return!!(typeof i==\"string\"||typeof i==\"function\"||i===x||i===H||Ie||i===v||i===P||i===O||Oe||i===Ce||je||Te||Pe||typeof i==\"object\"&&i!==null&&(i.$$typeof===I||i.$$typeof===C||i.$$typeof===J||i.$$typeof===Q||i.$$typeof===w||i.$$typeof===ee||i.getModuleId!==void 0))}function We(i,t,d){var o=i.displayName;if(o)return o;var m=t.displayName||t.name||\"\";return m!==\"\"?d+\"(\"+m+\")\":d}function ne(i){return i.displayName||\"Context\"}function N(i){if(i==null)return null;if(typeof i.tag==\"number\"&&c(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof i==\"function\")return i.displayName||i.name||null;if(typeof i==\"string\")return i;switch(i){case x:return\"Fragment\";case _:return\"Portal\";case H:return\"Profiler\";case v:return\"StrictMode\";case P:return\"Suspense\";case O:return\"SuspenseList\"}if(typeof i==\"object\")switch(i.$$typeof){case Q:var t=i;return ne(t)+\".Consumer\";case J:var d=i;return ne(d._context)+\".Provider\";case w:return We(i,i.render,\"ForwardRef\");case C:var o=i.displayName||null;return o!==null?o:N(i.type)||\"Memo\";case I:{var m=i,l=m._payload,s=m._init;try{return N(s(l))}catch{return null}}}return null}var y=Object.assign,g=0,ie,te,de,oe,re,se,me;function le(){}le.__reactDisabledLog=!0;function Me(){{if(g===0){ie=console.log,te=console.info,de=console.warn,oe=console.error,re=console.group,se=console.groupCollapsed,me=console.groupEnd;var i={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:i,log:i,warn:i,error:i,group:i,groupCollapsed:i,groupEnd:i})}g++}}function Ye(){{if(g--,g===0){var i={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:y({},i,{value:ie}),info:y({},i,{value:te}),warn:y({},i,{value:de}),error:y({},i,{value:oe}),group:y({},i,{value:re}),groupCollapsed:y({},i,{value:se}),groupEnd:y({},i,{value:me})})}g<0&&c(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var q=E.ReactCurrentDispatcher,W;function A(i,t,d){{if(W===void 0)try{throw Error()}catch(m){var o=m.stack.trim().match(/\\n( *(at )?)/);W=o&&o[1]||\"\"}return`\n`+W+i}}var M=!1,R;{var Ve=typeof WeakMap==\"function\"?WeakMap:Map;R=new Ve}function ae(i,t){if(!i||M)return\"\";{var d=R.get(i);if(d!==void 0)return d}var o;M=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var l;l=q.current,q.current=null,Me();try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(h){o=h}Reflect.construct(i,[],s)}else{try{s.call()}catch(h){o=h}i.call(s.prototype)}}else{try{throw Error()}catch(h){o=h}i()}}catch(h){if(h&&o&&typeof h.stack==\"string\"){for(var r=h.stack.split(`\n`),b=o.stack.split(`\n`),f=r.length-1,u=b.length-1;f>=1&&u>=0&&r[f]!==b[u];)u--;for(;f>=1&&u>=0;f--,u--)if(r[f]!==b[u]){if(f!==1||u!==1)do if(f--,u--,u<0||r[f]!==b[u]){var p=`\n`+r[f].replace(\" at new \",\" at \");return i.displayName&&p.includes(\"<anonymous>\")&&(p=p.replace(\"<anonymous>\",i.displayName)),typeof i==\"function\"&&R.set(i,p),p}while(f>=1&&u>=0);break}}}finally{M=!1,q.current=l,Ye(),Error.prepareStackTrace=m}var U=i?i.displayName||i.name:\"\",k=U?A(U):\"\";return typeof i==\"function\"&&R.set(i,k),k}function $e(i,t,d){return ae(i,!1)}function Le(i){var t=i.prototype;return!!(t&&t.isReactComponent)}function S(i,t,d){if(i==null)return\"\";if(typeof i==\"function\")return ae(i,Le(i));if(typeof i==\"string\")return A(i);switch(i){case P:return A(\"Suspense\");case O:return A(\"SuspenseList\")}if(typeof i==\"object\")switch(i.$$typeof){case w:return $e(i.render);case C:return S(i.type,t,d);case I:{var o=i,m=o._payload,l=o._init;try{return S(l(m),t,d)}catch{}}}return\"\"}var F=Object.prototype.hasOwnProperty,fe={},ue=E.ReactDebugCurrentFrame;function j(i){if(i){var t=i._owner,d=S(i.type,i._source,t?t.type:null);ue.setExtraStackFrame(d)}else ue.setExtraStackFrame(null)}function Xe(i,t,d,o,m){{var l=Function.call.bind(F);for(var s in i)if(l(i,s)){var r=void 0;try{if(typeof i[s]!=\"function\"){var b=Error((o||\"React class\")+\": \"+d+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof i[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw b.name=\"Invariant Violation\",b}r=i[s](t,s,o,d,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(f){r=f}r&&!(r instanceof Error)&&(j(m),c(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",d,s,typeof r),j(null)),r instanceof Error&&!(r.message in fe)&&(fe[r.message]=!0,j(m),c(\"Failed %s type: %s\",d,r.message),j(null))}}}var Ke=Array.isArray;function Y(i){return Ke(i)}function ze(i){{var t=typeof Symbol==\"function\"&&Symbol.toStringTag,d=t&&i[Symbol.toStringTag]||i.constructor.name||\"Object\";return d}}function Ge(i){try{return ce(i),!1}catch{return!0}}function ce(i){return\"\"+i}function be(i){if(Ge(i))return c(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",ze(i)),ce(i)}var B=E.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},he,pe,V;V={};function Je(i){if(F.call(i,\"ref\")){var t=Object.getOwnPropertyDescriptor(i,\"ref\").get;if(t&&t.isReactWarning)return!1}return i.ref!==void 0}function Qe(i){if(F.call(i,\"key\")){var t=Object.getOwnPropertyDescriptor(i,\"key\").get;if(t&&t.isReactWarning)return!1}return i.key!==void 0}function Ze(i,t){if(typeof i.ref==\"string\"&&B.current&&t&&B.current.stateNode!==t){var d=N(B.current.type);V[d]||(c('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N(B.current.type),i.ref),V[d]=!0)}}function en(i,t){{var d=function(){he||(he=!0,c(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};d.isReactWarning=!0,Object.defineProperty(i,\"key\",{get:d,configurable:!0})}}function nn(i,t){{var d=function(){pe||(pe=!0,c(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};d.isReactWarning=!0,Object.defineProperty(i,\"ref\",{get:d,configurable:!0})}}var tn=function(i,t,d,o,m,l,s){var r={$$typeof:e,type:i,key:t,ref:d,props:s,_owner:l};return r._store={},Object.defineProperty(r._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(r,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(r,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:m}),Object.freeze&&(Object.freeze(r.props),Object.freeze(r)),r};function dn(i,t,d,o,m){{var l,s={},r=null,b=null;d!==void 0&&(be(d),r=\"\"+d),Qe(t)&&(be(t.key),r=\"\"+t.key),Je(t)&&(b=t.ref,Ze(t,m));for(l in t)F.call(t,l)&&!He.hasOwnProperty(l)&&(s[l]=t[l]);if(i&&i.defaultProps){var f=i.defaultProps;for(l in f)s[l]===void 0&&(s[l]=f[l])}if(r||b){var u=typeof i==\"function\"?i.displayName||i.name||\"Unknown\":i;r&&en(s,u),b&&nn(s,u)}return tn(i,r,b,m,o,B.current,s)}}var $=E.ReactCurrentOwner,_e=E.ReactDebugCurrentFrame;function D(i){if(i){var t=i._owner,d=S(i.type,i._source,t?t.type:null);_e.setExtraStackFrame(d)}else _e.setExtraStackFrame(null)}var L;L=!1;function X(i){return typeof i==\"object\"&&i!==null&&i.$$typeof===e}function Ne(){{if($.current){var i=N($.current.type);if(i)return`\n\nCheck the render method of \\``+i+\"`.\"}return\"\"}}function on(i){{if(i!==void 0){var t=i.fileName.replace(/^.*[\\\\\\/]/,\"\"),d=i.lineNumber;return`\n\nCheck your code at `+t+\":\"+d+\".\"}return\"\"}}var ve={};function rn(i){{var t=Ne();if(!t){var d=typeof i==\"string\"?i:i.displayName||i.name;d&&(t=`\n\nCheck the top-level render call using <`+d+\">.\")}return t}}function xe(i,t){{if(!i._store||i._store.validated||i.key!=null)return;i._store.validated=!0;var d=rn(t);if(ve[d])return;ve[d]=!0;var o=\"\";i&&i._owner&&i._owner!==$.current&&(o=\" It was passed a child from \"+N(i._owner.type)+\".\"),D(i),c('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',d,o),D(null)}}function ye(i,t){{if(typeof i!=\"object\")return;if(Y(i))for(var d=0;d<i.length;d++){var o=i[d];X(o)&&xe(o,t)}else if(X(i))i._store&&(i._store.validated=!0);else if(i){var m=Re(i);if(typeof m==\"function\"&&m!==i.entries)for(var l=m.call(i),s;!(s=l.next()).done;)X(s.value)&&xe(s.value,t)}}}function sn(i){{var t=i.type;if(t==null||typeof t==\"string\")return;var d;if(typeof t==\"function\")d=t.propTypes;else if(typeof t==\"object\"&&(t.$$typeof===w||t.$$typeof===C))d=t.propTypes;else return;if(d){var o=N(t);Xe(d,i.props,\"prop\",o,i)}else if(t.PropTypes!==void 0&&!L){L=!0;var m=N(t);c(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",m||\"Unknown\")}typeof t.getDefaultProps==\"function\"&&!t.getDefaultProps.isReactClassApproved&&c(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function mn(i){{for(var t=Object.keys(i.props),d=0;d<t.length;d++){var o=t[d];if(o!==\"children\"&&o!==\"key\"){D(i),c(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),D(null);break}}i.ref!==null&&(D(i),c(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),D(null))}}var ke={};function ln(i,t,d,o,m,l){{var s=qe(i);if(!s){var r=\"\";(i===void 0||typeof i==\"object\"&&i!==null&&Object.keys(i).length===0)&&(r+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var b=on(m);b?r+=b:r+=Ne();var f;i===null?f=\"null\":Y(i)?f=\"array\":i!==void 0&&i.$$typeof===e?(f=\"<\"+(N(i.type)||\"Unknown\")+\" />\",r=\" Did you accidentally export a JSX literal instead of a component?\"):f=typeof i,c(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",f,r)}var u=dn(i,t,d,m,l);if(u==null)return u;if(s){var p=t.children;if(p!==void 0)if(o)if(Y(p)){for(var U=0;U<p.length;U++)ye(p[U],i);Object.freeze&&Object.freeze(p)}else c(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(p,i)}if(F.call(t,\"key\")){var k=N(i),h=Object.keys(t).filter(function(un){return un!==\"key\"}),K=h.length>0?\"{key: someKey, \"+h.join(\": ..., \")+\": ...}\":\"{key: someKey}\";if(!ke[k+K]){var fn=h.length>0?\"{\"+h.join(\": ..., \")+\": ...}\":\"{}\";c(`A props object containing a \"key\" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />`,K,k,fn,k),ke[k+K]=!0}}return i===x?mn(u):sn(u),u}}var an=ln;G.Fragment=x,G.jsxDEV=an})()});var Be=z((Bn,Fe)=>{\"use strict\";Fe.exports=ge()});var Dn={};Nn(Dn,{default:()=>En,frontmatter:()=>yn});var n=vn(Be()),yn={title:\"\\u5FAE\\u4FE1\\u5C0F\\u7A0B\\u5E8F\\u767B\\u5F55\\u6D41\\u7A0B\",subtitle:null,layout:\"post\",date:new Date(17337024e5),author:\"heavenmei\",categories:[\"Post\"],description:null,tags:[\"Front\"],image:null};function we(a){let e=Object.assign({p:\"p\",ul:\"ul\",li:\"li\",h2:\"h2\",a:\"a\",span:\"span\",img:\"img\",code:\"code\",strong:\"strong\",ol:\"ol\",blockquote:\"blockquote\",em:\"em\",div:\"div\",figure:\"figure\",pre:\"pre\"},a.components);return(0,n.jsxDEV)(n.Fragment,{children:[(0,n.jsxDEV)(e.p,{children:\"\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u7528\\u6237\\u7CFB\\u7EDF\\u9700\\u8981\\u5173\\u6CE8\\u81F3\\u5C11\\u8FD9\\u4E9B\\u5C42\\u9762\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.ul,{children:[`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u5B89\\u5168\\u6027(\\u52A0\\u5BC6)\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u6301\\u4E45\\u5316\\u767B\\u5F55\\u6001(\\u7C7B\\u4F3Ccookie)\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u767B\\u5F55\\u8FC7\\u671F\\u5904\\u7406\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u786E\\u4FDD\\u7528\\u6237\\u552F\\u4E00\\u6027, \\u907F\\u514D\\u51FA\\u73B0\\u591A\\u8D26\\u53F7\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u6388\\u6743\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u7ED1\\u5B9A\\u7528\\u6237\\u6635\\u79F0\\u5934\\u50CF\\u7B49\\u4FE1\\u606F\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u7ED1\\u5B9A\\u624B\\u673A\\u53F7(\\u5B9E\\u540D\\u548C\\u5BC6\\u4FDD\\u65B9\\u5F0F)\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:23,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h2,{id:\"\\u767B\\u5F55\\u6D41\\u7A0B\",children:[(0,n.jsxDEV)(e.a,{className:\"header-anchor\",href:\"#\\u767B\\u5F55\\u6D41\\u7A0B\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),\"\\u767B\\u5F55\\u6D41\\u7A0B\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.ul,{children:[`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u901A\\u8FC7wx.login()\\u83B7\\u53D6code\\u3002\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u5C06\\u8FD9\\u4E2Acode\\u53D1\\u9001\\u7ED9\\u540E\\u7AEF\\uFF0C\\u540E\\u7AEF\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2Atoken\\uFF0C\\u8FD9\\u4E2Atoken\\u5C06\\u4F5C\\u4E3A\\u4F60\\u8EAB\\u4EFD\\u7684\\u552F\\u4E00\\u6807\\u8BC6\\u3002\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u5C06token\\u901A\\u8FC7wx.setStorageSync()\\u4FDD\\u5B58\\u5728\\u672C\\u5730\\u5B58\\u50A8\\u3002\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u7528\\u6237\\u4E0B\\u6B21\\u8FDB\\u5165\\u2EDA\\u9762\\u65F6\\uFF0C\\u4F1A\\u5148\\u901A\\u8FC7wx.getStorageSync() \\u65B9\\u6CD5\\u5224\\u65ADtoken\\u662F\\u5426\\u6709\\u503C\\uFF0C\\u5982\\u679C\\u6709\\u503C\\uFF0C\\u5219\\u53EF\\u4EE5\\u8BF7\\u6C42\\u5176\\u5B83\\u6570\\u636E\\uFF0C\\u5982\\u679C\\u6CA1\\u6709\\u503C\\uFF0C\\u5219\\u8FDB\\u884C\\u767B\\u5F55\\u64CD\\u4F5C\\u3002\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:30,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:(0,n.jsxDEV)(e.img,{src:\"/post/assets/2024-12-09-wechat-login-20241209112239.png\",alt:\"\",width:\"710\",height:\"720\",blurDataURL:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAACVBMVEX9/f3u7u719fUfBACYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJ0lEQVR4nEWLCQoAAAjCNv//6KiIBEU8UJTI0DCInmm9GH+wldl7AQXxACrWGpnRAAAAAElFTkSuQmCC\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:33,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.ul,{children:[`\n`,(0,n.jsxDEV)(e.li,{children:[(0,n.jsxDEV)(e.code,{children:\"appId\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:3},this),\"\\xA0\\u5C0F\\u7A0B\\u5E8F\\u552F\\u4E00\\u6807\\u8BC6\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[(0,n.jsxDEV)(e.code,{children:\"appSecret\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:36,columnNumber:3},this),\"\\xA0\\u5C0F\\u7A0B\\u5E8F\\u7684 app secret, \\u53EF\\u4EE5\\u548C code, appId \\u4E00\\u8D77\\u6362\\u53D6 session_key\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:36,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:(0,n.jsxDEV)(e.strong,{children:\"\\u6CE8\\u610F\\u26A0\\uFE0F\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:40,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.ol,{children:[`\n`,(0,n.jsxDEV)(e.li,{children:[\"\\u4F1A\\u8BDD\\u5BC6\\u94A5\\xA0\",(0,n.jsxDEV)(e.code,{children:\"session_key\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:41,columnNumber:9},this),\"\\xA0\\u662F\\u5BF9\\u7528\\u6237\\u6570\\u636E\\u8FDB\\u884C\\xA0\",(0,n.jsxDEV)(e.a,{href:\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/signature.html\",children:\"\\u52A0\\u5BC6\\u7B7E\\u540D\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:41,columnNumber:32},this),\"\\xA0\\u7684\\u5BC6\\u94A5\\u3002\\u4E3A\\u4E86\\u5E94\\u7528\\u81EA\\u8EAB\\u7684\\u6570\\u636E\\u5B89\\u5168\\uFF0C\\u5F00\\u53D1\\u8005\\u670D\\u52A1\\u5668\",(0,n.jsxDEV)(e.strong,{children:\"\\u4E0D\\u5E94\\u8BE5\\u628A\\u4F1A\\u8BDD\\u5BC6\\u94A5\\u4E0B\\u53D1\\u5230\\u5C0F\\u7A0B\\u5E8F\\uFF0C\\u4E5F\\u4E0D\\u5E94\\u8BE5\\u5BF9\\u5916\\u63D0\\u4F9B\\u8FD9\\u4E2A\\u5BC6\\u94A5\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:41,columnNumber:149},this),\"\\u3002\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:\"\\u4E34\\u65F6\\u767B\\u5F55\\u51ED\\u8BC1 code \\u53EA\\u80FD\\u4F7F\\u7528\\u4E00\\u6B21\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:42,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h2,{id:\"oauth\",children:[(0,n.jsxDEV)(e.a,{className:\"header-anchor\",href:\"#oauth\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),\"OAuth\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.blockquote,{children:[`\n`,(0,n.jsxDEV)(e.p,{children:\"\\u5728\\u5FAE\\u4FE1\\u5C0F\\u7A0B\\u5E8F\\u4E2D\\uFF0Coauth \\u6388\\u6743\\u767B\\u5F55\\u4E3B\\u8981\\u662F code \\u6362\\u53D6 openId \\u548C sessionKey \\u7684\\u8FC7\\u7A0B\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:46,columnNumber:4},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:`OAuth\\u5728\"\\u5BA2\\u6237\\u7AEF\"\\u4E0E\"\\u670D\\u52A1\\u63D0\\u4F9B\\u5546\"\\u4E4B\\u95F4\\uFF0C\\u8BBE\\u7F6E\\u4E86\\u4E00\\u4E2A\\u6388\\u6743\\u5C42\\uFF08authorization layer\\uFF09\\u3002\"\\u5BA2\\u6237\\u7AEF\"\\u4E0D\\u80FD\\u76F4\\u63A5\\u767B\\u5F55\"\\u670D\\u52A1\\u63D0\\u4F9B\\u5546\"\\uFF0C\\u53EA\\u80FD\\u767B\\u5F55\\u6388\\u6743\\u5C42\\uFF0C\\u4EE5\\u6B64\\u5C06\\u7528\\u6237\\u4E0E\\u5BA2\\u6237\\u7AEF\\u533A\\u5206\\u5F00\\u6765\\u3002\"\\u5BA2\\u6237\\u7AEF\"\\u767B\\u5F55\\u6388\\u6743\\u5C42\\u6240\\u7528\\u7684\\u4EE4\\u724C\\uFF08token\\uFF09\\uFF0C\\u4E0E\\u7528\\u6237\\u7684\\u5BC6\\u7801\\u4E0D\\u540C\\u3002\\u7528\\u6237\\u53EF\\u4EE5\\u5728\\u767B\\u5F55\\u7684\\u65F6\\u5019\\uFF0C\\u6307\\u5B9A\\u6388\\u6743\\u5C42\\u4EE4\\u724C\\u7684\\u6743\\u9650\\u8303\\u56F4\\u548C\\u6709\\u6548\\u671F\\u3002\n\"\\u5BA2\\u6237\\u7AEF\"\\u767B\\u5F55\\u6388\\u6743\\u5C42\\u4EE5\\u540E\\uFF0C\"\\u670D\\u52A1\\u63D0\\u4F9B\\u5546\"\\u6839\\u636E\\u4EE4\\u724C\\u7684\\u6743\\u9650\\u8303\\u56F4\\u548C\\u6709\\u6548\\u671F\\uFF0C\\u5411\"\\u5BA2\\u6237\\u7AEF\"\\u5F00\\u653E\\u7528\\u6237\\u50A8\\u5B58\\u7684\\u8D44\\u6599\\u3002`},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:48,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"\\u5728\\u8FD9\\u91CC\\uFF0C\\u6211\\u4EEC\\u670D\\u52A1\\u7AEF\\u91C7\\u7528\",(0,n.jsxDEV)(e.a,{href:\"https://lucia-auth.com/\",children:\"Lucia\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:12},this),\"\\u5B9E\\u73B0, Lucia \\u662F\\u670D\\u52A1\\u5668\\u7684\\u4E00\\u4E2A\\u5F00\\u6E90\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\u5E93\\uFF0C\\u5B83\\u6D88\\u9664\\u4E86\\u5904\\u7406\\u4F1A\\u8BDD\\u7684\\u590D\\u6742\\u6027\\u3002\\u5B83\\u4E0E\\u60A8\\u7684\\u6570\\u636E\\u5E93\\u4E00\\u8D77\\u5DE5\\u4F5C\\uFF0C\\u63D0\\u4F9B\\u6613\\u4E8E\\u4F7F\\u7528\\u3001\\u7406\\u89E3\\u548C\\u6269\\u5C55\\u7684 API\\u3002\",(0,n.jsxDEV)(e.em,{children:\"\\u4F46\\u662F\\u81EA2025\\u5E743\\u6708\\u5F00\\u59CB\\u4E0D\\u518D\\u7EF4\\u62A4\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:112},this),\"\\u3002\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"\\u9996\\u5148\\u5728\\u8FC1\\u524D\\u7AEF\\u5C0F\\u7A0B\\u5E8F\\u4E2D\\uFF0C\",(0,n.jsxDEV)(e.code,{children:\"wx.login()\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:56,columnNumber:12},this),\"\\u83B7\\u53D6\\u4E34\\u65F6code\\uFF0C\\u7136\\u540E\\u4F20\\u56DE\\u7ED9\\u5F00\\u53D1\\u670D\\u52A1\\u5668\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.blockquote,{children:[`\n`,(0,n.jsxDEV)(e.p,{children:[\"2021\\u5E744\\u6708\\u8D77\\u5C0F\\u7A0B\\u5E8F\\u4E0D\\u518D\\u652F\\u6301\",(0,n.jsxDEV)(e.code,{children:\"wx.getUserInfo\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:58,columnNumber:17},this),\"\\u83B7\\u53D6\\uFF0C\\u9700\\u8981\\u7528\",(0,n.jsxDEV)(e.code,{children:\"wx.getUserProfile\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:58,columnNumber:39},this),`\\u66FF\\u6362\\u3002\\u800C\\u4E14\\u5FC5\\u987B\\u662F\\u7528\\u6237\\u70B9\\u51FB\\u540E\\u8C03\\u7528\\uFF0C\\u4E0D\\u7136\\u4F1A\\u62A5\\u9519\\uFF08\\u89C4\\u77E9\\u771F\\u591A\\u{1F4A2}\\uFF09\n`,(0,n.jsxDEV)(e.code,{children:'Error: MiniProgramError {\"errMsg\":\"getUserProfile:fail can only be invoked by user TAP gesture.\"}'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:59,columnNumber:2},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:58,columnNumber:2},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.div,{className:\"remark-code-container\",children:(0,n.jsxDEV)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsxDEV)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`export const loginProfile = async (app) => {\n  // promisify\\u662F\\u5C01\\u88C5\\u7684wx \\u5F02\\u6B65\\u51FD\\u6570\n  const res = await promisify(wx.getUserProfile)({\n    desc: \"\\u7528\\u4E8E\\u5B8C\\u5584\\u4F1A\\u5458\\u8D44\\u6599\",\n  });\n  const { code } = await promisify(wx.login)();\n\n  // login\\u662F\\u4F20\\u56DE\\u81EA\\u5DF1\\u670D\\u52A1\\u7684login\\u63A5\\u53E3\\uFF0C\\u8FD4\\u56DE\\u81EA\\u5B9A\\u4E49\\u767B\\u5F55\\u6001data\n  const { data } = await login({\n    code,\n    ...res.userInfo,\n  });\n  // \\u7F13\\u5B58\\u767B\\u5F55\\u6001\n  wx.setStorageSync(\"userInfo\", data);\n\n  const userId = data.id;\n  startDuration(app, userId);\n  return data;\n};\n`,children:(0,n.jsxDEV)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"export\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:117},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:158},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" loginProfile\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:199},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" =\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:247},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" async\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:284},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:325},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"app\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:362},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:400},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:437},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:474},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:98},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#6A737D\"},children:\"  // promisify\\u662F\\u5C01\\u88C5\\u7684wx \\u5F02\\u6B65\\u51FD\\u6570\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" res\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" =\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:101},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" await\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:138},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" promisify\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:179},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(wx.getUserProfile)({\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:224},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    desc: \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7528\\u4E8E\\u5B8C\\u5584\\u4F1A\\u5458\\u8D44\\u6599\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:65},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:110},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"code\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:100},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:139},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:177},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" await\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:213},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" promisify\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:254},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(wx.login)();\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:299},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#6A737D\"},children:\"  // login\\u662F\\u4F20\\u56DE\\u81EA\\u5DF1\\u670D\\u52A1\\u7684login\\u63A5\\u53E3\\uFF0C\\u8FD4\\u56DE\\u81EA\\u5B9A\\u4E49\\u767B\\u5F55\\u6001data\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:100},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:139},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:177},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" await\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:213},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" login\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:254},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:295},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    code,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"    ...\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"res.userInfo,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:62},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u7F13\\u5B58\\u767B\\u5F55\\u6001\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  wx.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"setStorageSync\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:60},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:109},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"userInfo\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:145},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:190},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" userId\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" =\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:104},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" data.id;\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:141},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"  startDuration\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(app, userId);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:70},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" data;\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:63},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:92},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:62,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"\\u5728\\u670D\\u52A1\\u5668\\u4E2D\\u5B9E\\u73B0\",(0,n.jsxDEV)(e.code,{children:\"/login\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:85,columnNumber:8},this),\"\\u63A5\\u53E3\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.div,{className:\"remark-code-container\",children:(0,n.jsxDEV)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsxDEV)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`\n// POST\nexport async function login(c: Context) {\n  const body = await c.req.json();\n  const { code } = UserParamsSchema.parse(body);\n\n  const { data } = await axios.get(\n    \"https://api.weixin.qq.com/sns/jscode2session\",\n    {\n      params: {\n        appid: serverEnvs.WX_APPID,\n        secret: serverEnvs.WX_SECRET,\n        js_code: code,\n        grant_type: \"authorization_code\",\n      },\n    }\n  );\n  logger.info(\"user\", data);\n\n  let curUser = null;\n  try {\n    const existingUser = await db\n      .select()\n      .from(users)\n      .where(eq(users.id, data.openid))\n      .limit(1);\n\n    if (existingUser.length === 0) {\n      curUser = {\n        id: data.openid,\n        session_key: data.session_key,\n        name: nickName,\n        avatar: avatarUrl,\n      };\n      await db.insert(users).values(curUser);\n    } else {\n      curUser = existingUser[0];\n    }\n  } catch (e: any) {\n    return c.json(\n      failRes({\n        message: e.detail,\n      })\n    );\n  }\n\n  const session = await lucia.createSession(data.openid, {});\n  const sessionCookie = lucia.createSessionCookie(session.id);\n\n  setCookie(c, lucia.sessionCookieName, sessionCookie.value);\n\n  return c.json(successRes({ ...curUser }));\n}\n`,children:(0,n.jsxDEV)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:98},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#6A737D\"},children:\"// POST\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"export\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" async\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:61},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" function\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:102},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" login\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:146},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:187},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"c\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:223},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\":\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:259},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" Context\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:295},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:338},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" body\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" =\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:102},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" await\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:139},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" c.req.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:180},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"json\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:222},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:261},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"code\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:100},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:139},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:177},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" UserParamsSchema.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:213},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:266},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(body);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:306},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:100},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:139},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:177},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" await\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:213},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:254},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"get\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:296},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:334},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'    \"https://api.weixin.qq.com/sns/jscode2session\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:105},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      params: {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        appid: serverEnvs.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"WX_APPID\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:81},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:124},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        secret: serverEnvs.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"WX_SECRET\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:82},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:126},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        js_code: code,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        grant_type: \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"authorization_code\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:75},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:130},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  logger.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"info\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:64},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:103},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"user\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:139},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:180},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  let\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" curUser \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:60},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:104},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:140},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:180},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  try\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:21,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:21,columnNumber:60},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"    const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" existingUser\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:64},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" =\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:112},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" await\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:149},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" db\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:190},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:23,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"select\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:23,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:23,columnNumber:103},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:24,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"from\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:24,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(users)\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:24,columnNumber:101},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:25,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"where\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:25,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:25,columnNumber:102},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"eq\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:25,columnNumber:138},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(users.id, data.openid))\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:25,columnNumber:175},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"limit\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:102},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:138},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:174},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"    if\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" (existingUser.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:61},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:111},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" ===\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:152},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:191},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:228},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      curUser \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:29,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:29,columnNumber:69},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:29,columnNumber:105},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        id: data.openid,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:30,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        session_key: data.session_key,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:31,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        name: nickName,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:32,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        avatar: avatarUrl,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:33,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:34,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:34,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"      await\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:66},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"insert\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:105},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(users).\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:146},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"values\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:189},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(curUser);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:230},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:36,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"else\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:36,columnNumber:61},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:36,columnNumber:100},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      curUser \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:37,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:37,columnNumber:69},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" existingUser[\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:37,columnNumber:105},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:37,columnNumber:154},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:37,columnNumber:190},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:38,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:38,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:39,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"catch\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:39,columnNumber:59},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:39,columnNumber:99},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:39,columnNumber:136},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\":\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:39,columnNumber:172},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" any\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:39,columnNumber:208},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:39,columnNumber:247},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"    return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:40,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" c.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:40,columnNumber:65},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"json\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:40,columnNumber:103},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:40,columnNumber:142},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"      failRes\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:41,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:41,columnNumber:68},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        message: e.detail,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:42,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:42,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      })\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:43,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:44,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:44,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:45,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:47,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" session\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:47,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" =\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:47,columnNumber:105},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" await\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:47,columnNumber:142},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" lucia.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:47,columnNumber:183},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"createSession\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:47,columnNumber:225},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data.openid, {});\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:47,columnNumber:273},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  const\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:48,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\" sessionCookie\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:48,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\" =\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:48,columnNumber:111},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" lucia.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:48,columnNumber:148},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"createSessionCookie\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:48,columnNumber:190},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(session.id);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:48,columnNumber:244},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:48,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"  setCookie\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:50,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(c, lucia.sessionCookieName, sessionCookie.value);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:50,columnNumber:66},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:50,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" c.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:63},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"json\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:101},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:140},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"successRes\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:176},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:221},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"...\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:259},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"curUser }));\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:297},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:53,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:53,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:92},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:86,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),`\n`,(0,n.jsxDEV)(e.h2,{id:\"openid-unionid--code-session_key\",children:[(0,n.jsxDEV)(e.a,{className:\"header-anchor\",href:\"#openid-unionid--code-session_key\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),\"openid, unionid , code, session_key\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:143,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[(0,n.jsxDEV)(e.strong,{children:\"openid\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:145,columnNumber:1},this),`\nopenid\\u662F\\u7528\\u6765\\u552F\\u4E00\\u6807\\u8BC6\\u7528\\u6237\\u7684\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\\u3002\\u5728\\u5FAE\\u4FE1\\u5C0F\\u7A0B\\u5E8F\\u4E2D\\uFF0C\\u6BCF\\u4E2A\\u7528\\u6237\\u7684openid\\u90FD\\u662F\\u552F\\u4E00\\u7684\\u3002\\u901A\\u8FC7openid\\uFF0C\\u5C0F\\u7A0B\\u5E8F\\u53EF\\u4EE5\\u83B7\\u53D6\\u7528\\u6237\\u7684\\u57FA\\u672C\\u4FE1\\u606F\\uFF0C\\u5982\\u5934\\u50CF\\u3001\\u6635\\u79F0\\u7B49\\u3002`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:145,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.blockquote,{children:[`\n`,(0,n.jsxDEV)(e.p,{children:\"\\u6CE8\\u610F\\uFF1A\\xA0\\u540C\\u4E00\\u4E2A\\u7528\\u6237\\u5728\\u4E0D\\u540C\\u7684\\u5C0F\\u7A0B\\u5E8F\\u4E2D\\u62E5\\u6709\\u4E0D\\u540C\\u7684openid\\u3002\\u56E0\\u6B64\\uFF0C\\u5728\\u5F00\\u53D1\\u5C0F\\u7A0B\\u5E8F\\u65F6\\uFF0C\\u4E0D\\u80FD\\u4F7F\\u7528openid\\u6765\\u8FDB\\u884C\\u7528\\u6237\\u7684\\u552F\\u4E00\\u6027\\u5224\\u65AD\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:148,columnNumber:4},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:148,columnNumber:2},this),`\n`,(0,n.jsxDEV)(e.p,{children:[(0,n.jsxDEV)(e.strong,{children:\"unionid\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:151,columnNumber:1},this),`\nunionid\\u662F\\u5728\\u7528\\u6237\\u7ED1\\u5B9A\\u540C\\u4E00\\u5FAE\\u4FE1\\u5F00\\u653E\\u5E73\\u53F0\\u8D26\\u53F7\\u4E0B\\u7684\\u591A\\u4E2A\\u5E94\\u7528\\u65F6\\uFF0C\\u7528\\u6765\\u552F\\u4E00\\u6807\\u8BC6\\u7528\\u6237\\u7684\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\\u3002\\u5982\\u679C\\u7528\\u6237\\u5728\\u591A\\u4E2A\\u5C0F\\u7A0B\\u5E8F\\u4E2D\\u4F7F\\u7528\\u540C\\u4E00\\u4E2A\\u5FAE\\u4FE1\\u53F7\\u8FDB\\u884C\\u767B\\u5F55\\u6388\\u6743\\uFF0C\\u90A3\\u4E48\\u8FD9\\u4E9B\\u5C0F\\u7A0B\\u5E8F\\u4E2D\\u7684unionid\\u90FD\\u662F\\u76F8\\u540C\\u7684\\u3002`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:151,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.blockquote,{children:[`\n`,(0,n.jsxDEV)(e.p,{children:\"\\u6CE8\\u610F\\uFF1A\\xA0\\u7528\\u6237\\u7684unionid\\u53EA\\u6709\\u5728\\u7528\\u6237\\u5C06\\u591A\\u4E2A\\u5E94\\u7528\\u7ED1\\u5B9A\\u5230\\u540C\\u4E00\\u4E2A\\u5FAE\\u4FE1\\u5F00\\u653E\\u5E73\\u53F0\\u8D26\\u53F7\\u4E0B\\u65F6\\u624D\\u4F1A\\u751F\\u6210\\u3002\\u56E0\\u6B64\\uFF0C\\u5982\\u679C\\u7528\\u6237\\u6CA1\\u6709\\u7ED1\\u5B9A\\u591A\\u4E2A\\u5E94\\u7528\\uFF0C\\u90A3\\u4E48\\u5C0F\\u7A0B\\u5E8F\\u5C06\\u65E0\\u6CD5\\u83B7\\u53D6\\u7528\\u6237\\u7684unionid\\u3002\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:154,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:154,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[(0,n.jsxDEV)(e.strong,{children:\"code\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:157,columnNumber:1},this),`\ncode\\u662F\\u7528\\u6237\\u767B\\u5F55\\u51ED\\u8BC1\\uFF0C\\u7531\\u5FAE\\u4FE1\\u670D\\u52A1\\u5668\\u9881\\u53D1\\u7ED9\\u5C0F\\u7A0B\\u5E8F\\u3002\\u5728\\u7528\\u6237\\u6388\\u6743\\u767B\\u5F55\\u540E\\uFF0C\\u5C0F\\u7A0B\\u5E8F\\u53EF\\u4EE5\\u901A\\u8FC7\\u8C03\\u7528\\u5FAE\\u4FE1\\u767B\\u5F55\\u63A5\\u53E3\\u83B7\\u53D6\\u7528\\u6237\\u7684code\\u3002\\u7136\\u540E\\uFF0C\\u901A\\u8FC7code\\u5411\\u5FAE\\u4FE1\\u670D\\u52A1\\u5668\\u8BF7\\u6C42\\u7528\\u6237\\u7684openid\\u548Csession_key\\u7B49\\u4FE1\\u606F\\u3002`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:157,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.blockquote,{children:[`\n`,(0,n.jsxDEV)(e.p,{children:[(0,n.jsxDEV)(e.strong,{children:\"\\u6CE8\\u610F\\uFF1A\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:159,columnNumber:3},this),\"\\xA0\",(0,n.jsxDEV)(e.strong,{children:\"\\u6BCF\\u4E2Acode\\u53EA\\u80FD\\u4F7F\\u7528\\u4E00\\u6B21\\uFF0C\\u4E14\\u6709\\u6548\\u671F\\u4E3A5\\u5206\\u949F\\u3002\\u56E0\\u6B64\\uFF0C\\u5728\\u4F7F\\u7528code\\u8FDB\\u884C\\u767B\\u5F55\\u65F6\\uFF0C\\u9700\\u8981\\u53CA\\u65F6\\u5C06\\u5176\\u8F6C\\u6362\\u6210\\u7528\\u6237\\u7684openid\\u548Csession_key\\u7B49\\u4FE1\\u606F\\uFF0C\\u4EE5\\u514D\\u51FA\\u73B0code\\u8FC7\\u671F\\u7684\\u60C5\\u51B5\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:159,columnNumber:11},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:159,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:159,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[(0,n.jsxDEV)(e.strong,{children:\"session_key\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:162,columnNumber:1},this),`\n\\u4F1A\\u8BDD\\u5BC6\\u94A5, \\u670D\\u52A1\\u7AEF\\u901A\\u8FC7\\xA0`,(0,n.jsxDEV)(e.a,{href:\"https://developers.weixin.qq.com/miniprogram/dev/api/open-api/login/code2Session.html\",children:\"code2Session\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:163,columnNumber:13},this),`\\xA0\\u83B7\\u53D6\nsession_key\\u6709\\u70B9\\u7C7B\\u4F3C\\u4E8E\\u6211\\u4EEC\\u5728\\u6570\\u636E\\u5E93\\u4E2D\\u4FDD\\u5B58\\u7528\\u6237\\u5BC6\\u7801\\u65F6\\u6240\\u4F7F\\u7528\\u7684\\u201C\\u76D0\\uFF08salt\\uFF09\\u201D\\u3002\\u5728\\u6570\\u636E\\u5E93\\u4FDD\\u5B58\\u7528\\u6237\\u5BC6\\u7801\\u65F6\\uFF0C\\u5E76\\u4E0D\\u662F\\u76F4\\u63A5\\u5C06\\u7528\\u6237\\u7684\\u5BC6\\u7801\\u4EE5\\u660E\\u6587\\u7684\\u65B9\\u5F0F\\u5B58\\u653E\\u5728\\u6570\\u636E\\u5E93\\u8868\\u4E2D\\uFF0C\\u901A\\u5E38\\u90FD\\u4F1A\\u4F7F\\u7528SHA-1\\u6216\\u8005MD5\\u7B97\\u6CD5\\u5C06\\u7528\\u6237\\u5BC6\\u7801\\u548Csalt\\u968F\\u673A\\u5B57\\u7B26\\u4E32\\u62FC\\u63A5\\u5728\\u4E00\\u8D77\\uFF0C\\u91CD\\u65B0\\u8BA1\\u7B97\\u4E00\\u4E0B\\u518D\\u5B58\\u5165\\u6570\\u636E\\u5E93\\u4E2D\\u3002\\u88AB\\u91CD\\u65B0\\u4F7F\\u7528SHA-1\\u6216MD5\\u7B97\\u6CD5\\u8BA1\\u7B97\\u7684\\u7528\\u6237\\u5BC6\\u7801\\u8C01\\u90FD\\u4E0D\\u77E5\\u9053\\u662F\\u4EC0\\u4E48\\uFF0C\\u5F00\\u53D1\\u8005\\u4E5F\\u53EA\\u80FD\\u6BD4\\u5BF9\\u6BCF\\u6B21\\u767B\\u5F55\\u65F6\\u8F93\\u5165\\u7684\\u5BC6\\u7801\\u548C\\u6570\\u636E\\u5E93\\u4FDD\\u5B58\\u7684\\u5BC6\\u7801\\u662F\\u5426\\u4E00\\u81F4\\uFF0C\\u5224\\u65AD\\u662F\\u5426\\u4E3A\\u5408\\u6CD5\\u7528\\u6237\\uFF0C\\u5374\\u65E0\\u6CD5\\u77E5\\u9053\\u5BC6\\u7801\\u5230\\u5E95\\u662F\\u4EC0\\u4E48\\u3002`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:162,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.blockquote,{children:[`\n`,(0,n.jsxDEV)(e.p,{children:\"\\u56E0\\u4E3Asession_key \\u5B58\\u5728\\u65F6\\u6548\\u6027\\u95EE\\u9898\\uFF08\\u6BD5\\u7ADF\\u662F\\u7528\\u6765\\u67E5\\u770B\\u654F\\u611F\\u4FE1\\u606F\\uFF09\\uFF0C\\u800C\\u5C0F\\u7A0B\\u5E8F\\u524D\\u7AEF\\u53EF\\u4EE5\\u901A\\u8FC7wx.checkSession() \\u6765\\u68C0\\u67E5session_key \\u662F\\u5426\\u8FC7\\u671F\\u3002\\u6240\\u4EE5\\u53EF\\u4EE5\\u901A\\u8FC7\\u8FD9\\u4E2A\\u6765\\u4F5C\\u4E3A\\u4FDD\\u5B58\\u7528\\u6237\\u767B\\u5F55\\u6001\\u7684\\u673A\\u5236\\uFF0C\\u8FD9\\u4E5F\\u662F\\u5C0F\\u7A0B\\u5E8F\\u6587\\u6863\\u4E2D\\u63A8\\u8350\\u7684\\u65B9\\u6CD5\\uFF1A\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:166,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:166,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h2,{id:\"\\u81EA\\u5B9A\\u4E49\\u767B\\u5F55\\u6001\\u6301\\u4E45\\u5316\",children:[(0,n.jsxDEV)(e.a,{className:\"header-anchor\",href:\"#\\u81EA\\u5B9A\\u4E49\\u767B\\u5F55\\u6001\\u6301\\u4E45\\u5316\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),\"\\u81EA\\u5B9A\\u4E49\\u767B\\u5F55\\u6001\\u6301\\u4E45\\u5316\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:171,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"\\u6D4F\\u89C8\\u5668\\u6709 cookie, \\u7136\\u800C\\u5C0F\\u7A0B\\u5E8F\\u6CA1\\u6709 cookie, \\u56E0\\u6B64\\uFF0C\\u4F7F\\u7528\\u5C0F\\u7A0B\\u5E8F\\u81EA\\u5DF1\\u7684\",(0,n.jsxDEV)(e.strong,{children:\"\\u6301\\u4E45\\u5316\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:173,columnNumber:41},this),\"\\u63A5\\u53E3, \\u4E5F\\u5C31\\u662F setStorage \\u548C getStorage\\uFF0C\\u7ED9http response headers\",(0,n.jsxDEV)(e.strong,{children:\"\\u79CD\\u4E0A cookie\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:173,columnNumber:102},this),`\\u3002\n\\u8FD9\\u91CC\\u4F7F\\u7528`,(0,n.jsxDEV)(e.a,{href:\"https://github.com/chunpu/http\",children:\"@chunpu/http\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:174,columnNumber:5},this),\"\\xA0\\u5B9E\\u73B0\\uFF0C\\u8FD9\\u662F\\u4E00\\u4E2A\\u4E13\\u95E8\\u4E3A\\u5C0F\\u7A0B\\u5E8F\\u8BBE\\u8BA1\\u7684 http \\u8BF7\\u6C42\\u5E93, \\u53EF\\u4EE5\\u5728\\u5C0F\\u7A0B\\u5E8F\\u4E0A\\u50CF axios \\u4E00\\u6837\\u53D1\\u8BF7\\u6C42, \\u652F\\u6301\\u62E6\\u622A\\u5668\\u7B49\\u5F3A\\u5927\\u529F\\u80FD, \\u751A\\u81F3\\u6BD4 axios \\u66F4\\u987A\\u624B\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:173,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"\\u5728login\\u63A5\\u53E3\\xA0response \\u62E6\\u622A\\u5668\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:176,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.div,{className:\"remark-code-container\",children:(0,n.jsxDEV)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsxDEV)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`http.interceptors.response.use((response) => {\n  // \\u79CD cookie\n  var { headers } = response;\n  var cookies = headers[\"set-cookie\"] || \"\";\n\n  cookies = cookies.split(/, */).reduce((prev, item) => {\n    item = item.split(/; */)[0];\n    var obj = http.qs.parse(item);\n    return Object.assign(prev, obj);\n  }, {});\n  if (cookies) {\n    return promisify(wx.getStorage)({\n      key: \"cookie\",\n    })\n      .catch(() => {})\n      .then((res) => {\n        res = res || {};\n\n        var allCookies = res.data || {};\n        Object.assign(allCookies, cookies);\n        return promisify(wx.setStorage)({\n          key: \"cookie\",\n          data: allCookies,\n        });\n      })\n      .then(() => {\n        return response;\n      });\n  }\n  return response;\n});\n`,children:(0,n.jsxDEV)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"http.interceptors.response.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:117},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"use\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:179},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:217},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:254},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:297},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:334},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:371},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:98},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u79CD cookie\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  var\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" { headers } \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:60},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:108},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" response;\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:144},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  var\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" cookies \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:60},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:104},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" headers[\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:140},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"set-cookie\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:184},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:231},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"||\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:268},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:305},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:343},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cookies \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:65},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" cookies.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:101},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"split\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:145},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:185},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:221},this),(0,n.jsxDEV)(e.span,{style:{color:\"#DBEDFF\"},children:\", \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:257},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"*\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:294},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:330},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:366},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"reduce\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:403},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:444},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:481},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:520},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:557},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:596},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:633},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:670},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    item \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:64},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" item.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:100},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"split\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:141},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:181},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:217},this),(0,n.jsxDEV)(e.span,{style:{color:\"#DBEDFF\"},children:\"; \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:253},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"*\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:290},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:326},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\")[\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:362},this),(0,n.jsxDEV)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:399},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:435},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"    var\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" obj \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:102},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" http.qs.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:138},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:182},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(item);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:222},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"    return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" Object.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:65},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"assign\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:108},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(prev, obj);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:149},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, {});\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  if\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" (cookies) {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:59},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"    return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" promisify\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:65},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(wx.getStorage)({\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:110},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      key: \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"cookie\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:66},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:109},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:102},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:141},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {})\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:178},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"then\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:101},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:138},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:176},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:213},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:250},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        res \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:67},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" res \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:103},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"||\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:143},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {};\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:180},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"        var\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" allCookies \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:66},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:113},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.data \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:149},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"||\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:194},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {};\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:231},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        Object.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"assign\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:70},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(allCookies, cookies);\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:111},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"        return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:21,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" promisify\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:21,columnNumber:69},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(wx.setStorage)({\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:21,columnNumber:114},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"          key: \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"cookie\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:70},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:113},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"          data: allCookies,\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:23,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        });\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:24,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      })\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:25,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"then\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:62},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:101},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:140},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:177},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"        return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:27,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" response;\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:27,columnNumber:69},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      });\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:29,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:30,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" response;\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:30,columnNumber:63},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:31,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:31,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:92},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:178,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"\\u5F53\\u7136\\u6211\\u4EEC\\u8FD8\\u9700\\u8981\\u5728\\u53D1\\u8BF7\\u6C42\\u7684\\u65F6\\u5019\",(0,n.jsxDEV)(e.strong,{children:\"\\u5E26\\u4E0A\\u6240\\u6709 cookie\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:213,columnNumber:15},this),\", \\u6B64\\u5904\\u7528\\u7684\\u662F request \\u62E6\\u622A\\u5668\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:213,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.div,{className:\"remark-code-container\",children:(0,n.jsxDEV)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsxDEV)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`http.interceptors.request.use((config) => {\n  // \\u7ED9\\u8BF7\\u6C42\\u5E26\\u4E0A cookie\n  return promisify(wx.getStorage)({\n    key: \"cookie\",\n  })\n    .catch(() => {})\n    .then((res) => {\n      if (res && res.data) {\n        Object.assign(config.headers, {\n          Cookie: http.qs.stringify(res.data, \";\", \"=\"),\n        });\n      }\n      return config;\n    });\n});\n\n`,children:(0,n.jsxDEV)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"http.interceptors.request.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:117},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"use\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:178},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:216},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"config\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:253},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:294},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:331},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:368},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:98},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u7ED9\\u8BF7\\u6C42\\u5E26\\u4E0A cookie\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"  return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\" promisify\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:63},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(wx.getStorage)({\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:108},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    key: \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"cookie\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:64},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:107},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:4,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:5,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:60},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:100},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:139},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {})\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:176},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:6,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"then\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:60},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:99},this),(0,n.jsxDEV)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:136},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:174},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"=>\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:211},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:248},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"      if\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" (res \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:63},this),(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"&&\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:104},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.data) {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:151},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:8,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        Object.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"assign\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:70},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(config.headers, {\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:111},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:9,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"          Cookie: http.qs.\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:81},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"(res.data, \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:125},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\";\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:171},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:209},this),(0,n.jsxDEV)(e.span,{style:{color:\"#9ECBFF\"},children:'\"=\"'},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:246},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"),\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:284},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:10,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"        });\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:12,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:[(0,n.jsxDEV)(e.span,{style:{color:\"#F97583\"},children:\"      return\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:20},this),(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\" config;\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:67},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:(0,n.jsxDEV)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:20},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:16,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:92},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:214,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"\\u767B\\u5F55\\u6001 cookie \\u662F\\u6709\\u5931\\u6548\\u65F6\\u95F4\\u7684, \\u6BD4\\u5982\\u4E00\\u5929, \\u4E03\\u5929, \\u6216\\u8005\\u4E00\\u4E2A\\u6708\\u3002 \\u5C0F\\u7A0B\\u5E8F\\u5DF2\\u7ECF\\u5E2E\\u6211\\u4EEC\\u5B9E\\u73B0\\u597D\\u4E86 session \\u6709\\u6548\\u671F\\u7684\\u5224\\u65AD\\xA0\",(0,n.jsxDEV)(e.code,{children:\"wx.checkSession\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:234,columnNumber:66},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:234,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.blockquote,{children:[`\n`,(0,n.jsxDEV)(e.p,{children:\"\\u901A\\u8FC7 wx.login \\u63A5\\u53E3\\u83B7\\u5F97\\u7684\\u7528\\u6237\\u767B\\u5F55\\u6001\\u62E5\\u6709\\u4E00\\u5B9A\\u7684\\u65F6\\u6548\\u6027\\u3002\\u7528\\u6237\\u8D8A\\u4E45\\u672A\\u4F7F\\u7528\\u5C0F\\u7A0B\\u5E8F\\uFF0C\\u7528\\u6237\\u767B\\u5F55\\u6001\\u8D8A\\u6709\\u53EF\\u80FD\\u5931\\u6548\\u3002\\u53CD\\u4E4B\\u5982\\u679C\\u7528\\u6237\\u4E00\\u76F4\\u5728\\u4F7F\\u7528\\u5C0F\\u7A0B\\u5E8F\\uFF0C\\u5219\\u7528\\u6237\\u767B\\u5F55\\u6001\\u4E00\\u76F4\\u4FDD\\u6301\\u6709\\u6548\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:235,columnNumber:2},this),`\n`]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:235,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:(0,n.jsxDEV)(e.code,{children:\"app.js\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:237,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:237,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.div,{className:\"remark-code-container\",children:(0,n.jsxDEV)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsxDEV)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",raw:`\n\n\n`,children:(0,n.jsxDEV)(e.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:98},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:2,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:3,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:92},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:239,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),`\n`,(0,n.jsxDEV)(e.h2,{id:\"reference\",children:[(0,n.jsxDEV)(e.a,{className:\"header-anchor\",href:\"#reference\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this),\"Reference\"]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:248,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:(0,n.jsxDEV)(e.a,{href:\"https://github.com/75team/w3c/blob/master/articles/20181001_chunpu_%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B-%E9%99%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BB%A3%E7%A0%81.md\",children:\"\\u5F7B\\u5E95\\u641E\\u61C2\\u5C0F\\u7A0B\\u5E8F\\u767B\\u5F55\\u6D41\\u7A0B-\\u9644\\u5C0F\\u7A0B\\u5E8F\\u548C\\u670D\\u52A1\\u7AEF\"},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:249,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:249,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\",lineNumber:1,columnNumber:1},this)}function kn(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsxDEV)(e,Object.assign({},a,{children:(0,n.jsxDEV)(we,a,void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this)}),void 0,!1,{fileName:\"/Users/heavenmei/Desktop/heavenmei.io/content/post/_mdx_bundler_entry_point-0eb5ab4f-1730-4147-8d1e-85c76f3f979d.mdx\"},this):we(a)}var En=kn;return xn(Dn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "post/2024-12-09-wx-miniprogram-login.md",
  "_raw": {
    "sourceFilePath": "post/2024-12-09-wx-miniprogram-login.md",
    "sourceFileName": "2024-12-09-wx-miniprogram-login.md",
    "sourceFileDir": "post",
    "contentType": "markdown",
    "flattenedPath": "post/2024-12-09-wx-miniprogram-login"
  },
  "type": "Post",
  "slug": "/post/2024-12-09-wx-miniprogram-login",
  "slugAsParams": "2024-12-09-wx-miniprogram-login"
}
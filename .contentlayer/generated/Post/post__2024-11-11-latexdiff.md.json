{
  "title": "latexdiff比较论文修改差异",
  "tags": [
    "skill"
  ],
  "author": "heavenmei",
  "description": "max下用latexdiff实现LaTeX批注修订",
  "date": "2024-11-11T00:00:00.000Z",
  "body": {
    "raw": "[latexdiff](https://github.com/ftilmann/latexdiff)是一个开源Perl脚本，用于比较两个latex文件并标记它们之间的显著差异。使用标准latex包(如color.sty)进行可视化标记，并可以使用各种选项。Perl脚本latexrevision提供了一个基本的修订工具，它接受或拒绝所有更改。手动编辑差异文件可用于覆盖此默认行为，并仅接受或拒绝所选更改。\n\n\n## Usage\n**安装**\n```bash\nbrew install latexdiff\n\n# M1\narch -arm64 brew install latexdiff\n\n# 验证\nlatexdiff\n```\n\n**使用**\n使用前需要先生成`.bbl`文件，我使用Texifier软件编译后可以直接去`.texpadtmp`文件中找到，移动到与tex文件同级即可\n\n```bash\nlatexdiff [OPTIONS] old.tex new.tex > diff.tex\n\nlatexdiff --flatten old.tex new.tex > diff.tex\n\nlatexdiff old.tex new.tex --type=UNDERLINE > diff.tex\n\n\n# 编译pdf\npdflatex -interaction=nonstopmode diff.tex\n```\n\n完整参数可以参考[官网文档](https://mirrors.concertpass.com/tex-archive/support/latexdiff/doc/latexdiff-man.pdf)\n\n- `--flatten`：如果latext分别在两个文件夹下，内容中有的`\\input`和`\\include`命令。在共同文件夹下执行latexdiff，并使用该参数平铺。*无法flatten图片*\n- `--type/-t`：此处的markupstyle叫做标注风格，默认值是UNDERLINE，意思是用蓝字加下划线标注添加，用红色加删除线标注删除。（可选值：CTRADITIONAL/TRADITIONAL/CFONT/BOLD）\n\n![](assets/2024-11-11-latexdiff-20241111085306.png)\n\n## 插件\nlatexdiff这个工具自带了两个其他的工具，分别是latexrevise和latexdiff-vc，无需额外安装。\n**latexrevise** 可以帮助我们将diff.tex中的标记全部删掉\n\n|参数|描述|参数使用|\n|---|---|---|\n|SIMPLIFY|仅保留添加删除两类标注|-s 或–simlify|\n|ACCEPT|仅保留添加标注内的内容|-a 或–accept|\n|DECLINE|仅保留删除标注的内容|-d 或 --decline|\n```bash\n# 接受所有修改\nlatexrevise -a diff.tex > accept.tex\n# 回滚所有修改，还原回未修改的版本\nlatexrevise -d diff.tex > decline.tex\n```\n\n\n\n\n## Reference\n[How to use latexdiff to compare changes in .bib files?](https://tex.stackexchange.com/questions/625608/how-to-use-latexdiff-to-compare-changes-in-bib-files)\n",
    "code": "var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),g=(l,e)=>{for(var a in e)r(l,a,{get:e[a],enumerable:!0})},i=(l,e,a,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of f(e))!y.call(l,t)&&t!==a&&r(l,t,{get:()=>e[t],enumerable:!(d=p(e,t))||d.enumerable});return l};var A=(l,e,a)=>(a=l!=null?h(x(l)):{},i(e||!l||!l.__esModule?r(a,\"default\",{value:l,enumerable:!0}):a,l)),m=l=>i(r({},\"__esModule\",{value:!0}),l);var s=F((w,c)=>{c.exports=_jsx_runtime});var B={};g(B,{default:()=>b,frontmatter:()=>u});var n=A(s()),u={title:\"latexdiff\\u6BD4\\u8F83\\u8BBA\\u6587\\u4FEE\\u6539\\u5DEE\\u5F02\",description:\"max\\u4E0B\\u7528latexdiff\\u5B9E\\u73B0LaTeX\\u6279\\u6CE8\\u4FEE\\u8BA2\",layout:\"post\",date:new Date(17312832e5),author:\"heavenmei\",categories:[\"Post\"],tags:[\"skill\"],teaser:null};function o(l){let e=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",strong:\"strong\",div:\"div\",figure:\"figure\",pre:\"pre\",code:\"code\",ul:\"ul\",li:\"li\",em:\"em\",img:\"img\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\"},l.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/ftilmann/latexdiff\",children:\"latexdiff\"}),\"\\u662F\\u4E00\\u4E2A\\u5F00\\u6E90Perl\\u811A\\u672C\\uFF0C\\u7528\\u4E8E\\u6BD4\\u8F83\\u4E24\\u4E2Alatex\\u6587\\u4EF6\\u5E76\\u6807\\u8BB0\\u5B83\\u4EEC\\u4E4B\\u95F4\\u7684\\u663E\\u8457\\u5DEE\\u5F02\\u3002\\u4F7F\\u7528\\u6807\\u51C6latex\\u5305(\\u5982color.sty)\\u8FDB\\u884C\\u53EF\\u89C6\\u5316\\u6807\\u8BB0\\uFF0C\\u5E76\\u53EF\\u4EE5\\u4F7F\\u7528\\u5404\\u79CD\\u9009\\u9879\\u3002Perl\\u811A\\u672Clatexrevision\\u63D0\\u4F9B\\u4E86\\u4E00\\u4E2A\\u57FA\\u672C\\u7684\\u4FEE\\u8BA2\\u5DE5\\u5177\\uFF0C\\u5B83\\u63A5\\u53D7\\u6216\\u62D2\\u7EDD\\u6240\\u6709\\u66F4\\u6539\\u3002\\u624B\\u52A8\\u7F16\\u8F91\\u5DEE\\u5F02\\u6587\\u4EF6\\u53EF\\u7528\\u4E8E\\u8986\\u76D6\\u6B64\\u9ED8\\u8BA4\\u884C\\u4E3A\\uFF0C\\u5E76\\u4EC5\\u63A5\\u53D7\\u6216\\u62D2\\u7EDD\\u6240\\u9009\\u66F4\\u6539\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"usage\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#usage\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Usage\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u5B89\\u88C5\"})}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",raw:`brew install latexdiff\n\n# M1\narch -arm64 brew install latexdiff\n\n# \\u9A8C\\u8BC1\nlatexdiff\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"brew\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" latexdiff\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# M1\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"arch\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -arm64\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" brew\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" latexdiff\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u9A8C\\u8BC1\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"latexdiff\"})})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F7F\\u7528\"}),`\n\\u4F7F\\u7528\\u524D\\u9700\\u8981\\u5148\\u751F\\u6210`,(0,n.jsx)(e.code,{children:\".bbl\"}),\"\\u6587\\u4EF6\\uFF0C\\u6211\\u4F7F\\u7528Texifier\\u8F6F\\u4EF6\\u7F16\\u8BD1\\u540E\\u53EF\\u4EE5\\u76F4\\u63A5\\u53BB\",(0,n.jsx)(e.code,{children:\".texpadtmp\"}),\"\\u6587\\u4EF6\\u4E2D\\u627E\\u5230\\uFF0C\\u79FB\\u52A8\\u5230\\u4E0Etex\\u6587\\u4EF6\\u540C\\u7EA7\\u5373\\u53EF\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",raw:`latexdiff [OPTIONS] old.tex new.tex > diff.tex\n\nlatexdiff --flatten old.tex new.tex > diff.tex\n\nlatexdiff old.tex new.tex --type=UNDERLINE > diff.tex\n\n\n# \\u7F16\\u8BD1pdf\npdflatex -interaction=nonstopmode diff.tex\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"latexdiff\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [OPTIONS] old.tex new.tex \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" diff.tex\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"latexdiff\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --flatten\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" old.tex\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" new.tex\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" >\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" diff.tex\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"latexdiff\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" old.tex\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" new.tex\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --type=UNDERLINE\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" >\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" diff.tex\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u7F16\\u8BD1pdf\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pdflatex\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -interaction=nonstopmode\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" diff.tex\"})]})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5B8C\\u6574\\u53C2\\u6570\\u53EF\\u4EE5\\u53C2\\u8003\",(0,n.jsx)(e.a,{href:\"https://mirrors.concertpass.com/tex-archive/support/latexdiff/doc/latexdiff-man.pdf\",children:\"\\u5B98\\u7F51\\u6587\\u6863\"})]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"--flatten\"}),\"\\uFF1A\\u5982\\u679Clatext\\u5206\\u522B\\u5728\\u4E24\\u4E2A\\u6587\\u4EF6\\u5939\\u4E0B\\uFF0C\\u5185\\u5BB9\\u4E2D\\u6709\\u7684\",(0,n.jsx)(e.code,{children:\"\\\\input\"}),\"\\u548C\",(0,n.jsx)(e.code,{children:\"\\\\include\"}),\"\\u547D\\u4EE4\\u3002\\u5728\\u5171\\u540C\\u6587\\u4EF6\\u5939\\u4E0B\\u6267\\u884Clatexdiff\\uFF0C\\u5E76\\u4F7F\\u7528\\u8BE5\\u53C2\\u6570\\u5E73\\u94FA\\u3002\",(0,n.jsx)(e.em,{children:\"\\u65E0\\u6CD5flatten\\u56FE\\u7247\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"--type/-t\"}),\"\\uFF1A\\u6B64\\u5904\\u7684markupstyle\\u53EB\\u505A\\u6807\\u6CE8\\u98CE\\u683C\\uFF0C\\u9ED8\\u8BA4\\u503C\\u662FUNDERLINE\\uFF0C\\u610F\\u601D\\u662F\\u7528\\u84DD\\u5B57\\u52A0\\u4E0B\\u5212\\u7EBF\\u6807\\u6CE8\\u6DFB\\u52A0\\uFF0C\\u7528\\u7EA2\\u8272\\u52A0\\u5220\\u9664\\u7EBF\\u6807\\u6CE8\\u5220\\u9664\\u3002\\uFF08\\u53EF\\u9009\\u503C\\uFF1ACTRADITIONAL/TRADITIONAL/CFONT/BOLD\\uFF09\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/post/assets/2024-11-11-latexdiff-20241111085306.png\",alt:\"\",width:\"1097\",height:\"563\",blurDataURL:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAACVBMVEX+/v7w7/T19fmrQJCoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAHklEQVR4nCXGsQ0AAAyDMOD/oyulngxQTLqlv6ziAAHFAB4DSrpuAAAAAElFTkSuQmCC\"})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u63D2\\u4EF6\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#\\u63D2\\u4EF6\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u63D2\\u4EF6\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`latexdiff\\u8FD9\\u4E2A\\u5DE5\\u5177\\u81EA\\u5E26\\u4E86\\u4E24\\u4E2A\\u5176\\u4ED6\\u7684\\u5DE5\\u5177\\uFF0C\\u5206\\u522B\\u662Flatexrevise\\u548Clatexdiff-vc\\uFF0C\\u65E0\\u9700\\u989D\\u5916\\u5B89\\u88C5\\u3002\n`,(0,n.jsx)(e.strong,{children:\"latexrevise\"}),\" \\u53EF\\u4EE5\\u5E2E\\u52A9\\u6211\\u4EEC\\u5C06diff.tex\\u4E2D\\u7684\\u6807\\u8BB0\\u5168\\u90E8\\u5220\\u6389\"]}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"\\u53C2\\u6570\"}),(0,n.jsx)(e.th,{children:\"\\u63CF\\u8FF0\"}),(0,n.jsx)(e.th,{children:\"\\u53C2\\u6570\\u4F7F\\u7528\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"SIMPLIFY\"}),(0,n.jsx)(e.td,{children:\"\\u4EC5\\u4FDD\\u7559\\u6DFB\\u52A0\\u5220\\u9664\\u4E24\\u7C7B\\u6807\\u6CE8\"}),(0,n.jsx)(e.td,{children:\"-s \\u6216\\u2013simlify\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"ACCEPT\"}),(0,n.jsx)(e.td,{children:\"\\u4EC5\\u4FDD\\u7559\\u6DFB\\u52A0\\u6807\\u6CE8\\u5185\\u7684\\u5185\\u5BB9\"}),(0,n.jsx)(e.td,{children:\"-a \\u6216\\u2013accept\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"DECLINE\"}),(0,n.jsx)(e.td,{children:\"\\u4EC5\\u4FDD\\u7559\\u5220\\u9664\\u6807\\u6CE8\\u7684\\u5185\\u5BB9\"}),(0,n.jsx)(e.td,{children:\"-d \\u6216 --decline\"})]})]})]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-container\",children:(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",raw:`# \\u63A5\\u53D7\\u6240\\u6709\\u4FEE\\u6539\nlatexrevise -a diff.tex > accept.tex\n# \\u56DE\\u6EDA\\u6240\\u6709\\u4FEE\\u6539\\uFF0C\\u8FD8\\u539F\\u56DE\\u672A\\u4FEE\\u6539\\u7684\\u7248\\u672C\nlatexrevise -d diff.tex > decline.tex\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u63A5\\u53D7\\u6240\\u6709\\u4FEE\\u6539\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"latexrevise\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -a\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" diff.tex\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" >\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" accept.tex\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u56DE\\u6EDA\\u6240\\u6709\\u4FEE\\u6539\\uFF0C\\u8FD8\\u539F\\u56DE\\u672A\\u4FEE\\u6539\\u7684\\u7248\\u672C\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"latexrevise\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -d\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" diff.tex\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" >\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" decline.tex\"})]})]})})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"reference\",children:[(0,n.jsx)(e.a,{className:\"header-anchor\",href:\"#reference\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Reference\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://tex.stackexchange.com/questions/625608/how-to-use-latexdiff-to-compare-changes-in-bib-files\",children:\"How to use latexdiff to compare changes in .bib files?\"})})]})}function E(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,Object.assign({},l,{children:(0,n.jsx)(o,l)})):o(l)}var b=E;return m(B);})();\n;return Component;"
  },
  "_id": "post/2024-11-11-latexdiff.md",
  "_raw": {
    "sourceFilePath": "post/2024-11-11-latexdiff.md",
    "sourceFileName": "2024-11-11-latexdiff.md",
    "sourceFileDir": "post",
    "contentType": "markdown",
    "flattenedPath": "post/2024-11-11-latexdiff"
  },
  "type": "Post",
  "parDir": "post",
  "slug": "/post/2024-11-11-latexdiff",
  "slugAsParams": "2024-11-11-latexdiff"
}